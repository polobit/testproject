<?xml version="1.0" encoding="utf-8"?>
<appengine-web-app xmlns="http://appengine.google.com/ns/1.0">
	<application>agilecrmbeta</application>
	<module>default</module>
	<version>sandbox</version>
	<threadsafe>true</threadsafe>
	<sessions-enabled>true</sessions-enabled>
	<system-properties>
		<property name="java.util.logging.config.file" value="WEB-INF/logging.properties" />
		<property name="com.google.gdata.DisableCookieHandler" value="true" />
	</system-properties>

	<use-google-connector-j>true</use-google-connector-j>

	<!--instance and scaling settings-->
  <instance-class>F4</instance-class>
  <automatic-scaling>
    <max-idle-instances>2</max-idle-instances>
    <min-pending-latency>90ms</min-pending-latency>
  </automatic-scaling>

	<!-- Error pages configuration <static-error-handlers> <handler file="error/overquota.html" 
		error-code="over_quota" /> <handler file="error/dos.html" error-code="dos_api_denial" 
		/> <handler file="error/timeout.html" error-code="timeout" /> </static-error-handlers> 
		End of error pages configuration -->

	<!-- Configure static files -->
	<static-files>

		<!-- Images -->
		<include path="/**.png" expiration="7d" />
		<include path="/**.gif" expiration="7d" />
		<include path="/**.jpg" expiration="7d" />
		<include path="/**.ico" expiration="7d" />
		<!-- End of images -->

		<!-- Fonts -->
		<include path="/**.woff" expiration="7d" />
		<!-- End of Fonts -->


		<!-- Sounds -->
		<include path="/**.mp3" expiration="7d" />
		<!-- End of Sounds -->

		<!-- CSS -->
		<include path="/**.css" expiration="7d">
			<http-header name="Access-Control-Allow-Origin" value="https://cdnapp.agilecrm.com/" />
			<http-header name="Vary" value="Accept-Encoding" />
		</include>


		<!-- CSS -->

		<!-- JS -->
		<include path="/**.js" expiration="7d" />

		<!-- End of JS -->

		<!-- Error handlers -->
		<include path="error/**.html" />

		<!-- End of Error handlers -->
      <exclude path="/css/misc/*.css" />
	  <exclude path="/css/all.css" />

	</static-files>

	<!-- End of static files configuration -->

	<pagespeed>
		<disabled-rewriter>FlushSubresources</disabled-rewriter>
		<domain-to-rewrite>cdnapp.agilecrm.com</domain-to-rewrite>
		<enabled-rewriter>CollapseWhitespace</enabled-rewriter>
		<!-- <url-blacklist>https://*.*.*/war/tpl/min/*.js</url-blacklist> <url-blacklist>https://*.*.*/war/tpl/min/precompiled/*.js</url-blacklist> 
			<url-blacklist>https://*.*.*/war/tpl/min/precompiled/*.html</url-blacklist> 
			<url-blacklist>https://*.*.*/war/widgets/*.js</url-blacklist> -->
		<url-blacklist>https://*/formbuilder/assets/templates/*</url-blacklist>
		<url-blacklist>https://*/war/misc/formbuilder/*</url-blacklist>
		<url-blacklist>https://*/misc/modal-templates/*</url-blacklist>
		<enabled-rewriter>MoveCssToHead</enabled-rewriter>
		<enabled-rewriter>CombineCss</enabled-rewriter>
		<enabled-rewriter>MinifyCss</enabled-rewriter>
		<!-- <enabled-rewriter>ImageResize</enabled-rewriter> -->
		<!-- <enabled-rewriter>ImageAddDimensions</enabled-rewriter> -->

	</pagespeed>


</appengine-web-app>
