<script id = "contacts-custom-view-image-template" type="text/html">
	<td class="data" data="{{id}}">
    	<div class="overflow-hidden thumb-sm" style="width:15em;">
			{{#if_equals type "COMPANY"}}
					<img class="img-inital r r-2x pull-left" {{getCompanyImage "40"}}/></img>
				{{else}}
					<img class="img-inital r r-2x" data-name="{{dataNameAvatar properties 40}}" src="{{gravatarurl properties }}" />	
			{{/if_equals}}
    	</div>
	</td>
</script>

<script id = "contacts-custom-view-basic_info-template" type="text/html">
	<td class="data icon-append-mobile" data="{{id}}">
    	<div class="table-resp"  style="width:15em;">
    	<div class="thumb-sm agile-img m-r-sm" style="margin-right:10px">
        	{{#if_contact_type "PERSON"}}
        		<img class="img-inital r r-2x"  title="{{getPropertyValue properties 'first_name'}} {{getPropertyValue properties 'last_name'}}" data-name="{{dataNameAvatar properties}}" src="{{gravatarurl properties 40}}"/>
        	{{/if_contact_type}}
        
			{{#if_contact_type "COMPANY"}}
        		<img class="r r-2x" title="{{getPropertyValue properties 'name'}}" {{getCompanyImage "40" "display:inline;"}}/>
        	{{/if_contact_type}}
    	</div>
    	<div class="agile-thumb agile-thumb-view" style="width:calc(100% - 60px);">
        	{{#if_contact_type "PERSON"}}
        		<a class="text-cap custom-link">{{getPropertyValue properties "first_name"}}
        		{{getPropertyValue properties "last_name"}} </a></br>
        		<div><small class="text-muted m-t-xs">{{getPropertyValue properties "email"}}</small></div>
        	{{/if_contact_type}}
        
			{{#if_contact_type "COMPANY"}}
        		<a class="text-cap">{{getPropertyValue properties "name"}}</a></br>
        		<div><small class="text-muted m-t-xs">{{getPropertyValue properties "url"}}</small></div>
        	{{/if_contact_type}}
	</div>
	</div>
	</td>
</script>

<script id = "contacts-custom-view-name-template" type="text/html">
	<td class="data" data="{{id}}">
    	<div class="text-ellipsis" style="width:15em;">
    		<a class="text-cap">{{getPropertyValue properties "name"}}</>
    	</div>
	</td>
</script>

<script id = "contacts-custom-view-first_name-template" type="text/html">
	<td class="data" data="{{id}}">
    	<div class="text-ellipsis" style="width:15em;">
    		<a class="text-cap">{{getPropertyValue properties "first_name"}}</>
    	</div>
	</td>
</script>

<script id = "contacts-custom-view-last_name-template" type="text/html">
	<td class="data" data="{{id}}">
    	<div class="text-ellipsis" style="width:15em;">
        	<a class="text-cap">{{getPropertyValue properties "last_name"}}</a>
        </div>
	</td>
</script>

<script id = "contacts-custom-view-phone-template" type="text/html">
	<td class="data" data="{{id}}">
        <div class="text-ellipsis" style="width:15em;">
    		<a class="text-cap">{{getPropertyValue properties "phone"}}</a>
        </div>
	</td>
</script>

<script id = "contacts-custom-view-address-template" type="text/html">
	<td class="data" data="{{id}}">
        <div class="text-ellipsis" style="width:15em;">
    		<a class="text-cap">{{#address_Template properties}}{{/address_Template}}</a>
        </div>
	</td>
</script>

<script id = "contacts-custom-view-website-template" type="text/html">
	<td class="data" data="{{id}}">
        <div class="text-ellipsis" style="width:15em;">
    		<a class="text-cap">{{getPropertyValue properties "website"}}</a>
        </div>
	</td>
</script>

<script id = "contacts-custom-view-email-template" type="text/html">
	<td class="data" data="{{id}}">
        <div class="text-ellipsis" style="width:15em;">
    		<a class="text-cap">{{getPropertyValue properties "email"}}</a>
        </div>
	</td>
</script>

<script id = "contacts-custom-view-company-template" type="text/html">
	<td class="data" data="{{id}}">
      <div class="text-ellipsis" style="width:15em;">
      	<a class="text-cap">{{getPropertyValue properties "company"}}</a>
      </div>
	</td>
</script>

<script id = "contacts-custom-view-tags-template" type="text/html">
	<td class="data" data="{{id}}">
	 <div class="overflow-hidden line-clamp line-clamp-2" style="width:15em;"> 	
		{{#each tags}}
	    	<span class="label bg-light dk text-tiny">{{this}}</span>	
		{{/each}}
	</div>
	</td>
</script>

<script id = "contacts-custom-view-created_time-template" type="text/html">
	<td class='data' data='{{id}}'>
    <div class="text-ellipsis" style="width:15em;">
		<a class="text-cap">{{epochToHumanDateInFormat  created_time}}</a>
    </div>
	</td>
</script>

<script id = "contacts-custom-view-updated_time-template" type="text/html">
	<td class='data' data='{{id}}'>
    <div class="text-ellipsis" style="width:15em;">
		{{#if updated_time}}
			{{epochToHumanDateInFormat  updated_time}}
		{{/if}}
    </div>
	</td>
</script>

<script id = "contacts-custom-view-title-template" type="text/html">
	<td class='data' data='{{id}}'>
    <div class="text-ellipsis" style="width:15em;">
		<a class="text-cap">{{getPropertyValue properties "title"}}</a>
    </div>
	</td>
</script>

<script id = "contacts-custom-view-url-template" type="text/html">
	<td class='data' data='{{id}}'>
    <div class="text-ellipsis" style="width:15em;">
		<a href="{{getPropertyValue properties 'url'}}" class="text-cap">{{getPropertyValue properties "url"}}</a>
    </div>
	</td>
</script>

<script id = "contacts-custom-view-lead_owner-template" type="text/html">
	<td class='data' data='{{id}}'>
       <div class="text-ellipsis" style="width:15em;">
	   	<a class="text-cap">{{owner.name}}</a>
       </div>
	</td>
</script>

<script id = "contacts-custom-view-owner-template" type="text/html">
	<td class='data' data='{{id}}'>
       <div class="text-ellipsis" style="width:15em;">
	   	<a class="text-cap">{{owner.name}}</a>
       </div>
	</td>
</script>

<script id = "contacts-custom-view-star_value-template" type="text/html">
	<td class='data' data='{{id}}'>
		 <ul class="m-n p-n list-none" style="width:15em;">
			{{setupRating star_value}}
		</ul>
	</td>
</script>

<script id = "contacts-custom-view-lead_score-template" type="text/html">
	<td class='data' data='{{id}}'>
       <div style="width:15em;">
		  {{lead_score}}
       </div>
	</td>
</script>

<script id = "contacts-custom-view-last_contacted-template" type="text/html">
	<td class='data' data='{{id}}'>
       <div class="text-ellipsis" style="width:15em;">
       {{#if_equals last_contacted 0}}
       
	   	{{else}}
	   	 <span>{{epochToHumanDateInFormat  last_contacted}}</span>	
	   	 		{{#if_equals last_contacted last_emailed}}<i class="fa fa-envelope-o text-muted m-l-xs"></i>
	   	 		{{else}}
	   	 			{{#if_equals last_contacted last_campaign_emaild}}<i class="fa fa-sitemap text-muted m-l-xs"></i>
	   	 			{{else}}
	   	 				{{#if_equals last_contacted last_called}}<i class="fa fa-phone text-muted m-l-xs"></i>{{/if_equals}}
	   	 			{{/if_equals}}
	   	 		{{/if_equals}}
	   	 {{/if_equals}} 
       </div>
	</td>
</script>


<script id ="contacts-custom-view-custom-template" type="text/html">
	<td class='data' data='{{id}}'>
       <div class="text-ellipsis" style="width:15em;">
		  <span>{{value}}</span>
       </div>
	</td>
</script>

<script id = "contacts-custom-view-custom-date-template" type="text/html">
	<td class='data' data='{{id}}'>
       <div class="text-ellipsis" style="width:15em;">
	   	  <span>{{stringToHumanDateInFormat value}}</span>
       </div>
	</td>
</script>

<script id = "contacts-custom-view-last_contacted-template" type="text/html">
	<td class='data' data='{{id}}'>
       <div class="text-ellipsis" style="width:15em;">
       {{#if_equals last_contacted 0}}
       
	   	{{else}}
	   	 <span>{{epochToHumanDateInFormat  last_contacted}}</span>	
	   	 		{{#if_equals last_contacted last_emailed}}<i class="fa fa-envelope-o text-muted m-l-xs"></i>
	   	 		{{else}}
	   	 			{{#if_equals last_contacted last_campaign_emaild}}<i class="fa fa-sitemap text-muted m-l-xs"></i>
	   	 			{{else}}
	   	 				{{#if_equals last_contacted last_called}}<i class="fa fa-phone text-muted m-l-xs"></i>{{/if_equals}}
	   	 			{{/if_equals}}
	   	 		{{/if_equals}}
	   	 {{/if_equals}} 
       </div>
	</td>
</script>

<script id = "contacts-custom-view-last_emailed-template" type="text/html">
	<td class='data' data='{{id}}'>
       <div class="text-ellipsis" style="width:15em;">
	   	  <span>{{epochToHumanDate "dd mmm yyyy" last_emailed}}</span>
       </div>
	</td>
</script>

<script id = "contacts-custom-view-last_called-template" type="text/html">
	<td class='data' data='{{id}}'>
       <div class="text-ellipsis" style="width:15em;">
	   	  <span>{{epochToHumanDate "dd mmm yyyy" last_called}}</span>
       </div>
	</td>
</script>

<script id = "contacts-custom-view-popover-template" type="text/html">
       <div class="data panel-default" data={{id}}>
	   
       	<div class="text-cap panel-heading text-ellipsis"><div class="text-ellipsis inline-block" style="width:80%">{{getPropertyValue properties "first_name"}}
        		{{getPropertyValue properties "last_name"}}</div>
				 <div class="pull-left" style="width:80%"><div id='star' class="contact-star"></div></div>
        		<div>
	   	  <div class="unselectable m-t-n-xs" id="score" unselectable="on" onselectstart="return false">
							<div  class="text-lg score-view">
								<img src="{{getS3ImagePath '../../img/flame.png'}}" style="width:13px;"> 
								<span class="inline-block v-middle">
									{{#if lead_score}} <span id="lead-score">{{lead_score}}</span>&nbsp;
									{{else}} <span id="lead-score">0</span>&nbsp;
									{{/if}}
								</span>
							{{#canEditContact owner.id}}
								<span class="contact-score-control m-l-xs">
									<ul class="inline-block list-none m-n p-n">
										<li style="height: 9px"><i class="icon-sort-up c-p" id="add-score"
											style="height: 10px;"></i></li>
										<li><i class="icon-sort-down c-p" id="minus-score"
											style="height: 10px;"></i></li>
									</ul>
								</span>
							{{/canEditContact}}
							</div>
						</div>
						</div>
        		</div>
        		<div class="panel-body">
       		<div class="b-b b-light p-b-xs"><div class="pull-left"><i class="icon icon-user text-sm v-middle"></i></div>
       			
       	<div class="contact-owner text-base m-l-md" id="change-owner-element">
        	
		{{#canEditContact owner.id}}
        	<a id="contact-owner-popover" class="custom-color" data={{owner.id}}>{{owner.name}}</a>

        	{{else}}
        		<a id="contact-owner-static" class="custom-color" data={{owner.id}}>{{owner.name}}</a>

        {{/canEditContact}}
        	{{#canEditContact owner.id}}
        	<div class="dropdown" id="change-owner-ul-popover"  style="display: none">
        		 <a class="btn btn-sm dropdown-toggle btn-default" data-toggle="dropdown">Change Owner <span class="caret"></span></a>
        		 <ul id='contact-detail-owner-popover' class="dropdown-menu"></ul>
        	</div> 
			{{/canEditContact}}
       </div>
       </div>
       		{{#property_is_exists "company" properties}}
       		<div class="b-b b-light p-b-xs">
       		<div class="pull-left"><i class="icon icon-building text-sm v-middle"></i></div>
       		<div class="text-ellipsis m-l-md text-cap" >
       		<a class="text-cap">{{getPropertyValue properties "title"}}</a> 
       		
      		<a class="text-cap" href="#company/{{contact_company_id}}">{{getPropertyValue properties "company"}}</a></div>
     		
       		</div>
       		{{/property_is_exists}}
       			{{#property_is_exists "phone" properties}}
        					<div class="b-b b-light p-b-xs">
        					<div class="pull-left"><i class="icon icon-call-end text-sm v-middle"></i></div>
        					{{#multiple_Property_Element_List "phone" properties id}}
        					{{#each this}}
       					<div class="text-ellipsis m-l-md" style="width:13em;">
    		<a class="text-cap">{{value}}</a>
        </div>
        {{/each}}
        {{/multiple_Property_Element_List}}
        					</div>
        					{{/property_is_exists}}
					{{#property_is_exists "email" properties}}
							<div class="b-b b-light p-b-xs">
							<div class="pull-left"><i class="icon icon-envelope text-sm v-middle"></i></div>
								{{#multiple_Property_Element_List "email" properties id}}

								<div class="contact-email text-sm l-h p-l-md"> 
									{{#each this}}

										<div class="text-ellipsis">
											<a href='#send-emails/{{value}}' class="email">{{value}}</a> 
										</div>

<div class="clearfix"></div>
									{{/each}}
									</div>
									
									
								
									{{/multiple_Property_Element_List}}
								
										</div>
								{{/property_is_exists}}

								<div class="m-t-xs">
								 <div id="added-tags-popover" class="text-ellipsis pull-left" style="width:13em;"> 	
				{{#each tags}}
	    			<span class="label bg-light text-tiny">{{this}}</span>	
							{{/each}}
						</div>
						<div id="addTagsForm-popover" style="display: none;" class="m-b-none">
							<div class="control-group save-tag m-b-none">
								<input name="" type="text" id="addTags"
									class="tags-typeahead ignore-comma-keydown form-control inline-block"
									style="width: 60%" placeholder="Enter tag" />
								<span><a href="#" class="btn btn-sm btn-default m-l-sm m-r-xs" id="contact-add-tags-popover">Add</a></span>
							</div>
						</div>
						{{#canEditContact owner.id}}
			<div class="pull-left"><a href="#" id="add-tags-popover" rel="tooltip"
							data-original-title="addtag" data-placement="top" class="text-xs  pull-left"> <i class="fa fa-plus text-info"></i><span class="text-info" >Tag</span></a></div>
						{{/canEditContact}}

						
					</div>

	   	    </div>
	   	          </div>	
</script>
