<script id="push-notification-collection-template" type="text/html">
	<div class="wrapper-md lter bg-light b-b">
		<div class="row">
    		<div class="col-md-12">
        		<h3 class="font-thin h3 pull-left">Push Notifications</h3>
					<a href="#push-notification-add" class="btn btn-sm btn-default pull-right btn-addon" style="position:relative"><span><i class="icon-plus-sign" /></span> Add Push Notification</a>
				<div class="clearfix"></div> 
    		</div>
		</div>
	</div>
	<div class="wrapper-md">
	<div class="row">
 		<div class="col-md-9">
			{{#unless this.length}}
			<div style="height: 245px;">
				<div class="alert bg-white">
					<div class="slate-content  p-md">
						<div class="box-left pull-left m-r-md">
							<img alt="Clipboard" src="{{getS3ImagePath '/img/clipboard.png'}}" />
						</div>
						<div class="box-right pull-left">
							<h4 class="m-t-none">Engage with your audience easily through Browser Push Notification.</h4>
								<div class="text">Define the Push Notifications and engage with your audience both on the web page and off the web page.
								</div>
								<a href="#push-notification-add" class="m-t-xs btn blue btn-slate-action btn-info btn-addon btn-sm"><i class="icon-plus-sign"></i> Add Push Notification</a>
						</div>
						<div class="clearfix"></div>
						<br>
						<p class="text" style="text-align:center;">For Push Notifications to work, Just complete the below 3 steps and you are ready to Go. </p>
						<div id="whitelist-disabled">
							<pre class="prettyprint">1.Create a directory with name notification in your web hosting directory and place the below files 
   under it.<br>  <a href="/downloadpush?q=json" style="color: blue">Click here to dowhload manifest.json</a><br>  <a href="/downloadpush?q=js" style="color: blue">Click here to download agile-servise-workers.js</a><br>2.Create a Web rule of Type Enable Push Notification<br>3.Your website should be certified (Valid HTTPS)
							</pre>
						</div>
					</div>
				</div>
			</div>
		{{/unless}}
		{{#if this.length}}
		<div class="data-block">
			<div class="data-container">
				<div class="panel panel-default">
					<div class="panel-heading">Push Notifications List</div>
					<table class="table table-striped showCheckboxes c-p agile-table tableHeader tab-layout" url="core/api/push/notifications/bulk" data-resizable-columns-id="push-notification-template">
							<thead>
								<tr>
									<th data-resizable-column-id="form_title" class="text-ellipsis">Name</th>
									<th data-resizable-column-id="title" class="text-ellipsis">Title</th>
									<th data-resizable-column-id="last_modified" class="text-ellipsis">Modified Time</th>
								</tr>
							</thead>
						<tbody id="push-notification-model-list" class="agile-edit-row" route="push-notification-edit/"></tbody>
					</table>
				</div>
			</div>
		</div>
		{{/if}}
 	</div>

	<div class="col-md-3">
        <div class="data-block">
            	<h4 class="h4 m-t-none m-b-sm"> What is Push Notification?	</h4>
				<p>Engage with your audience easily through Browser notification. Schedule and send messages to engage the right users at the most relevant time through our Marketing Campaigns.
				</p>
				<img src="//doxhze3l6s7v9.cloudfront.net/beta/static//img/push-noty-template.png" class="img-responsive w-full">
    	</div>
	</div>
 </div>
</div>
</script>

<script id="push-notification-model-template" type="text/html">
	<td  data="{{id}}" class="data c-p">
			<div class="table-resp">{{notificationName}}</div>
    </td>
    <td>
		<div class="table-resp">{{notificationTitle}}</div>
	</td>
	<td>
			<span style="display:inline-block;vertical-align:top;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:100%;">
				<small class="edit-hover text-muted">
					<i class="fa fa-clock-o m-r-xs"></i>
					<time class="form-modified-time" datetime="{{epochToHumanDate "" updated_time}}">{{epochToHumanDate "ddd mmm dd yyyy HH:MM:ss" updated_time}}</time>
				</small>
			</span>
	</td>
	</br>
</script>

<script id="push-notification-add-template" type="text/html">
<div class="wrapper-md lter bg-light b-b">
		<div class="row">
    		<div class="col-md-12">
				{{#if id}}
					<h3 class="formheading h3 font-thin"> <i class="fa fa-pencil-square"> </i> Edit Push Notification</h3>
				{{else}}
					<h3 class="formheading h3 font-thin"> <i class="fa fa-plus-circle"></i> Add Push Notification	</h3>
				{{/if}}
				<div class="clearfix"></div> 
    		</div>
		</div>
	</div>

<div class="wrapper-sm">
<div class="row">
<div class="col-md-8">
    <div class="panel panel-default">
    <div class="panel-body">
        <form id='notificationForm' name="notificationForm" class="form-horizontal" accept-charset="UTF-8">
            <fieldset>
           	 <div class="control-group form-group">
                      <label class="control-label col-sm-2 col-xs-12">Name<span class="field_req">*</span></label>
                	 <div class="controls col-sm-10 col-xs-12">
                    	 <input type="text" placeholder="Name of Push Notification" class="required form-control" id="notification-name" name="notificationName"/>
                    </div>
                </div>

				<div class="control-group form-group">
                      <label class="control-label col-sm-2 col-xs-12">Title<span class="field_req">*</span></label>
                	 <div class="controls col-sm-10 col-xs-12">
                    	 <input type="text" maxlength=45 placeholder="Maximum 45 Characters." class="required form-control" id="notification-title" name="notificationTitle"/>
                    </div>
                </div>

                <div class="control-group form-group">
                    <label class="control-label col-sm-2 col-xs-12">Message<span class="field_req">*</span></label>
                	 <div class="controls col-sm-10 col-xs-12">
                    	 <textarea type="text" maxlength=160 placeholder="Maximum 160 Characters." class="required form-control " id="notification-message" name="notificationMessage"/>
                    </div>
                </div>
               
               <div class="control-group form-group">
                      <label class="control-label col-sm-2 col-xs-12">Destination URL</label>
                	 <div class="controls col-sm-10 col-xs-12">
                    	 <input type="url" placeholder="URL to open when user clicks the push notification." class="form-control" id="notification-link" name="notificationLink"/>
                    </div>
                </div>

                <div class="control-group form-group">
                      <label class="control-label col-sm-2 col-xs-12">Image URL</label>
                	 <div class="controls col-sm-8 col-xs-12">
                    	 <input type="url" placeholder="Image address url (Recommended 200*200 px)" class="form-control" id="notification-icon" name="notificationIcon"/>
                	</div>
                	 <a class="btn btn-xm btn-primary" id="browseBtn" onclick="$('#uploadIconToS3Btn').click() ">Upload Image</a>
			        <input type="file" id="uploadIconToS3Btn" class="hidden">
                </div>

               <div class="control-group form-group col-sm-8">
			   <div class="control-label col-sm-3 col-xs-5">Tracking</div>
			        <div class="controls col-sm-5 col-xs-5">
			              <select name="push_param" class="form-control">
			                   <option value="YES">Yes</option>
			                   <option value="YES_AND_PUSH_EMAIL_ONLY"> Yes &amp; Push (Email only)</option>
			                   <option value="YES_AND_PUSH">Yes &amp; Push</option>
			               </select>
			         </div>
			 </div>
			 
				<div class="clearfix"></div>           
				<div class="line ling-lg b-b"></div>
                <div class="form-actions col-sm-offset-2 col-sm-8">          
					<a href="#push-notification" class="btn btn-sm btn-default " id="push-notification-close">Close</a>
                    <a href="#push-notification"  id="saveNotification" class="btn btn-sm btn-info save">Save Notification</a>
                    &nbsp;&nbsp;<span id="msg"></span>  
                </div>

                {{#if id}} <input type="text" name="id" class="hide" value="{{id}}" />
			{{/if}}
            </fieldset>
        </form>
    </div>
</div>
</div>

<div class="col-md-4" style="padding:1px 7px 0px 0px" >
    <div class="panel panel-default" >
      <div class="panel-heading h4">
           <p>Preview</p>
       </div>
      <div class="overflow-hidden" style="margin: 10px; box-shadow: 1px 1px 20px 0px #afaaaa;">
                <div class="notification-demo">
                    <div class="row" style="padding: 10px;">
                       <div class="col-md-3 col-xs-3" style="width: 25%">
                            <img id="prev-notification-icon" class="js-custom-notifications-image" src="https://media.licdn.com/mpr/mpr/shrink_200_200/AAEAAQAAAAAAAAWJAAAAJDQwNmRhNGNmLTlmNWMtNGZkMC1hZDJhLWI0ODE1NDQxMmNhNA.png" alt="" style="width: 140%;">
                        </div>
                            <div class="col-md-9 col-xs-9" style="padding-left: 20px;">
                                <p style="color: black;" id = "prev-notification-title" class="h4 p-b-sm">Notification Title </p>
                                <p style="color: black;" id="prev-notification-message" class="h5 p-b-sm">Notification Message </p>
                                <p  style="color: #989898;" class="h6 p-b-xs"><b>domain.agilecrm.com</b> </p>
                            </div>
                        </div>
                    </div>
                </div>
			</div>
			 <a class="btn btn-xm btn-primary" id="previewBtn" btn-value="allow" onclick="">Send Preview</a>
</div>
</div>
</div>
</script>