
<script id="segmentation-custom-view-collection-template" type="text/html">
{{#hasMenuScope 'VISITORS'}}
{{#is_mobile}}
<!-- Newly Added -->

<!--  start visitorFilters Tab section -->
<div class="content-tabs-show m-none visitor-filters-tab" id="visitorFilters" role="tablist" aria-multiselectable="true">
     <div class="panel panel-default m-b-sm bg-transparent">
       <div class="panel-heading" role="tab" id="headingOne">
         <h4 class="panel-title">
           <a role="button" data-toggle="collapse" data-parent="#visitorFilters" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"  class="collapsed" style="padding-left:17px;">
             Filters
           </a>
         </h4>
       </div>
       <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
         <div class="panel-body">
               <div class="" id="segmentation-lhs-filters-toggle" >
               <div class="data-block">
               <div id="lhs_filters_segmentation">
               </div>
               </div>
         </div>
       </div>
     </div>  
</div>

<!--  end visitorFilters Tab section -->

<div class="hbox hbox-auto-xs hbox-auto-sm">
<div class="">
   <div id="right-pane">
      <div class="visitors-div">
         <div class="dta-contatiner table-responsive b-n">
            <div class="panel panel-default m-b-none b-n no-radius" style="overflow-x:hidden;">
               {{#unless this.length}}
               <div class="m-l-sm" id="slate">
               </div>
               {{/unless}}
               {{#if this.length}}
               <table id="visitors-table" class="table b-n no-radius  noCheckbox onlySorting panel agile-table " style="table-layout:auto">
                  <div class="filter-criteria">
                  </div>
                  <tbody id="segmentation-custom-view-model-list" route="contact/">
                  </tbody>
               </table>
               {{/if}}
            </div>
         </div>
      </div>
   </div>
</div>
<!-- Newly Added -->
{{else}}
<!-- Newly Added -->
<div class="hbox hbox-auto-xs hbox-auto-sm">
<div class="col w-lg dk b-r bg-auto" id="segmentation-lhs-filters-toggle" >
   <div class="data-block">
      <div id="lhs_filters_segmentation">
      </div>
   </div>
</div>
<div class="col">
<div id="right-pane">
   <div class="wrapper bg-light padder-md padder-v m-r-sm p-r-none" style="border-bottom: 1px solid rgba(140, 139, 139, 0.2);">
      <div class="btn-toolbar m-l-none pos-rlt">
         <div class="filters-drp-down btn-group dropdown m-l-none" style="float: none;">
         <div class="">
            <h3 class="inline-block m-n text-black font-thin">{{agile_lng_translate 'menu' 'menu-visitors'}}
               <span style=" color: grey;"> <img border="0" src="//doxhze3l6s7v9.cloudfront.net/beta/static//img/help.png" style="height: 8px;vertical-align: top; position: relative;left: -5px;" rel="popover" data-placement="right" data-title:" data-content=" {{agile_lng_translate 'visitors' 'data-content-desc'}}" id="element" data-trigger="hover"">
               </span>
               <span id="visitors-count">{{contacts_count}}</span>               
               <a id="segmentation-left-filters-toggle" class="m-l-xs text-lg" data-toggle="tooltip" data-placement="right" title="" data-original-title="{{agile_lng_translate 'contacts-view' 'filters'}}">
                     <i id="icon-filter" class="fa fa-bars icon-white"></i>
               </a>
            </h3>            
         </div>
         </div>
         <div class="pull-right">
            <div class="btn-group pull-left m-r-xs" id="filter-list"></div>
            <div id="activities_date_range" class="btn-group pull-right activity-date-filter c-p m-r m-t-none">
               <span class="inline-block" style="padding: 3px 10px;">
               <i class="icon-calendar icon-large m-r-xs"></i>
               <span id="range" class="text-xs" style="vertical-align: text-top;">{{date-range "today" "-1"}}</span>
               </span>
               <span class="inline-block" style="padding: 4px 6px;border-left: 1px solid #eee;">
               <span class="caret  inline-block p-t-xs"></span>
               </span>
            </div>
         </div>
      </div>
   </div>
   <div class="visitors-div">
      <div class="dta-contatiner table-responsive m-r-sm ">
         <div class="panel panel-default" style="overflow-x:auto; border-left:none;">
            {{#unless this.length}}
            <div class="m-l-sm" id="slate">
            </div>
            {{/unless}}
            {{#if this.length}}
            <table id="visitors-table" class="table table-striped  noCheckbox onlySorting panel agile-table"   style="table-layout:auto">
               <div class="filter-criteria">
               </div>
               <thead>
                  <tr>
                     <th style="display: none;width:5%;"></th>
                     <th>{{agile_lng_translate 'contacts-view' 'Basic info'}}</th>
                     <!-- <th>{{agile_lng_translate 'contacts-view' 'Company'}}</th> -->
                     <th>{{agile_lng_translate 'contacts-view' 'Tags'}}</th>
                     <th class="text-ellipsis">{{agile_lng_translate 'contacts-view' 'Lead score'}}</th>
                     <th class="text-ellipsis">{{agile_lng_translate 'contacts-view' 'Star Value'}}</th>
                  </tr>
               </thead>
               <tbody id="segmentation-custom-view-model-list" route="contact/">
               </tbody>
            </table>
            {{/if}}
         </div>
      </div>
   </div>
</div>
<!-- Newly Added -->
{{/is_mobile}}
{{else}}
<div class="well">

<div class="alert bg-white text-center">
<div class="slate-content p-md text text-center">

<h4 style="opacity:0.8;margin-bottom:5px!important;">&nbsp;&nbsp; Sorry, you do not have the privileges to access Visitors.</h4>
<div class="text" style="opacity:0.6;">Please contact your admin or account owner to enable this option.
</div>

</div>
</div>
</div>{{/hasMenuScope}}
      
</script>
<script id="segmentation-custom-view-table-collection-template" type="text/html">
  <div class="dta-contatiner table-responsive m-r-sm contacts-inner-div">
   <div class="panel panel-default {{#is_mobile}} m-b-none {{/is_mobile}}" style="{{#is_mobile}} overflow-x:hidden; {{else}} overflow-x:auto; {{/is_mobile}} border-left:none;">
      {{#unless this.length}}
      <div class="m-l-sm" id="slate">
      </div>
      {{/unless}}
      {{#if this.length}}
      <table id="visitors-table" class="table table-striped noCheckbox onlySorting panel agile-table"  style="table-layout:auto">
         <div class="filter-criteria">
         </div>
         <thead>
            <tr>
               <th style="display: none; width:5%;"></th>
               <th>{{agile_lng_translate 'contacts-view' 'Basic info'}}</th>
               <!-- <th>{{agile_lng_translate 'contacts-view' 'Company'}}</th> -->
               <th>{{agile_lng_translate 'contacts-view' 'Tags'}}</th>
               <th class="text-ellipsis">{{agile_lng_translate 'contacts-view' 'Lead score'}}</th>
               <th class="text-ellipsis">{{agile_lng_translate 'contacts-view' 'Star Value'}}</th>
            </tr>
         </thead>
         <tbody id="segmentation-custom-view-table-model-list" route="contact/"
            >
         </tbody>
      </table>
      {{/if}}
   </div>
</div>
</script>


<script id="segmentation-custom-view-model-template" type="text/html"> 
{{#is_mobile}}

<td style="display: none;{{#if id}}{{else}} cursor:default;{{/if}}"></td>
<td class="data icon-append-mobile p-r-none" data="{{id}}" style="padding:10px 15px !important;" style="{{#if id}}{{else}} cursor:default;{{/if}}">
<div class="table-resp" style="width:calc(100vw - 45px);">
<div class="agile-img m-r-sm thumb-small" style="margin-right:10px">
   {{#if id}}
   <img class="img-inital r r-2x"  title="{{contact_name_necessary this}} " data-name="{{dataNameAvatar properties}}" src="{{gravatarurl properties 40}}"/>
   {{else}}
   <img class="r r-2x" src="{{defaultGravatarurl 36}}"/>
   {{/if}}
</div>
<div class="agile-thumb agile-thumb-view" style="width:calc(100% - 50px); margin-top:-5px;">
{{#if id}}
<a class="text-cap custom-link">{{getPropertyValue properties "first_name"}}
{{getPropertyValue properties "last_name"}} </a>
<div><small class="text-muted  block text-ellipsis l-h-xs">{{getPropertyValue properties "email"}}</small></div>
{{else}}
<span class="text-cap custom-link">{{agile_lng_translate 'contact-details' 'someone-visited-your-website'}} </span>
<div><small class="text-muted  block text-ellipsis l-h-xs">{{getPropertyValue properties "email"}}</small></div>
{{/if}}
</div>  
</div>
</td>


{{else}}

<td style="display: none;{{#if id}}{{else}} cursor:default;{{/if}}"></td>
<td class="data icon-append-mobile" data="{{id}}" style="{{#if id}}{{else}} cursor:default;{{/if}}">
<div class="table-resp" style="width:20em;">
<div class="agile-img m-r-sm thumb-sm" style="margin-right:10px">
   {{#if id}}
   <img class="img-inital r r-2x"  title="{{getPropertyValue properties 'first_name'}} {{getPropertyValue properties 'last_name'}}" data-name="{{dataNameAvatar properties}}" src="{{gravatarurl properties 40}}"/>
   {{else}}
   <img class="r r-2x" src="{{defaultGravatarurl 36}}"/>
   {{/if}}
</div>
<div class="agile-thumb agile-thumb-view" style="width:calc(100% - 60px);">
{{#if id}}
<a class="text-cap custom-link">{{contact_name_necessary this}}</a>
<div><small class="text-muted  block text-ellipsis">{{getPropertyValue properties "email"}}</small></div>
{{else}}
<span class="text-cap custom-link">{{agile_lng_translate 'contact-details' 'someone-visited-your-website'}} </span>
<div><small class="text-muted  block text-ellipsis">{{getPropertyValue properties "email"}}</small></div>
{{/if}}
</div>  
</div>
</td>
<!-- <td class="data" data="{{id}}" style="{{#if id}}{{else}} cursor:default;{{/if}}">
   <div class="text-ellipsis" style="width:15em;">
      <a class="text-cap">{{getPropertyValue properties "company"}}</a>
   </div>
</td> -->
<td class="data" data="{{id}}" style="{{#if id}}{{else}} cursor:default;{{/if}}">
   <div class="overflow-hidden line-clamp line-clamp-2 no-wrap" style="width:15em;">  
      {{#each tags}}
      <span class="label bg-light dk text-tiny">{{this}}</span> 
      {{/each}}
   </div>
</td>
<td class='data' data='{{id}}' style="{{#if id}}{{else}} cursor:default;{{/if}}width:10em;">
   <div >
      {{lead_score}}
   </div>
</td>
<td class='data text-ellipsis' data='{{id}}' style="{{#if id}}{{else}} cursor:default;{{/if}} width:10em;">
   {{#if id}}
   <ul class="m-n p-n list-none">
      {{setupRating star_value}}
   </ul>
   {{/if}}
</td>

{{/is_mobile}}
  
</script>


<script id="segmentation-custom-view-table-model-template" type="text/html">    
  <td style="display: none;{{#if id}}{{else}} cursor:default;{{/if}}"></td>
<td class="data icon-append-mobile {{#is_mobile}} p-r-none {{/is_mobile}}" data="{{id}}" {{#is_mobile}} style="padding:10px 15px !important;" {{/is_mobile}} style="{{#if id}}{{else}} cursor:default;{{/if}}">
<div class="table-resp" {{#is_mobile}} style="width:calc(100vw - 60px);" {{else}} style="width:20em;" {{/is_mobile}}>
<div class="agile-img m-r-sm {{#is_mobile}} thumb {{else}} thumb-sm {{/is_mobile}}" style="margin-right:10px">
   {{#if id}}
   <img class="img-inital r r-2x"  title="{{contact_name_necessary this}}" data-name="{{dataNameAvatar properties}}" src="{{gravatarurl properties 40}}"/>
   {{else}}
   <img src="{{defaultGravatarurl 36}}"/>
   {{/if}}
</div>
<div class="agile-thumb agile-thumb-view" {{#is_mobile}} style="width:calc(100% - 60px); margin-top:-5px;" {{else}} style="width:calc(100% - 60px);" {{/is_mobile}}>
{{#if id}}
<a class="text-cap custom-link">{{getPropertyValue properties "first_name"}}
{{getPropertyValue properties "last_name"}} </a>
<div><small class="text-muted  block text-ellipsis">{{getPropertyValue properties "email"}}</small></div>
{{else}}
<span class="text-cap custom-link">{{agile_lng_translate 'contact-details' 'someone-visited-your-website'}} </span>
<div><small class="text-muted  block text-ellipsis">{{getPropertyValue properties "email"}}</small></div>
{{/if}}
</div>  
</div>
</td>
<!-- <td class="data" data="{{id}}" style="{{#if id}}{{else}} cursor:default;{{/if}}">
   <div class="text-ellipsis" style="width:15em;">
      <a class="text-cap">{{getPropertyValue properties "company"}}</a>
   </div>
</td> -->
<td class="data" data="{{id}}" style="{{#if id}}{{else}} cursor:default;{{/if}}">
   <div class="overflow-hidden line-clamp line-clamp-2 no-wrap" style="width:15em;">  
      {{#each tags}}
      <span class="label bg-light dk text-tiny">{{this}}</span> 
      {{/each}}
   </div>
</td>
<td class='data' data='{{id}}' style="width:10em;{{#if id}}{{else}} cursor:default;{{/if}}">
   <div>
      {{lead_score}}
   </div>
</td>
<td class='data text-ellipsis' data='{{id}}' style="{{#if id}}{{else}} cursor:default;{{/if}}width:10em;">
   {{#if id}}
   <ul class="m-n p-n list-none">
      {{setupRating star_value}}
   </ul>
   {{/if}}
</td>  
  
</script>

<script id="segment-filter-list-collection-template" type="text/html">
<div class="btn-group"  id="filters-tour-step">
   <button class="btn btn-default btn-sm "><i class="icon-filter" id="segment-filter" style="margin-right:3px"></i></button>
   <button class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">
   <span class="caret"></span>
   </button>
   <ul id = "segment-filter-list-model-list" class="pull-right dropdown-menu">
   </ul>
</div>
</script>
<script id="segment-filter-list-model-template" type="text/html">
<span class="segment-lilist" id={{id}}>
<a id='{{id}}' class="visitor-filter pull-left text-ellipsis" data={{name}}  href="#segment-filter/{{id}}">{{name}}
</a>
<button data-name={{name}} class="remove-segment-filter pull-right hide"  id= "remove-segment-filter" data={{id}}>x</button>
<div class="clearfix"></div>
</span>
</script>