
<script type="text/html" id="phoneLogModal-template">
  <div class="modal-dialog">
    <div class="modal-content">
    <div class="modal-header">
        <button class="close" data-dismiss="modal">&times;</button>
        <h3 class="modal-title">
		{{#if_equals action "edit"}}	
			<i class="icon-edit"></i>&nbsp;{{agile_lng_translate 'logcall' 'edit-call-log'}}
			{{else}}
			<i class="icon-plus-sign"></i>&nbsp;{{agile_lng_translate 'call-log' 'log-a-call'}}	
		{{/if_equals}}
		</h3>
    </div>
    <div class="modal-body">
        <form id="phoneLogForm" name="phoneLogForm" method="post" class="form-horizontal">
            <fieldset>
              {{#if_equals action "edit"}}	
					<input name="id" type="hidden"/>
					<input name="created_time" type="hidden"/>					
			{{/if_equals}}      
          <input id="saveActivity" type="hidden" value = "false"/>
          <input id="callWidgetName" type="hidden" value = ""/>
                <div class="control-group form-group">
                    <label class="control-label col-sm-3">
                        {{agile_lng_translate 'widgets' 'subject'}}
                        <span class="field_req">*</span>
                    </label>
                    <div class="controls col-sm-7">
                        <input type="text" placeholder="{{agile_lng_translate 'help' 'about'}}" name="subject" id="subject" class="form-control" />
                        <div id="logPhone_subject_error" style="color:#d9534f;display:none;">{{agile_lng_translate 'email' 'subject-recquired'}}</div>
                    </div>
                </div>
                
                <div class="control-group form-group">
                    <label class="control-label col-sm-3 pull-left">
                      {{agile_lng_translate 'widgets' 'phone-number'}}
                      <span class="field_req">*</span>
                    </label>
                    <div class="controls contact_phone_controls col-sm-7 {{#is_mobile}} p-t-none {{else}} p-t-7 {{/is_mobile}}">
                    	{{#if_equals num.length "0"}}
                    		<span title="{{agile_lng_translate 'contact-edit' 'add-phone'}}" class="add_logPhone_span">
                    			<a id="contact_logPhone_number" class="contact_logPhone_number add_logPhone text-info text-l-none" name="contact_logPhone_number" 
                          value = ""> {{agile_lng_translate 'contact-edit' 'add-phone'}}</a>
                        </span>
                    	{{else}}
                  		{{#if_equals num.length "1"}}
                  			{{#if num.[0]}}
                  				<span id="contact_logPhone_number" 
                            name="contact_logPhone_number" value="{{num.[0]}}">
                              {{num.[0]}}
                          </span>
                  			{{else}}
                  				<span title="{{agile_lng_translate 'contact-edit' 'add-phone'}}" class="add_logPhone_span">
                  					<a id="contact_logPhone_number" class="contact_logPhone_number add_logPhone text-info text-l-none" name="contact_logPhone_number" value = ""> {{agile_lng_translate 'contact-edit' 'add-phone'}}</a>
                          </span>
                  			{{/if}}
                  		{{else}}
                  				<a class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> 
                    	     		<button id="phoneButton" type="button" class="btn btn-default w-full text-left">
                    						<span id="contact_logPhone_number" 
                                  class="contact_logPhone_number" name="contact_logPhone_number" value = ""> {{agile_lng_translate 'deal-view' 'select'}} 
                                </span>
                           			<i class="caret pull-right" style="margin-top:8px"></i>
                    	        </button>
                  				</a>
                  						<ul class="dropdown-menu" style=" 
                              {{#is_mobile}} left: 15px;width: 93% {{else}} top:39px;left: 15px;width: 91% {{/is_mobile}}" role="menu">
                  							{{#each num}}<li><a id = "logPhone_number_option" value = "{{this}}">{{this}}</a></li> {{/each}}
                  						</ul>
                  		{{/if_equals}}	
                      {{/if_equals}}	
              						<span id="contact-add-phone-span" class="none"> 
              								<input type="text" id="contact_phone" style="border: 1px solid #ccc;height:34px;border-radius:2px;" class="col-sm-10 {{#is_mobile}} w-88 {{/is_mobile}}"/> 
              								<a class= "btn btn-primary btn-sm contact_phone_add {{#is_mobile}} m-l-none {{/is_mobile}}" style="height:33px;margin-left:11px">{{agile_lng_translate 'other' 'add'}} 
                              </a>   
              						</span>		
                    </div>
					             <span id="logPhone_number_error" class="{{#is_mobile}} p-l-15 {{/is_mobile}}" style="color:#d9534f;display:none;float:left;padding-left:27.5%">{{agile_lng_translate 'widjets' 'phone-number-recquired'}}
                       </span>
                </div>
                
                <div class="control-group form-group">
                    <label class="control-label col-sm-3 pull-left">
                    {{agile_lng_translate 'widjets' 'call-type'}}
                      <span class="field_req">*</span>
                    </label>
                    <div class="controls col-sm-7">
                      <label class="i-checks" style="margin-top:5px">
               					  <input type="radio" name="callType" id="callType" checked="checked" value="inbound" title="{{agile_lng_translate 'widjets' 'inbound'}}">
								            <i></i>
               					 {{agile_lng_translate 'widjets' 'inbound'}}
 						          </label>
 								      &nbsp;&nbsp;&nbsp;
					            <label class="i-checks" style="margin-top:5px">
               					 <input type="radio" name="callType" id="callType" value="outbound-dial" title="{{agile_lng_translate 'widjets' 'inbound'}}">
								          <i></i>
               					 {{agile_lng_translate 'widjets' 'outbound'}}
              		    </label>  
                    </div>
                </div>
                <div class="control-group form-group">
                    <label class="control-label col-sm-3 pull-left">{{agile_lng_translate 'widgets' 'status'}} 
                    <span class="field_req">*</span></label>
                    <div class="controls col-sm-7">
                      <a href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> 
      				          <button id="statusButton" type="button" class="btn btn-default w-full text-left">
  								        <span  id="callStatus" class="callStatus" name="status" value = ""> {{agile_lng_translate 'deal-view' 'select'}} </span>
           				   		  <i class="caret pull-right" style="margin-top:8px"></i>
   							        </button>
						          </a>
      								<ul id="statusValue-ul" class="dropdown-menu" style="{{#is_mobile}} left: 15px;width: 93% {{else}} top:32px;left: 15px;width: 91%; {{/is_mobile}}" role="menu">
      								</ul>
                      <div id="logPhone_status_error" style="color:#d9534f;display:none;">{{agile_lng_translate 'campaigns' 'status-not-declared'}}</div>
						            <span id="status-wait"></span>	
                    </div>
                </div>
                
                <div class="control-group form-group">
                  <label class="control-label col-sm-3">
                    {{agile_lng_translate 'portlets' 'duration'}}
                      <span class="field_req">*</span>
                  </label>
                  <div class="controls col-sm-7">
                    <div class="row">
                      <div class="col-sm-4 {{#is_mobile}} m-b {{else}} p-r-none {{/is_mobile}}">
                        <div class="input-group">
                          <input type="text" name="hour" id="hour" value="0" class="form-control">
                          <span class="input-group-btn">
                            <button class="btn btn-secondary" type="button" style="padding: 6px 10px;background-color: #F5FAFC;border-color: #cfdadd;">{{agile_lng_translate 'portlets' 'Hours'}}</button>
                          </span>
                        </div>
                      </div>
                      <div class="col-sm-4 {{#is_mobile}} m-b {{else}} p-r-xs p-l-xs {{/is_mobile}}">
                        <div class="input-group">
                          <input type="text" name="min" id="min" value="0" class="form-control">
                          <span class="input-group-btn">
                            <button class="btn btn-secondary" type="button" style="{{#is_mobile}} padding: 6px 5px {{else}} padding: 6px 8px {{/is_mobile}};background-color: #F5FAFC;border-color: #cfdadd;">{{agile_lng_translate 'portlets' 'Minutes'}}</button>
                          </span>
                        </div>
                      </div>
                      <div class="col-sm-4 {{#is_mobile}} {{else}} p-l-none {{/is_mobile}}">
                        <div class="input-group">
                          <input type="text" name="sec" id="sec" value="0" class="form-control">
                          <span class="input-group-btn">
                            <button class="btn btn-secondary" type="button" style="{{#is_mobile}} padding: 6px 4px {{else}} padding: 6px 6px {{/is_mobile}};background-color: #F5FAFC;border-color: #cfdadd;">{{agile_lng_translate 'portlets' 'Seconds'}}</button>
                          </span>
                        </div>
                      </div>
                    </div>
                    <div id="logPhone_duration_error" style="color:#d9534f;display:none;">{{agile_lng_translate 'portlets' 'for-a-minute-and-second-please-enter-a-value'}}</div>
                    <div id="logPhone_duration_error1" style="color:#d9534f;display:none;">{{agile_lng_translate 'portlets' 'duriation-should-be-in-only-positive-values'}}</div>
                    <div id="logPhone_duration_error2" style="color:#d9534f;display:none;">{{agile_lng_translate 'portlets' 'duriation-cannot-be-zero'}}.</div>
                  </div>
                </div>
                <div class="control-group form-group">
                    <label class="control-label col-sm-3">
                      {{agile_lng_translate 'misc-keys' 'description'}}
                    </label>
                    <div class="controls col-sm-7">
                        <textarea rows="3" class="form-control-F-width form-control" placeholder="{{agile_lng_translate 'deal-view' 'detailed-note'}}" name="description" id="description" style="max-width:400px;"></textarea> 
                    </div>
                </div>
                <div class="control-group form-group">
                  <label class="control-label pull-left col-sm-3">
                    {{agile_lng_translate 'deal-view' 'related-to'}}
                      <span class="field_req">*</span> 
                  </label>
                  <div class="controls col-sm-7">
                    <div>
                      <input type="text" placeholder="{{agile_lng_translate 'contacts-view' 'contact-name'}}" id="call_related_to" class="typeahead typeahead_contacts form-control" data-provide="typeahead" data-mode="multiple" size="40" />
                         <div class="controls" style="padding-top:1px">
                          <ul id="logPhone_relatedto_tag" name="contact_ids" class="contacts tags tagsinput p-none" style="margin-bottom:0px !important">  
                          </ul>
                         </div>
                         <div id="log_relatedto_error" style="color:#d9534f;display:none;">{{agile_lng_translate 'portlets' 'please-relate-the-call-to-a-contact'}}
                         </div>
                     </div>
                  </div>
                </div>
            </fieldset>
        </form>
    </div>
    <div class="modal-footer">
    <span class="save-status pull-left" style="color:#d9534f;"></span>
      <a href="#" class="btn btn-sm btn-primary" id="validate-logPhone" action = "save">
      		{{#if_equals action "edit"}}	
      			Update
      		{{else}}
      			Save
      		{{/if_equals}}
      </a>
    </div>
    </div>
    </div>
</div>
</div>
</script>

