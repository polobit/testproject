<script id="filter-deals-template" type="text/html">
<!-- <div class="bg-light lter b-b wrapper-md agile-page-header">
	{{#if id}}
		<h3  class="formheading h3 font-thin m-n">
			{{agile_lng_translate 'deal-view' 'edit-deal-filter'}}
			<!-- <span style="vertical-align: text-top; margin-left: -3px">
				<img border="0" src="{{getS3ImagePath '/img/help.png'}}" style="height: 6px;" rel="popover" data-placement="bottom" 
				data-content="{{agile_lng_translate 'deal-view' 'edit-deal-filter-popover-content-1'}}" id="element" data-trigger="hover">
			</span> -->
		</h3>
	{{else}}
		<h3 class="formheading h3 font-thin m-n">
			{{agile_lng_translate 'deals' 'add-deal-filter'}}
			<!-- <span style="vertical-align: text-top; margin-left: -3px">
				<img border="0" src="{{getS3ImagePath '/img/help.png'}}" style="height: 6px;" rel="popover" data-placement="bottom" 
				data-content="{{agile_lng_translate 'deal-view' 'edit-deal-filter-popover-content-1'}}" id="element" data-trigger="hover">
			</span> -->
		</h3>
	{{/if}}
</div> -->
<div class="wrapper-md">
	<div class="row">
		<div class="col-md-12">
		<div class="panel panel-default">
		<div class="panel-heading">
			{{#if id}}
		<h3  class="formheading h3 font-thin m-n">
			{{agile_lng_translate 'deal-view' 'edit-deal-filter'}}
			<span style="vertical-align: text-top; margin-left: -3px">
				<img border="0" src="{{getS3ImagePath '/img/help.png'}}" style="height: 6px;" rel="popover" data-placement="bottom" 
				data-content="{{agile_lng_translate 'deal-view' 'edit-deal-filter-popover-content-1'}}" id="element" data-trigger="hover">
			</span>
		</h3>
	{{else}}
		<h3 class="formheading h3 font-thin m-n">
			<i class="icon-plus-sign notaddon-imp"></i>
			{{agile_lng_translate 'deals' 'add-deal-filter'}}
			<span style="vertical-align: text-top; margin-left: -3px">
				<img border="0" src="{{getS3ImagePath '/img/help.png'}}" style="height: 6px;" rel="popover" data-placement="bottom" 
				data-content="{{agile_lng_translate 'deal-view' 'edit-deal-filter-popover-content-1'}}" id="element" data-trigger="hover">
			</span>
		</h3>
	{{/if}}
		</div>
		<div class="panel-body">
			<form id="filterOpportunityForm" class="form-horizontal">
				<div name="rules" class="formsection chainedSelect">	
					<fieldset>
						<div class="control-group form-group">
							<label class="control-label col-sm-2">{{agile_lng_translate 'other' 'name'}}<span class="field_req">*</span></label>
							<div class="controls col-sm-8">
								<input type="text" name="name" class="required form-control" maxlength="120" placeholder="{{agile_lng_translate 'opportunity' 'place-holder-length'}}" />
							</div>
						</div>
						<div class="control-group form-group" id="filter-settings">
							<label class="control-label col-sm-2">{{agile_lng_translate 'report-add' 'condition'}}</label>
							<div class="controls col-sm-8">
								<div id="opportunities-filter-wrapper">
									<div>{{agile_lng_translate 'contacts-view' 'meet'}} <i>{{agile_lng_translate 'subscriber_type' 'all'}} </i> {{agile_lng_translate 'contacts-view' 'of-the-following-conditions'}}</div>
									<table class="bg-transparent m-b-xs chained-table opportunity and_rules">
										<tbody>
											<tr valign="top" class="chained controls hide" name="rules">
												<td class="lhs-block">
													<div id="LHS" name="LHS">
														<select name="temp" class="lhs form-control" id="LHS">
															<optgroup label="Tag">
																<option value="tags" selected="selected">{{agile_lng_translate 'contact-edit' 'tag'}}</option>
																<option value="tags_time">{{agile_lng_translate 'contacts-view' 'tag-and-created-date'}}</option>
															</optgroup>
															<optgroup label="Date">
																<option value="created_time">{{agile_lng_translate 'campaigns' 'created'}}</option>
																<option value="updated_time">{{agile_lng_translate 'contacts-view' 'updated'}}</option>
																<option value="closed_time">{{agile_lng_translate 'deal-view' 'close-date'}}</option>
																<option value="won_time">{{agile_lng_translate 'admin-settings-deals' 'Won'}}</option>
															</optgroup>
		 													<optgroup label="Properties">
																<!-- <option value="name">Name</option> -->
																<option value="owner_id">{{agile_lng_translate 'contact-details' 'owner'}}</option>
																<option value="track_milestone">{{agile_lng_translate 'deals' 'track-and-milestone'}}</option>
																<option value="expected_value">{{agile_lng_translate 'contacts-view' 'value'}}</option>
																<option value="probability">{{agile_lng_translate 'deal-view' 'probability'}}</option>
																<option value="archived">{{agile_lng_translate contact-edit' 'state'}}</option>
																<option value="deal_source">{{agile_lng_translate 'portlets' 'source'}}</option>
																<option value="lost_reason">{{agile_lng_translate 'admin-settings-deals' 'loss-reasons'}}</option>
																<!-- <option value="type">{{agile_lng_translate 'contacts-view' 'type'}}</option> -->
															</optgroup>
															<optgroup label="Custom Fields" id="custom-fields" class="hide">
															</optgroup>
														</select>
													</div>
												</td>
												<td class="codition-block">
													<div id="condition" name="CONDITION">
														<select name="temp" class="form-control">
															<option value="EQUALS" class="tags tags_time name type track_milestone">{{agile_lng_translate 'contacts-view' 'is'}}</option>
															<option value="NOTEQUALS" class="tags name type track_milestone">{{agile_lng_translate 'contacts-view' 'is-not'}}</option>
															<option value="DEFINED" class="tags">{{agile_lng_translate 'contacts-view' 'is-defined'}}</option>
															<option value="NOT_DEFINED" class="tags">{{agile_lng_translate 'contacts-view' 'is-not-defined'}}</option>
															<option value="EQUALS" class="expected_value probability">{{agile_lng_translate 'contacts-view' 'equals'}}</option>
															<option value="BETWEEN_NUMBER" class="expected_value probability">{{agile_lng_translate 'contacts-view' 'between'}}</option>
															<option value="IS_GREATER_THAN" class="expected_value probability">{{agile_lng_translate 'contacts-view' 'greater-than'}}</option>
															<option value="IS_LESS_THAN" class="expected_value probability">{{agile_lng_translate 'contacts-view' 'less-than'}}</option>
															<option value="ON" class="created_time updated_time closed_time won_time">{{agile_lng_translate 'contact-details' 'on'}}</option>
															<option value="AFTER" class="created_time updated_time closed_time won_time">{{agile_lng_translate 'contacts-view' 'is-after'}}</option>
															<option value="BEFORE" class="created_time updated_time closed_time won_time">{{agile_lng_translate 'contacts-view' 'is-before'}}</option>
															<option value="BETWEEN" class="created_time updated_time closed_time won_time">{{agile_lng_translate 'contacts-view' 'is-between'}}</option>
															<option value="LAST" class="created_time updated_time closed_time won_time">{{agile_lng_translate 'contacts-view' 'in-last'}}</option>
															<option value="NEXT" class="closed_time">{{agile_lng_translate 'contacts-view' 'in-next'}}
																</option>
															<option value="EQUALS" class="owner_id" related="RHS" url="core/api/users" parse_key="id" parse_value="name">{{agile_lng_translate 'contacts-view' 'is'}}</option>
															<option value="NOTEQUALS" class="owner_id" related="RHS" url="core/api/users" parse_key="id" parse_value="name">{{agile_lng_translate 'contacts-view' 'is-not'}}</option>
															<option value="EQUALS" class="deal_source" related="RHS" url="core/api/categories?entity_type=DEAL_SOURCE" parse_key="id" parse_value="label">{{agile_lng_translate 'contacts-view' 'is'}}</option>
															<option value="NOTEQUALS" class="deal_source" related="RHS" url="core/api/categories?entity_type=DEAL_SOURCE" parse_key="id" parse_value="label">{{agile_lng_translate 'contacts-view' 'is-not'}}</option>
															<option value="EQUALS" class="lost_reason" related="RHS" url="core/api/categories?entity_type=DEAL_LOST_REASON" parse_key="id" parse_value="label">{{agile_lng_translate 'contacts-view' 'is'}}</option>
															<option value="NOTEQUALS" class="lost_reason" related="RHS" url="core/api/categories?entity_type=DEAL_LOST_REASON" parse_key="id" parse_value="label">{{agile_lng_translate 'contacts-view' 'is-not'}}</option>
															<option value="EQUALS" class="archived" related="RHS" >{{agile_lng_translate 'contacts-view' 'is'}}</option>
														</select>
													</div>
												</td>
												<td class="rhs-block  controls v-top">
													<div id="RHS" class="rhs" name="RHS">
														<input type="text" name="temp"
															class="LAST NEXT required form-control number" min="1" max="1000" placeholder="{{agile_lng_translate 'contacts-view' 'number-of-days'}}"/>
														<input type="text" name="temp" 
															class="EQUALS NOTEQUALS required form-control"/>
														<input type="text" name="temp"
															class="IS_GREATER_THAN IS_LESS_THAN number form-control required"/>
														<input type="text" name="tag" 
															class="tags tags_time required form-control m-n" /> 
		                                                <input type="text" name="temp" 
															class="BETWEEN_NUMBER number required form-control"/>
														<input type="text" name="temp"
															class="ON AFTER BEFORE BETWEEN input required date form-control"
															placeholder="{{dateFormat}}" data-date-format="{{dateFormat}}"/>
														
													</div>
												</td>
												<td class="rhs-new-block controls v-top">
													<div id="RHS-NEW" name="RHS_NEW">
														<input type="text" name="temp"
															class="BETWEEN_NUMBER number required form-control"/>
														<input id="date_between" type="text" name="temp" data-date-format="{{dateFormat}}"
															class="BETWEEN input date required form-control" placeholder="{{dateFormat}}" />
													</div>
												</td>
												<td class="nested-condition-block v-top" >
													<div id="nested_condition" name="nested_condition">
														<select name="temp" class="form-control">
															<option value="EQUALS" class="tags_time">{{agile_lng_translate 'contact-details' 'on'}}</option>
															<option value="AFTER" class="tags_time">{{agile_lng_translate 'contacts-view' 'is-after'}}</option>
															<option value="BEFORE" class="tags_time">{{agile_lng_translate 'contacts-view' 'is-before'}}</option>
															<option value="BETWEEN" class="tags_time">{{agile_lng_translate 'contacts-view' 'is-between'}}</option>
															<option value="LAST" class="tags_time">{{agile_lng_translate 'contacts-view' 'in-last'}}</option>
														</select>
													</div>
												</td>
												<td class="controls v-top" >
													<div id="nested_lhs" name="nested_lhs">
														<input type="text" name="temp" class="LAST required number form-control" placeholder="{{agile_lng_translate 'contacts-view' 'number-of-days'}}" /> 
														<input
															id="date_between" type="text" 
															name="temp"
															class="BETWEEN EQUALS AFTER BEFORE input date required form-control"
															placeholder="{{dateFormat}}" data-date-format="{{dateFormat}}"/>
													</div>
												</td>
												<td class="controls v-top" >
													<div id="nested_rhs" name="nested_rhs">
														<input id="date_between" type="text" name="temp"
															 class="BETWEEN input date required form-control"
															placeholder="{{dateFormat}}" data-date-format="{{dateFormat}}" />
													</div>
												</td>
												<td>
													<div class="m-l-sm">
														<i class="filter-opportunities-multiple-remove icon-remove-circle c-p"></i>
													</div>
												</td>
												<td class="track-milestone-error hide">
													<div class="m-l-sm">
														<span class="text-danger">{{agile_lng_translate 'deal-filters' 'not-applicable'}}.</span>
													</div>
												</td>
											</tr>
										</tbody>
									</table>
									<a href="#" class="filter-opportunities-multiple-add text-l-none m-t-xs text-info"><i class="icon-plus"></i> {{agile_lng_translate 'report-add' 'add-condition'}}</a>
									<br/><br/><small>{{agile_lng_translate 'contacts-view' 'and'}}</small><br/>
									<div>{{agile_lng_translate 'contacts-view' 'meet'}}  <i> {{agile_lng_translate 'portlets' 'any'}} </i> {{agile_lng_translate 'contacts-view' 'of-the-following-conditions'}}</div>
									<table class="bg-transparent m-b-xs chained-table opportunity or_rules">
										<tbody>
											<tr valign="top" class="chained controls hide" name="or_rules">
												<td class="lhs-block">
													<div id="LHS" name="LHS">
														<select name="temp" class="lhs form-control" id="LHS">
															<optgroup label="Tag">
																<option value="tags" selected="selected">{{agile_lng_translate 'contact-edit' 'tag'}}</option>
																<option value="tags_time">{{agile_lng_translate 'contacts-view' 'tag-and-created-date'}}</option>
															</optgroup>
															<optgroup label="Date">
																<option value="created_time">{{agile_lng_translate 'campaigns' 'created'}}</option>
																<option value="updated_time">{{agile_lng_translate 'contacts-view' 'updated'}}</option>
																<option value="closed_time">{{agile_lng_translate 'deal-view' 'close-date'}}</option>
																<option value="won_time">{{agile_lng_translate 'admin-settings-deals' 'Won'}}</option>
															</optgroup>
		 													<optgroup label="Properties">
																<!-- <option value="name">Name</option> -->
																<option value="owner_id">{{agile_lng_translate 'contact-details' 'owner'}}</option>
																<option value="track_milestone">{{agile_lng_translate 'deals' 'track-and-milestone'}}</option>
																<option value="expected_value">{{agile_lng_translate 'contacts-view' 'value'}}</option>
																<option value="probability">{{agile_lng_translate 'deal-view' 'probability'}}</option>
																<option value="archived">{{agile_lng_translate contact-edit' 'state'}}</option>
																<option value="deal_source">{{agile_lng_translate 'portlets' 'source'}}</option>
																<option value="lost_reason">{{agile_lng_translate 'admin-settings-deals' 'loss-reasons'}}</option>
																<!-- <option value="type">{{agile_lng_translate 'contacts-view' 'type'}}</option> -->
															</optgroup>
															<optgroup label="Custom Fields" id="custom-fields" class="hide">
															</optgroup>
														</select>
													</div>
												</td>
												<td class="codition-block">
													<div id="condition" name="CONDITION">
														<select name="temp" class="form-control">
															<option value="EQUALS" class="tags tags_time name type track_milestone">{{agile_lng_translate 'contacts-view' 'is'}}</option>
															<option value="NOTEQUALS" class="tags name type track_milestone">{{agile_lng_translate 'contacts-view' 'is-not'}}</option>
															<option value="DEFINED" class="tags">{{agile_lng_translate 'contacts-view' 'is-defined'}}</option>
															<option value="NOT_DEFINED" class="tags">{{agile_lng_translate 'contacts-view' 'is-not-defined'}}</option>
															<option value="EQUALS" class="expected_value probability">{{agile_lng_translate 'contacts-view' 'equals'}}</option>
															<option value="BETWEEN_NUMBER" class="expected_value probability">{{agile_lng_translate 'contacts-view' 'between'}}</option>
															<option value="IS_GREATER_THAN" class="expected_value probability">{{agile_lng_translate 'contacts-view' 'greater-than'}}</option>
															<option value="IS_LESS_THAN" class="expected_value probability">{{agile_lng_translate 'contacts-view' 'less-than'}}</option>
															<option value="ON" class="created_time updated_time closed_time won_time">{{agile_lng_translate 'contact-details' 'on'}}</option>
															<option value="AFTER" class="created_time updated_time closed_time won_time">{{agile_lng_translate 'contacts-view' 'is-after'}}</option>
															<option value="BEFORE" class="created_time updated_time closed_time won_time">{{agile_lng_translate 'contacts-view' 'is-before'}}</option>
															<option value="BETWEEN" class="created_time updated_time closed_time won_time">{{agile_lng_translate 'contacts-view' 'is-between'}}</option>
															<option value="LAST" class="created_time updated_time closed_time won_time">{{agile_lng_translate 'contacts-view' 'in-last'}}</option>
															<option value="NEXT" class="closed_time">{{agile_lng_translate 'contacts-view' 'in-next'}}
																</option>
															<option value="EQUALS" class="owner_id" related="RHS" url="core/api/users" parse_key="id" parse_value="name">{{agile_lng_translate 'contacts-view' 'is'}}</option>
															<option value="NOTEQUALS" class="owner_id" related="RHS" url="core/api/users" parse_key="id" parse_value="name">{{agile_lng_translate 'contacts-view' 'is-not'}}</option>
															<option value="EQUALS" class="deal_source" related="RHS" url="core/api/categories?entity_type=DEAL_SOURCE" parse_key="id" parse_value="label">{{agile_lng_translate 'contacts-view' 'is'}}</option>
															<option value="NOTEQUALS" class="deal_source" related="RHS" url="core/api/categories?entity_type=DEAL_SOURCE" parse_key="id" parse_value="label">{{agile_lng_translate 'contacts-view' 'is-not'}}</option>
															<option value="EQUALS" class="lost_reason" related="RHS" url="core/api/categories?entity_type=DEAL_LOST_REASON" parse_key="id" parse_value="label">{{agile_lng_translate 'contacts-view' 'is'}}</option>
															<option value="NOTEQUALS" class="lost_reason" related="RHS" url="core/api/categories?entity_type=DEAL_LOST_REASON" parse_key="id" parse_value="label">{{agile_lng_translate 'contacts-view' 'is-not'}}</option>
															<option value="EQUALS" class="archived" related="RHS" >{{agile_lng_translate 'contacts-view' 'is'}}</option>
														</select>
													</div>
												</td>
												<td class="rhs-block  controls v-top">
													<div id="RHS" class="rhs" name="RHS">
														<input type="text" name="temp"
															class="LAST NEXT required form-control number" min="1" max="1000" placeholder="{{agile_lng_translate 'contacts-view' 'number-of-days'}}"/>
														<input type="text" name="temp" 
															class="EQUALS NOTEQUALS required form-control"/>
														<input type="text" name="temp"
															class="IS_GREATER_THAN IS_LESS_THAN number form-control required"/>
														<input type="text" name="tag" 
															class="tags tags_time required form-control m-n" /> 
		                                                <input type="text" name="temp" 
															class="BETWEEN_NUMBER number required form-control"/>
														<input type="text" name="temp"
															class="ON AFTER BEFORE BETWEEN input required date form-control"
															placeholder="{{dateFormat}}" data-date-format="{{dateFormat}}"/>
															
													</div>
												</td>
												<td class="rhs-new-block controls v-top">
													<div id="RHS-NEW" name="RHS_NEW">
														<input type="text" name="temp"
															class="BETWEEN_NUMBER number required form-control"/>
														<input id="date_between" type="text" name="temp" data-date-format="{{dateFormat}}"
															class="BETWEEN input date required form-control" placeholder="{{dateFormat}}" />
													</div>
												</td>
												<td class="nested-condition-block v-top" >
													<div id="nested_condition" name="nested_condition">
														<select name="temp" class="form-control">
															<option value="EQUALS" class="tags_time">{{agile_lng_translate 'contact-details' 'on'}}</option>
															<option value="AFTER" class="tags_time">{{agile_lng_translate 'contacts-view' 'is-after'}}</option>
															<option value="BEFORE" class="tags_time">{{agile_lng_translate 'contacts-view' 'is-before'}}</option>
															<option value="BETWEEN" class="tags_time">{{agile_lng_translate 'contacts-view' 'is-between'}}</option>
															<option value="LAST" class="tags_time">{{agile_lng_translate 'contacts-view' 'in-last'}}</option>
														</select>
													</div>
												</td>
												<td class="controls v-top" >
													<div id="nested_lhs" name="nested_lhs">
														<input type="text" name="temp" class="LAST required number form-control" placeholder="{{agile_lng_translate 'contacts-view' 'number-of-days'}}" /> 
														<input
															id="date_between" type="text" 
															name="temp"
															class="BETWEEN EQUALS AFTER BEFORE input date required form-control"
															placeholder="{{dateFormat}}" data-date-format="{{dateFormat}}"/>
													</div>
												</td>
												<td class="controls v-top" >
													<div id="nested_rhs" name="nested_rhs">
														<input id="date_between" type="text" name="temp"
															 class="BETWEEN input date required form-control"
															placeholder="{{dateFormat}}" data-date-format="{{dateFormat}}" />
													</div>
												</td>
												<td>
													<div class="m-l-sm">
														<i class="filter-opportunities-multiple-remove icon-remove-circle c-p"></i>
													</div>
												</td>
												<td class="track-milestone-error hide">
													<div class="m-l-sm">
														<span class="text-danger">{{agile_lng_translate 'deal-filters' 'not-applicable'}}.</span>
													</div>
												</td>
											</tr>
										</tbody>
									</table>
									<a href="#" class="filter-opportunities-multiple-add-or-rules text-l-none m-t-xs text-info"><i class="icon-plus"></i> {{agile_lng_translate 'report-add' 'add-condition'}}</a>
								</div>
							</div>
						</div>
						{{#if id}}
							<input type="hidden" name="id" value="{{id}}" />
							<input type="hidden" name="created_time" value="{{created_time}}" />
							<input type="hidden" name="filter_owner_id" value="{{filterOwner.id}}" />
						{{/if}}
						<div class="line line-lg b-b"></div>
						<div class="row">
							<div class="form-actions col-sm-offset-2 col-sm-10">
								<a href="#deal-filters" class="btn btn-sm btn-default m-r-sm-imp btn-default-imp btn-lg-imp">{{agile_lng_translate 'other' 'cancel'}}</a>
								<a href="#" type="submit" class="save btn btn-sm btn-primary btn-primary-imp btn-lg-imp" id="filtersAdd">{{agile_lng_translate 'report-add' 'save'}}</a> 
							</div>
						</div>
					</fieldset>
				</div>
			</form>
			</div>
			</div>
		</div>
	</div>
</div>
</script>