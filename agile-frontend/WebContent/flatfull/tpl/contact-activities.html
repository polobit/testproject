<script id="contact-activity-list-log-collection-template" type="text/html">
{{#if this.length}}
	<section class="scroll">
		<form>
			<div class="ref-log">  
				<div id="today-heading" style="display: none" class="ref-head"><b >Today</b>	</div>
				<div id="today-contact-activity" style="display: inline;"></div>
				<div id="tomorrow-heading" style="display: none" class="ref-head"><b >Yesterday</b></div>
				<div id="tomorrow-contact-activity" style="display: inline;"></div>
				<div id="next-week-heading" style="display: none" class=""></div>
				<div id="next-week-contact-activity" style="display: inline;"></div>
				<div class="span12">
				</div>
			</div>
		</form>
</section>
</div>
<table class="table agile-ellipsis-dynamic onlySorting no-sorting ">
	<col width="0.2px">
	<col width="75%">
	<col width="25%">
	<!--<thead>
		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>
	</thead>-->
	<tbody id="contact-activity-list-log-model-list"  class="contacts-model-list" route="contact/" style="overflow: scroll;overflow:hidden;">
	</tbody>
</table>

{{else}}

<div id="slate">
<div class="slate">
    <div class="slate-content">
				<div class="box-left">
 	           		<img alt="Clipboard" src="/img/clipboard.png">
				</div>
				<div class="box-right">
            <h3>No Contact activity recorded yet.</h3>
            <div class="text">Web and Campaign activity of your contacts is shown here.</div>
        </div>
    </div>
</div>
</div>

{{/if}}

</script>

<script id="contact-activity-list-log-model-template" type="text/html">

<td></td>
<td>
<div class="pos-rlt data" data= "{{contact.id}}" >
	<div style="margin-right:15px;" class="pull-left">
		{{#if contact}}
			<img class="thumbnail img-inital" data-name="{{dataNameAvatar contact.properties}}" src="{{gravatarurl contact.properties 40}}"  width="40px" height="40px" style="display:inline; width:40px; height:40px; " />
		{{else}}
			<img class="thumbnail img-inital" data-name="{{dataNameAvatar contact.properties}}" src="https://dpm72z3r2fvl4.cloudfront.net/css/images/user-default.png"  width="40px" height="40px" style="display:inline; width:40px; height:40px; " />
		{{/if}}
	</div>
	<div class="contact-activity-tag" >
		<div class="display:inline  "  >
{{#if_equals "null" log_time}}
	 {{#if contact}} 
		<b>{{getPropertyValue contact.properties "first_name"}} {{getPropertyValue contact.properties "last_name"}} </b>visited your website<br>
	{{else}}
		Someone visited your website<br>
	{{/if}}
	<span class="activities_second_line">  
		<i class="icon-link"></i> {{url}}
		{{#unless contact}}
		<br>
		This contact may have been deleted
		{{/unless}}

{{else}}
	{{#if_equals "EMAIL_OPENED" log_type}}
		{{#if contact}} 
			<b>{{getPropertyValue contact.properties "first_name"}} {{getPropertyValue contact.properties "last_name"}} </b>opened an email<br>
		{{else}}
		Someone opened an email<br>
		{{/if}}
		<span class="activities_second_line">  
		<i class="icon-envelope-alt"></i> {{message}} - {{campaign_name}}
		{{#unless contact}}
		<br>
		This contact may have been deleted
		{{/unless}}
	{{/if_equals}}
					
	{{#if_equals "EMAIL_CLICKED" log_type}}
		{{#if contact}} 
			<b>{{getPropertyValue contact.properties "first_name"}} {{getPropertyValue contact.properties "last_name"}}</b> clicked an email<br>
		{{else}}
			Someone clicked an email<br>
		{{/if}}
		<span class="activities_second_line">  
		<i class="icon-hand-up"></i> Link clicked in campaign {{campaign_name}}
		{{#unless contact}}
		<br>
		This contact may have been deleted
		{{/unless}}
	{{/if_equals}}
					
	{{#if_equals "UNSUBSCRIBED" log_type}}
		{{#if contact}} 
			<b>{{getPropertyValue contact.properties "first_name"}} {{getPropertyValue contact.properties "last_name"}} </b>
		{{else}}
			Someone 
		{{/if}}
		{{#if_equals "Unsubscribed from all campaigns" message}}
			unsubscribed from all campaigns
		{{else}} 
			unsubscribed from a campaign
		{{/if_equals}}<br>
		<span class="activities_second_line">  
		<i class="icon-minus-sign"></i> {{message}} - {{campaign_name}}
		{{#unless contact}}
		<br>
		This contact may have been deleted
		{{/unless}}
	{{/if_equals}}
	
	{{#if_equals "EMAIL_SPAM" log_type}}
		{{#if contact}} 
			<b>{{getPropertyValue contact.properties "first_name"}} {{getPropertyValue contact.properties "last_name"}}</b> marked an email as Spam<br>
		{{else}}
			Someone marked an email as Spam<br>
		{{/if}}
		<span class="activities_second_line">  
		<i class="icon-ban-circle"></i> Email {{get_subject message}}
		{{#unless contact}}
		<br>
		This contact may have been deleted
		{{/unless}}	
	{{/if_equals}}
		
	{{#if_equals "EMAIL_HARD_BOUNCED" log_type}}
		{{#if contact}} 
			<b>{{getPropertyValue contact.properties "first_name"}} {{getPropertyValue contact.properties "last_name"}}</b> - Email bounced<br>
			<span class="activities_second_line">  
			<i class="icon-undo"></i> There was a hard bounce for email  {{getPropertyValue contact.properties "email"}}
		{{else}}
			Someone's Email bounced<br>
			<span class="activities_second_line">  
			This contact may have been deleted
		{{/if}}
	{{/if_equals}}

	{{#if_equals "EMAIL_SOFT_BOUNCED" log_type}}
		{{#if contact}} 
			<b>{{getPropertyValue contact.properties "first_name"}} {{getPropertyValue contact.properties "last_name"}}</b> - Email bounced<br>
			<span class="activities_second_line">  
			<i class="icon-undo"></i> There was a soft bounce for email  {{getPropertyValue contact.properties "email"}}
		{{else}}
			Someone's Email bounced<br>
			<span class="activities_second_line">  
			This contact may have been deleted
		{{/if}}
	{{/if_equals}}
	
	{{#unless log_time}}
	{{#if contact}} 
		<b>{{getPropertyValue contact.properties "first_name"}} {{getPropertyValue contact.properties "last_name"}}</b> visited your website<br>
	{{else}}
		Someone visited your website.<br>
	{{/if}}
	<span class="activities_second_line">  
		<i class="icon-link"></i> {{url}}
	{{#unless contact}}
		<br>
		This contact may have been deleted
	{{/unless}}	

	{{/unless}}
{{/if_equals}}

	</span>
		</div>
	</div>
</div>
</td>
<td>
	<small class="edit-hover text-muted"> 
		<i class="fa fa-clock-o m-r-xs"></i>
		<time class="pull-right" datetime="{{epochToHumanDate "" time}}" style="border-bottom:dotted 1px #999">{{epochToHumanDate "ddd mmm dd yyyy h:MM TT" time}}</time>
	</small>
</td>

</script>

<script id="contact-activity-header-template" type="text/html">

<div class="row" id="contact_activity_header">
    <div class="span12">
        <div class="page-header">
            <h1 class="contact-activity-heading"><span>Contact Activities</span>&nbsp;<small class="contact-activity-sub-heading" ></small>&nbsp;<small class="contact-activity-user" ></small></h1>
		
			<div class="btn-group pull-right type-task-button" style="cursor:pointer;margin-right:15px;top: -28px;">
                <div class="btn selected_name" id ="log-filter-title">All Contact Activities</div>
                <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" >
					<li><a href="#contact-activities/All_Activities" >All Activities</a></li> 
					<li><a href="#contact-activities/Page_Views" >Page Views</a></li>
					<li><a href="#contact-activities/Email_Opened" >Email Opened</a></li>
					<li><a href="#contact-activities/Email_Clicked" >Email Clicked</a></li>
					<li><a href="#contact-activities/Unsubscribed">Unsubscribed</a></li>
					<li><a href="#contact-activities/Spam_Reports">Spam Reports</a></li>
					<li><a href="#contact-activities/Email_Hard_Bounced">Email Hard Bounced</a></li>
					<li><a href="#contact-activities/Email_Soft_Bounced">Email Soft Bounced</a></li>              
                </ul>
            </div>            
<!--
            <div id="contact_activities_date_range" class="btn-group pull-right contact-activity-date-filter" style="cursor:pointer;margin-right:15px;top: -28px;">
               <i class="icon-calendar icon-large"></i>
                <span id="range">Filter by date</span>
                <span class="caret" style="margin-top: 6px; margin-left: 4px;"></span>
            </div>
-->
        </div>
    </div>
</div>


<div class="row" id="contact_activity_model">
<div class="span12">
<div id="contact-activity-list-based-condition"></div>
</div>
</div>

</script>