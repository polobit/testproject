!function(){var a=Handlebars.template,e=Handlebars.templates=Handlebars.templates||{};e["stripe-custom-field-template"]=a(function(a,e,n,l,t){function s(){return'\n	<p>Stripe id for each contact is stored in a text custom field. You have no custom fields defined. Please <a href="#custom-fields">create one</a>.</p>\n'}function i(a,e){var l,t="";return t+='\n	<p>Stripe id for each contact is stored in a text custom field. Select the custom field to be used.</p>\n	<select name="stripe_field" id="stripe_custom_field_name" class="required span10" style="width:100%" >\n     		<option class="default-select" value="">-Select-</option>\n		',l=n.each.call(a,a&&a.custom_fields,{hash:{},inverse:h.noop,fn:h.program(4,r,e),data:e}),(l||0===l)&&(t+=l),t+='\n	</select>\n	<p>Or, you can <a href="#custom-fields">create </a> a new text custom field.</p>\n	<a href="#" class="btn" id="save_stripe_name" style="text-decoration:none;">Save</a>\n'}function r(a,e){var l,t,s="";return s+='\n			<option value="',(t=n.field_label)?l=t.call(a,{hash:{},data:e}):(t=a&&a.field_label,l=typeof t===p?t.call(a,{hash:{},data:e}):t),s+=m(l)+'">',(t=n.field_label)?l=t.call(a,{hash:{},data:e}):(t=a&&a.field_label,l=typeof t===p?t.call(a,{hash:{},data:e}):t),s+=m(l)+" \n			</option>\n		"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,a.helpers),t=t||{};var o,c,d,u="",p="function",m=this.escapeExpression,h=this,f=n.helperMissing;return u+='\n<div class="widget_content">\n',c=n.if_equals||e&&e.if_equals,d={hash:{},inverse:h.program(3,i,t),fn:h.program(1,s,t),data:t},o=c?c.call(e,(o=e&&e.custom_fields,null==o||o===!1?o:o.length),"0",d):f.call(e,"if_equals",(o=e&&e.custom_fields,null==o||o===!1?o:o.length),"0",d),(o||0===o)&&(u+=o),u+="\n</div>\n\n"}),e["stripe-error-template"]=a(function(a,e,n,l,t){function s(a,e){var l,t,s="";return s+='\n	<div class="ellipsis-multi-line collapse-25" title="',(t=n.message)?l=t.call(a,{hash:{},data:e}):(t=a&&a.message,l=typeof t===u?t.call(a,{hash:{},data:e}):t),s+=p(l)+'" style="height:auto;word-wrap: break-word;font-size:13px;">\n		',(t=n.message)?l=t.call(a,{hash:{},data:e}):(t=a&&a.message,l=typeof t===u?t.call(a,{hash:{},data:e}):t),(l||0===l)&&(s+=l),s+="\n	</div>\n"}function i(a,e){var l,t,s="";return s+='\n	<div style="line-height:160%;word-wrap: break-word;padding:0px">\n		',(t=n.message)?l=t.call(a,{hash:{},data:e}):(t=a&&a.message,l=typeof t===u?t.call(a,{hash:{},data:e}):t),(l||0===l)&&(s+=l),s+="\n	</div>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,a.helpers),t=t||{};var r,o,c,d="",u="function",p=this.escapeExpression,m=this,h=n.helperMissing;return d+="\n",o=n.check_length||e&&e.check_length,c={hash:{},inverse:m.program(3,i,t),fn:m.program(1,s,t),data:t},r=o?o.call(e,e&&e.message,"140",c):h.call(e,"check_length",e&&e.message,"140",c),(r||0===r)&&(d+=r),d+="\n\n"}),e["stripe-login-template"]=a(function(a,e,n,l,t){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,a.helpers),t=t||{};var s,i,r="",o="function",c=this.escapeExpression;return r+='\n<div class="widget_content" style="border-bottom:none;line-height: 160%;">\n	See the contact\'s subscriptions history and payments from your Stripe account.\n	<p style="margin: 10px 0px 5px 0px;"></p><a class="btn" href="',(i=n.url)?s=i.call(e,{hash:{},data:t}):(i=e&&e.url,s=typeof i===o?i.call(e,{hash:{},data:t}):i),r+=c(s)+'">Link Your Stripe</a>\n</div>\n\n'}),e["stripe-profile-template"]=a(function(a,e,n,l,t){function s(a,e){var l,t="";return t+='\n		<a href="https://manage.stripe.com/customers/'+S((l=a&&a.customer,l=null==l||l===!1?l:l.id,typeof l===T?l.apply(a):l))+'" target="_blank"><h4 style="text-transform: capitalize;"><b>'+S((l=a&&a.customer,l=null==l||l===!1?l:l.activeCard,l=null==l||l===!1?l:l.name,typeof l===T?l.apply(a):l))+"</b></h4></a>\n		",l=n["if"].call(a,(l=a&&a.customer,l=null==l||l===!1?l:l.activeCard,null==l||l===!1?l:l.addressState),{hash:{},inverse:q.noop,fn:q.program(2,i,e),data:e}),(l||0===l)&&(t+=l),t+="\n	"}function i(a,e){var l,t="";return t+='\n			<p style="font-size: 13px;margin-bottom:0px;">\n				',l=n["if"].call(a,(l=a&&a.customer,l=null==l||l===!1?l:l.activeCard,null==l||l===!1?l:l.addressLine1),{hash:{},inverse:q.noop,fn:q.program(3,r,e),data:e}),(l||0===l)&&(t+=l),t+="\n				",l=n["if"].call(a,(l=a&&a.customer,l=null==l||l===!1?l:l.activeCard,null==l||l===!1?l:l.addressLine2),{hash:{},inverse:q.noop,fn:q.program(5,o,e),data:e}),(l||0===l)&&(t+=l),t+="	\n				",l=n["if"].call(a,(l=a&&a.customer,l=null==l||l===!1?l:l.activeCard,null==l||l===!1?l:l.addressCity),{hash:{},inverse:q.noop,fn:q.program(7,c,e),data:e}),(l||0===l)&&(t+=l),t+="\n				"+S((l=a&&a.customer,l=null==l||l===!1?l:l.activeCard,l=null==l||l===!1?l:l.addressState,typeof l===T?l.apply(a):l))+", \n				",l=n["if"].call(a,(l=a&&a.customer,l=null==l||l===!1?l:l.activeCard,null==l||l===!1?l:l.addressCountry),{hash:{},inverse:q.program(11,u,e),fn:q.program(9,d,e),data:e}),(l||0===l)&&(t+=l),t+="\n			</p>\n		"}function r(a){var e,n="";return n+=S((e=a&&a.customer,e=null==e||e===!1?e:e.activeCard,e=null==e||e===!1?e:e.addressLine1,typeof e===T?e.apply(a):e))+",<br/>"}function o(a){var e,n="";return n+=S((e=a&&a.customer,e=null==e||e===!1?e:e.activeCard,e=null==e||e===!1?e:e.addressLine2,typeof e===T?e.apply(a):e))+",<br/>"}function c(a){var e,n="";return n+=S((e=a&&a.customer,e=null==e||e===!1?e:e.activeCard,e=null==e||e===!1?e:e.addressCity,typeof e===T?e.apply(a):e))+",<br/>"}function d(a){var e,n="";return n+="\n					"+S((e=a&&a.customer,e=null==e||e===!1?e:e.activeCard,e=null==e||e===!1?e:e.addressCountry,typeof e===T?e.apply(a):e))+"\n				"}function u(a){var e,n="";return n+="\n					"+S((e=a&&a.customer,e=null==e||e===!1?e:e.activeCard,e=null==e||e===!1?e:e.country,typeof e===T?e.apply(a):e))+"\n				"}function p(a,e){var l,t,s,i="";return i+='\n		<a href="https://manage.stripe.com/customers/'+S((l=a&&a.customer,l=null==l||l===!1?l:l.id,typeof l===T?l.apply(a):l))+'" target="_blank">'+S((t=n.getCurrentContactProperty||a&&a.getCurrentContactProperty,s={hash:{},data:e},t?t.call(a,"first_name",s):M.call(a,"getCurrentContactProperty","first_name",s)))+" "+S((t=n.getCurrentContactProperty||a&&a.getCurrentContactProperty,s={hash:{},data:e},t?t.call(a,"last_name",s):M.call(a,"getCurrentContactProperty","last_name",s)))+"</a>\n	"}function m(a,e){var l,t,s,i="";return i+='\n		<li class="row-fluid">	\n			<div class="span5">Start Date\n				<div class="pull-right">:</div>\n			</div>\n			<div class="span6" style="margin-left: 10px;">\n				<time class="time-ago" datetime="'+S((t=n.epochToHumanDate||a&&a.epochToHumanDate,s={hash:{},data:e},t?t.call(a,"",(l=a&&a.customer,l=null==l||l===!1?l:l.subscription,null==l||l===!1?l:l.start),s):M.call(a,"epochToHumanDate","",(l=a&&a.customer,l=null==l||l===!1?l:l.subscription,null==l||l===!1?l:l.start),s)))+'">'+S((t=n.epochToHumanDate||a&&a.epochToHumanDate,s={hash:{},data:e},t?t.call(a,"ddd mmm dd yyyy HH:MM:ss",(l=a&&a.customer,l=null==l||l===!1?l:l.subscription,null==l||l===!1?l:l.start),s):M.call(a,"epochToHumanDate","ddd mmm dd yyyy HH:MM:ss",(l=a&&a.customer,l=null==l||l===!1?l:l.subscription,null==l||l===!1?l:l.start),s)))+"</time>\n			</div>\n		</li>\n		",l=n["if"].call(a,(l=a&&a.customer,l=null==l||l===!1?l:l.subscription,null==l||l===!1?l:l.currentPeriodEnd),{hash:{},inverse:q.noop,fn:q.program(16,h,e),data:e}),(l||0===l)&&(i+=l),i+='\n		<li class="row-fluid">	\n			<div class="span5">Current Plan\n				<div class="pull-right">:</div>\n			</div>\n							\n			<div class="span6" style="margin-left: 10px;">\n				'+S((l=a&&a.customer,l=null==l||l===!1?l:l.subscription,l=null==l||l===!1?l:l.plan,l=null==l||l===!1?l:l.id,typeof l===T?l.apply(a):l))+'\n			</div>\n		</li>\n		<li class="row-fluid">	\n			<div class="span5">Interval\n				<div class="pull-right">:</div>\n			</div>\n							\n			<div class="span6" style="margin-left: 10px;">\n				'+S((l=a&&a.customer,l=null==l||l===!1?l:l.subscription,l=null==l||l===!1?l:l.plan,l=null==l||l===!1?l:l.interval,typeof l===T?l.apply(a):l))+'\n			</div>\n		</li>\n		<li class="row-fluid">	\n			<div class="span5">Amount\n				<div class="pull-right">:</div>\n			</div>\n							\n			<div class="span6" style="margin-left: 10px;">\n				'+S((t=n.numeric_operation||a&&a.numeric_operation,s={hash:{},data:e},t?t.call(a,(l=a&&a.customer,l=null==l||l===!1?l:l.subscription,l=null==l||l===!1?l:l.plan,null==l||l===!1?l:l.amount),100,"/",s):M.call(a,"numeric_operation",(l=a&&a.customer,l=null==l||l===!1?l:l.subscription,l=null==l||l===!1?l:l.plan,null==l||l===!1?l:l.amount),100,"/",s)))+" "+S((t=n.toUpperCase||a&&a.toUpperCase,s={hash:{},data:e},t?t.call(a,(l=a&&a.customer,l=null==l||l===!1?l:l.subscription,l=null==l||l===!1?l:l.plan,null==l||l===!1?l:l.currency),s):M.call(a,"toUpperCase",(l=a&&a.customer,l=null==l||l===!1?l:l.subscription,l=null==l||l===!1?l:l.plan,null==l||l===!1?l:l.currency),s)))+"\n			</div>\n		</li>\n	"}function h(a,e){var l,t,s,i="";return i+='\n		<li class="row-fluid">	\n			<div class="span5">End Date\n				<div class="pull-right">:</div>\n			</div>\n			<div class="span6" style="margin-left: 10px;">\n				<time class="time-ago" datetime="'+S((t=n.epochToHumanDate||a&&a.epochToHumanDate,s={hash:{},data:e},t?t.call(a,"",(l=a&&a.customer,l=null==l||l===!1?l:l.subscription,null==l||l===!1?l:l.currentPeriodEnd),s):M.call(a,"epochToHumanDate","",(l=a&&a.customer,l=null==l||l===!1?l:l.subscription,null==l||l===!1?l:l.currentPeriodEnd),s)))+'">'+S((t=n.epochToHumanDate||a&&a.epochToHumanDate,s={hash:{},data:e},t?t.call(a,"ddd mmm dd yyyy HH:MM:ss",(l=a&&a.customer,l=null==l||l===!1?l:l.subscription,null==l||l===!1?l:l.currentPeriodEnd),s):M.call(a,"epochToHumanDate","ddd mmm dd yyyy HH:MM:ss",(l=a&&a.customer,l=null==l||l===!1?l:l.subscription,null==l||l===!1?l:l.currentPeriodEnd),s)))+"</time>\n			</div>\n		</li>\n		"}function f(){return"\n		<li style='color: #999;'>\n	    	No active subscription\n		</li>\n	"}function v(a,e){var l,t="";return t+="\n	",l=n.each.call(a,a&&a.invoice,{hash:{},inverse:q.noop,fn:q.program(21,y,e),data:e}),(l||0===l)&&(t+=l),t+="\n"}function y(a,e){var l,t,s,i="";return i+='\n		<li class="row-fluid sub_header_li">\n					<a class="pull-left" data-toggle="collapse" href="#collapse-',(t=n.id)?l=t.call(a,{hash:{},data:e}):(t=a&&a.id,l=typeof t===T?t.call(a,{hash:{},data:e}):t),i+=S(l)+'" >',t=n.if_equals||a&&a.if_equals,s={hash:{},inverse:q.program(24,_,e),fn:q.program(22,g,e),data:e},l=t?t.call(a,a&&a.paid,!0,s):M.call(a,"if_equals",a&&a.paid,!0,s),(l||0===l)&&(i+=l),i+='</a>\n					<div class="pull-right">$ '+S((t=n.numeric_operation||a&&a.numeric_operation,s={hash:{},data:e},t?t.call(a,a&&a.total,100,"/",s):M.call(a,"numeric_operation",a&&a.total,100,"/",s)))+'</div><br>\n					<div id="collapse-',(t=n.id)?l=t.call(a,{hash:{},data:e}):(t=a&&a.id,l=typeof t===T?t.call(a,{hash:{},data:e}):t),i+=S(l)+'" class="collapse" style="color: rgba(0, 0, 0, 0.5);">\n							',l=n.each.call(a,(l=a&&a.lines,null==l||l===!1?l:l.data),{hash:{},inverse:q.noop,fn:q.program(26,b,e),data:e}),(l||0===l)&&(i+=l),i+='\n					</div>\n					<small><time class="time-ago pull-left" datetime="'+S((t=n.epochToHumanDate||a&&a.epochToHumanDate,s={hash:{},data:e},t?t.call(a,"",a&&a.date,s):M.call(a,"epochToHumanDate","",a&&a.date,s)))+'">'+S((t=n.epochToHumanDate||a&&a.epochToHumanDate,s={hash:{},data:e},t?t.call(a,"ddd mmm dd yyyy HH:MM:ss",a&&a.date,s):M.call(a,"epochToHumanDate","ddd mmm dd yyyy HH:MM:ss",a&&a.date,s)))+"</time></small>\n		</li>\n	"}function g(){return"Paid"}function _(){return"Pending"}function b(a,e){var l,t,s,i="";return i+="	\n								",t=n.if_equals||a&&a.if_equals,s={hash:{},inverse:q.noop,fn:q.program(27,x,e),data:e},l=t?t.call(a,a&&a.type,"invoiceitem",s):M.call(a,"if_equals",a&&a.type,"invoiceitem",s),(l||0===l)&&(i+=l),i+="\n								",t=n.if_equals||a&&a.if_equals,s={hash:{},inverse:q.noop,fn:q.program(29,H,e),data:e},l=t?t.call(a,a&&a.type,"subscription",s):M.call(a,"if_equals",a&&a.type,"subscription",s),(l||0===l)&&(i+=l),i+="	         \n							"}function x(a,e){var l,t,s,i="";return i+='\n									<div class="pull-left">',(t=n.description)?l=t.call(a,{hash:{},data:e}):(t=a&&a.description,l=typeof t===T?t.call(a,{hash:{},data:e}):t),i+=S(l)+'</div>					\n									<div class="pull-right">$ '+S((t=n.numeric_operation||a&&a.numeric_operation,s={hash:{},data:e},t?t.call(a,a&&a.amount,100,"/",s):M.call(a,"numeric_operation",a&&a.amount,100,"/",s)))+"</div><br>\n								"}function H(a,e){var l,t,s,i="";return i+='\n									<div class="pull-left">'+S((l=a&&a.plan,l=null==l||l===!1?l:l.name,typeof l===T?l.apply(a):l))+'</div>					\n									<div class="pull-right">$ '+S((t=n.numeric_operation||a&&a.numeric_operation,s={hash:{},data:e},t?t.call(a,(l=a&&a.plan,null==l||l===!1?l:l.amount),100,"/",s):M.call(a,"numeric_operation",(l=a&&a.plan,null==l||l===!1?l:l.amount),100,"/",s)))+'</div><br>\n									<div class="pull-left">Quantity</div>					\n									<div class="pull-right">',(t=n.quantity)?l=t.call(a,{hash:{},data:e}):(t=a&&a.quantity,l=typeof t===T?t.call(a,{hash:{},data:e}):t),i+=S(l)+'</div><br>\n									<div style="text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:100%"><small>\n											'+S((t=n.epochToHumanDate||a&&a.epochToHumanDate,s={hash:{},data:e},t?t.call(a,"dd-mmm-yy",(l=a&&a.period,null==l||l===!1?l:l.start),s):M.call(a,"epochToHumanDate","dd-mmm-yy",(l=a&&a.period,null==l||l===!1?l:l.start),s)))+"&nbspto \n											"+S((t=n.epochToHumanDate||a&&a.epochToHumanDate,s={hash:{},data:e},t?t.call(a,"dd-mmm-yy",(l=a&&a.period,null==l||l===!1?l:l.end),s):M.call(a,"epochToHumanDate","dd-mmm-yy",(l=a&&a.period,null==l||l===!1?l:l.end),s)))+"\n									</small></div>\n								"}function C(){return"\n	<li class=\"sub_header_li\" style='color: #999;'>\n	    No payments\n	</li>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,a.helpers),t=t||{};var w,D="",T="function",S=this.escapeExpression,q=this,M=n.helperMissing;return D+='\n<div class="widget_content">\n	',w=n["if"].call(e,(w=e&&e.customer,w=null==w||w===!1?w:w.activeCard,null==w||w===!1?w:w.name),{hash:{},inverse:q.program(13,p,t),fn:q.program(1,s,t),data:t}),(w||0===w)&&(D+=w),D+='\n</div>\n<div class="sub_header">\n	<div>Subscription Details</div>\n</div>\n<ul style="margin:0px;padding:10px 0px;border-bottom:1px solid #eee;">\n	',w=n["if"].call(e,(w=e&&e.customer,null==w||w===!1?w:w.subscription),{hash:{},inverse:q.program(18,f,t),fn:q.program(15,m,t),data:t}),(w||0===w)&&(D+=w),D+='\n</ul>\n\n<div class="sub_header">\n		<div>Invoices</div>\n</div>\n<ul style="margin:0px;">\n',w=n["if"].call(e,(w=e&&e.invoice,null==w||w===!1?w:w.length),{hash:{},inverse:q.program(31,C,t),fn:q.program(20,v,t),data:t}),(w||0===w)&&(D+=w),D+="\n</ul>\n\n"}),e["stripe-revoke-access-template"]=a(function(a,e,n,l,t){function s(){return'\n				<p>Stripe id for each contact is stored in a text custom field. You have no custom fields defined. Please <a href="#custom-fields">create one</a>.</p>\n	'}function i(a,e){var l,t,s,i="";return i+="\n				",t=n.stringToJSON||a&&a.stringToJSON,s={hash:{},inverse:y.noop,fn:y.program(4,r,e),data:e},l=t?t.call(a,a,"prefs",s):g.call(a,"stringToJSON",a,"prefs",s),(l||0===l)&&(i+=l),i+='\n<p>Stripe id for each contact is stored in a text custom field. Select the custom field to be used.</p><form id="reportsForm">\n<fieldset style="margin-left: 20px">\n		<div class="control-group" style="margin-left: -20px">\n				<label class="control-label">Current custom field</label>\n				<div class="controls" id="contactTypeAhead">\n			\n			<select name="stripe_field_name" id="stripe_custom_field" class="required span10" style="width:100%" >\n     				<option class="default-select" value="">-Select-</option>\n				',l=n.each.call(a,a&&a.custom_data,{hash:{},inverse:y.noop,fn:y.programWithDepth(6,o,e,a),data:e}),(l||0===l)&&(i+=l),i+="\n			</select>\n			</div>\n			</div>\n		</fieldset>\n				<p style='margin: 10px 0px 5px 0px;' >\n					<a class='btn btn-primary' style='text-decoration: none;padding: 4px 5px;' widget-name=\"Stripe\" id=\"widget-prefs-save\">Save</a>\n					<a class='btn revoke-widget ml_5' style='text-decoration: none;' widget-name=\"Stripe\">Revoke Access</a>\n					<a href=\"#add-widget\" class='btn ml_5' style='text-decoration: none;' widget-name=\"Stripe\">Cancel</a>\n				</p> \n	</div>\n</form>\n"}function r(){var a="";return a}function o(a,e,l){var t,s,i,r="";return r+="\n					",s=n.if_equals||l&&l.if_equals,i={hash:{},inverse:y.program(9,d,e),fn:y.program(7,c,e),data:e},t=s?s.call(a,(t=l&&l.prefs,null==t||t===!1?t:t.stripe_field_name),a&&a.field_label,i):g.call(a,"if_equals",(t=l&&l.prefs,null==t||t===!1?t:t.stripe_field_name),a&&a.field_label,i),(t||0===t)&&(r+=t),r+="\n				"}function c(a,e){var l,t,s="";return s+='\n						<option selected="selected" value="',(t=n.field_label)?l=t.call(a,{hash:{},data:e}):(t=a&&a.field_label,l=typeof t===f?t.call(a,{hash:{},data:e}):t),s+=v(l)+'">',(t=n.field_label)?l=t.call(a,{hash:{},data:e}):(t=a&&a.field_label,l=typeof t===f?t.call(a,{hash:{},data:e}):t),s+=v(l)+"</option>\n						"}function d(a,e){var l,t,s="";return s+='	\n							<option value="',(t=n.field_label)?l=t.call(a,{hash:{},data:e}):(t=a&&a.field_label,l=typeof t===f?t.call(a,{hash:{},data:e}):t),s+=v(l)+'">',(t=n.field_label)?l=t.call(a,{hash:{},data:e}):(t=a&&a.field_label,l=typeof t===f?t.call(a,{hash:{},data:e}):t),s+=v(l)+"</option>\n					"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,a.helpers),t=t||{};var u,p,m,h="",f="function",v=this.escapeExpression,y=this,g=n.helperMissing;return h+="\n\n<div class='widget_content' style='border-bottom:none;line-height: 160%;' >\n\n",p=n.if_equals||e&&e.if_equals,m={hash:{},inverse:y.program(3,i,t),fn:y.program(1,s,t),data:t},u=p?p.call(e,(u=e&&e.custom_data,null==u||u===!1?u:u.length),"0",m):g.call(e,"if_equals",(u=e&&e.custom_data,null==u||u===!1?u:u.length),"0",m),(u||0===u)&&(h+=u),h+="\n</div>\n\n\n"})}();