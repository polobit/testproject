<script id="admin-settings-api-key-model-template" type="text/html">
   <div class="col">
      <div class="hbox h-auto m-b-lg">
         <div class="tab-content">
            <div id="api-analytics-accordion">
               <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                  <div class="panel panel-default">
                     <div id="settings-api">
                        <div class="panel-heading" role="tab" id="headingOne">
                           <div class="panel-title">
                              <a class="accordion-toggle" data-toggle="collapse" aria-controls="collapseOne" aria-expanded="true" data-parent="#accordion" href="#api-key">API Key</a>
                           </div>
                        </div>
                        <div class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne" id="api-key">
                           <div class="panel-body" id="api-accordion">
                              <div class="tab-pane api_key_code active" id="api">
                                 <b>REST API</b>
                                 <div class="clearfix"></div>
                                {{#is_mobile}}
                                <div><code  class="prettyprint pull-left" id="api_key_code"style="letter-spacing:1px;width:100%">{{api_key}}</code></div><div><span class=" inline-block p-xs api-key-pos"><a id="api_key_generate_icon" class="c-p m-l-n-xs m-r-xs btn btn-sm  btn-danger text-white">Reset</a></span></div>
                                {{else}}
                                <div><code  class="prettyprint pull-left" id="api_key_code"style="letter-spacing:1px;">{{api_key}}</code></div><div><span class=" inline-block p-xs api-key-pos"><a id="api_key_generate_icon" class="c-p m-t-n-xs m-r-xs btn btn-sm  btn-danger text-white">Reset</a></span></div>
                                {{/is_mobile}}
                                
                                 <br/>For Java, PHP, .Net wrappers and integrations like Zapier, Wufoo, Unbounce, Chrome extension etc.<br /><hr />
   					  			 <b>Javascript API Key</b>
                                 <div class="clearfix"></div>
                             {{#is_mobile}}
                             <div> <code class="prettyprint pull-left Api_code" id="jsapi_key_code"style="letter-spacing:1px;width:100%">{{js_api_key}}</code></div><div><span class="inline-block p-xs api-key-pos " ><a id="jsapi_key_generate_icon" class="c-p m-l-n-xs m-r-xs btn btn-sm  btn-danger text-white">Reset</a></span></div>
                             {{else}}
                             <div> <code class="prettyprint pull-left Api_code" id="jsapi_key_code"style="letter-spacing:1px;">{{js_api_key}}</code></div><div><span class="inline-block p-xs api-key-pos " ><a id="jsapi_key_generate_icon" class="c-p m-t-n-xs m-r-xs btn btn-sm  btn-danger text-white">Reset</a></span></div>
                             {{/is_mobile}}
                                <br />Only for tracking code on website.
                                 <div class="clearfix"></div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="panel panel-default">
                     <div id="settings-analytics">
                        <div class="panel-heading" role="tab" id="headingTwo">
                           <div class="panel-title">
                              <a class="accordion-toggle" data-toggle="collapse" aria-controls="collapseTwo" aria-expanded="true" data-parent="#accordion" href="#analytics-code">Analytics Code</a>
                           </div>
                        </div>
                        <div class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo" id="analytics-code">
                           <div class="panel-body" id="api-accordion">
                              <div class="tab-pane" id="analytics">
                                 <p>You can use javascript API to track page views on your site, add / delete contacts from your website or blog directly. Copy and paste the below code in your webpage's HTML just before the <b>&lt;/BODY&gt;</b> tag to enable tracking / API methods.</p>
                                 <ul class="nav nav-tabs" id="TrackingTab">
                                    <li class="tracking-tab"><a data-toggle="tab" href="#tracking">Tracking code</a></li>
                                    <li class="tracking-webrules-tab active"><a data-toggle="tab" href="#tracking-webrules">Tracking code with Web Rules enabled</a></li>
                                    <li class="tracking-webrules-whitelist-tab active"><a data-toggle="tab" href="#tracking-webrules-whitelist">Tracking code with Web Rules Whitelist enabled</a></li>
                                 </ul>
                                 <div class="tab-content p-t-sm">
                                    <!--  Tracking code templete -->
                                    <div class="tab-pane" id="tracking">
                                       <div class="clearfix"></div>
                                       <div>
                                        <code  id="api_track_code" class="prettyprint">
   				&lt;script type="text/javascript" src="https://{{get_current_domain}}.agilecrm.com/stats/min/agile-min.js"&gt; 
   				&lt;/script&gt;
   				&lt;script type="text/javascript" &gt;
   				 _agile.set_account('{{js_api_key}}', '{{get_current_domain}}');
   				 _agile.track_page_view();
   				&lt;/script&gt;
   				</code>
                                       </div>
                                    </div>
                                    <!-- End of Tracking code templete -->
                                    <!--  Tracking code with Web Rules templete -->
                                    <div class="tab-pane active" id="tracking-webrules">
                                       <div class="clearfix"></div>
                                       <div>
                                          <code  id="api_track_webrules_code" class="prettyprint">
   				&lt;script type="text/javascript" src="https://{{get_current_domain}}.agilecrm.com/stats/min/agile-min.js"&gt; 
   				&lt;/script&gt;
   				&lt;script type="text/javascript" &gt;
   				 _agile.set_account('{{js_api_key}}', '{{get_current_domain}}');
   				 _agile.track_page_view();
   				 _agile_execute_web_rules();
   				&lt;/script&gt;
   				</code>
                                       </div>
                                    </div>
                                    <!-- Tracking code with Web Rules templete -->
                                    <!--  Tracking code with Web Rules whitelist enabled -->
                                    <div class="tab-pane active" id="tracking-webrules-whitelist">
                                       <div class="clearfix"></div>
                                       <div>
                                          <code class="prettyprint" id="api_track_webrules_code">
   			&lt;script type="text/javascript" src="https://{{get_current_domain}}.agilecrm.com/stats/min/agile-min.js"&gt;
   			&lt;/script&gt;
   			&lt;script type="text/javascript" &gt;
    			 _agile.set_account('{{js_api_key}}', '{{get_current_domain}}');
    			 _agile_set_whitelist('{{getBase64ActualDomain}}');
    			 _agile.track_page_view();
    			 _agile_execute_web_rules();
   			&lt;/script&gt;
   			</code>
                                       </div>
                                    </div>
                                    <!-- / Tracking code with Web Rules whitelist enabled -->
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <!-- Allowed domains template -->
                  <div class="panel panel-default">
                     <div id="settings-allowed-domains">
                        <div class="panel-heading" role="tab" id="headingTwo">
                           <div class="panel-title">
                              <a class="accordion-toggle" data-toggle="collapse" aria-controls="collapseTwo" aria-expanded="true" data-parent="#accordion" href="#allowed-domains">Allowed Domains</a>
                           </div>
                        </div>
                        <div class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo" id="allowed-domains">
                           <div class="panel-body p-n" id="api-accordion">
   {{#hide_allowed_domains_text allowed_domains}}
   			<div class="p-t-sm p-l-sm p-r-sm p-b-xs">
   				<div><b>API & Analytics</b> will be enabled on following domains. All domains are allowed by default using wildcard <b>"*"</b></div>
   			</div>
   {{/hide_allowed_domains_text}}
   					<table class="table table-hover custom-fields-table bg-white m-b-none">
   						<colgroup><col width="50%"><col width="4%"></colgroup>
   						<tbody id="allowed_domains_list">
   							{{#allowed_domain_list allowed_domains}}{{/allowed_domain_list}}
   						</tbody>
   					</table>
   					<div class="show_field p-l p-t p-b">
   						<input type="text" id="new_allowed_domain" name="new_allowed_domain" style="width:250px;display:inline-block;" class="form-control input-sm" placeholder="New Allowed Domain">
   						<a href="#analytics-code" class="btn btn-sm btn-primary" id="update_allowed_domains">Add</a>
   					</div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <!-- end of Allowed Domains template -->
       			  <!-- Blocked IP's template -->
                  <div class="panel panel-default">
                     <div id="settings-blocked-ips">
                        <div class="panel-heading" role="tab" id="headingTwo">
                           <div class="panel-title" id="ip_filters">
                              <a class="accordion-toggle" data-toggle="collapse" aria-controls="collapseTwo" aria-expanded="true" data-parent="#accordion" href="#ip-filters">IP Filters</a>
                           </div>
                        </div>
                        <div class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo" id="ip-filters">
                           <div class="panel-body p-n" id="api-accordion">
   {{#unless blocked_ips}}
   			<div class="p-t-sm p-l-sm p-r-sm p-b-xs">
   				<div>By creating IP filters you can disable <b>Web Stats</b> and <b>Tracking</b>.</div>
   			</div>
   {{/unless}}
   
   					<table class="table table-hover custom-fields-table bg-white m-b-none">
   						<colgroup><col width="50%"><col width="4%"></colgroup>
   						<tbody id="blocked_ips_list">
   							{{#blocked_ips_list blocked_ips}}{{/blocked_ips_list}}
   						</tbody>
   					</table>
   					<div class="show_field p-l p-t p-b">
   			<input type="text" id="new_blocked_ip" name="new_blocked_ip" style="width:250px;display:inline-block;" class="form-control input-sm" placeholder="New IP Address">
   						<a href="#blocked-ips" class="btn btn-sm btn-primary" id="update_blocked_ips">Add</a>
                     <div>
                     <span id="empty_ip_message" class="text-danger hide text-sm">Enter a valid IP Address</span>
                     <span id="ip_error_message" class="text-danger hide text-sm"> This IP Address already exists</span></div>
                    <div> <a id = "get_my_ip" class="inline-block text-sm text-info">Get my IP Address</a></div>
   					</div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <!-- end of Blocked IPs template -->
                  <div class="panel panel-default">
                     <div id="">
                        <div class="panel-heading" role="tab" id="">
                           <div class="panel-title">
                              <a class="accordion-toggle" data-toggle="collapse" aria-controls="collapseTwo" aria-expanded="true" data-parent="#accordion" href="#admin-settings-webhook"id="webhook_accordian">Webhooks<span class="label label-sm bg-danger m-l-xs" style="position: relative;top: -2px;">Beta</span></a>
                           </div>
                        </div>
                        <div class="panel-collapse collapse " role="tabpanel" aria-labelledby="headingTwo" id="admin-settings-webhook" aria-expanded="true">
                           <div id="webhook-accordian-template"></div></div></div></div>

   <!-- Sendgrid white labled verification-->
                   <div class="panel panel-default">
                     <div id="">
                        <div class="panel-heading" role="tab" id="">
                           <div class="panel-title">
                              <a class="accordion-toggle" data-toggle="collapse" aria-controls="collapseTwo" aria-expanded="true" data-parent="#accordion" href="#admin-settings-sendgrid-dkim"id="sendgrid-dkim_accordian">Email (DKIM & SPF) Settings<span class="label label-sm bg-danger m-l-xs" style="position: relative;top: -2px;">Beta</span></a>
                           </div>
                        </div>
                        <div class="panel-collapse collapse " role="tabpanel" aria-labelledby="headingTwo" id="admin-settings-sendgrid-dkim" aria-expanded="true"> <div class="row">
                     <div class="col-md-12 col-xs-12" id="sendgrid-dkim-restriction-template"></div>
                     <div class="col-md-12 col-xs-12" id="sendgrid-dkim-accordian-template"> <br> 
                       <div class="control-group form-group">
                           <label class="control-label col-sm-3 col-xs-3" style="margin-top: 2px;">Email Sending Domain<span class="field_req">*</span>
                           </label> 
                           <div class="controls col-sm-5 col-xs-5">
                               <input name="whitelabel-domain" id="whitelabel-domain" class="input-medium required form-control" type="domain" value="" placeholder="Enter your Email Sending Domain." style="height: 31px;" title=" ex: if you are sending email from sender@domain.com then enter domain.com here.">
                                <span id="empty_domain_message" class="text-danger hide text-sm">Please enter a valid domain name.</span>
                           </div>
                           <div>
                               <a href="#analytics-code" class="btn btn-sm btn-primary" id="get_whitelabel_key">Get Settings</a>
                               <a href="#analytics-code" class="btn btn-sm btn-success" style="margin-left: 3px;" id="validate_whitelabel">Verify</a>
                           </div>
                       </div>
                       <div id="sendgrid-whitelabel-key-template"></div>
                   </div>   
                </div>  
                  </div></div></div>

                  <div class="panel panel-default">
                     <div id="">
                        <div class="panel-heading" role="tab" id="">
                           <div class="panel-title">
                              <a class="accordion-toggle" data-toggle="collapse" aria-controls="collapseTwo" aria-expanded="true" data-parent="#accordion" href="#admin-settings-js-security"id="js-security_accordian">JS API Security<span class="label label-sm bg-danger m-l-xs" style="position: relative;top: -2px;">Beta</span></a>
                           </div>
                        </div>
                        <div class="panel-collapse collapse " role="tabpanel" aria-labelledby="headingTwo" id="admin-settings-js-security" aria-expanded="true">
                        <div id="js-security-accordian-template"></div>
                        </div>
                     </div>
                  </div>         
                           
               </div>
            </div>
         </div>
      </div>
   </div>
   <div class="col w-md">
      <div class="data-block">
         <div class="p-l p-r">
            <h4 class="m-t-none">
               Help
            </h4>
            <p>Agile supports open standard REST. You can use any language which supports REST.</p>
            We currently have the following libraries for your convenience<br/>
            <ul class="p-l-md">
               <li>Java - <a href="https://github.com/agilecrm/java-api" target="_blank" rel="nofollow" title="Link: https://github.com/agilecrm/java-api">GitHub</a></li>
               <li>Javascript - <a href="https://github.com/agilecrm/javascript-api" target="_blank" rel="nofollow" title="Link: https://github.com/agilecrm/javascript-api">GitHub</a></li>
               <li>PHP - <a href="https://github.com/agilecrm/php-api" target="_blank" rel="nofollow" title="Link: https://github.com/agilecrm/php-api">GitHub</a></li>
               <li>.NET - <a href="https://github.com/agilecrm/c-sharp-api" target="_blank" rel="nofollow" title="Link: https://github.com/agilecrm/c-sharp-api">GitHub</a></li>
            </ul>
            We will be publishing API for other languages very soon.
   
   <h4 class="m-t-md">
   	Allowed Domains
   </h4>
   <p>To enable on domain eg: <b>https://www.example.com</b> and its subdomain eg: <b>https://test.example.com</b> you can add the hostname i.e <b>example.com</b>.</p>
   <p>To allow only on a particular subdomain eg: <b>https://test.example.com</b> please add as <b>test.example.com</b> or <b>*.example.com</b>.</p>
   
   <h4 class="m-t-md">IP Filters</h4>
               <p>To disable tracking on a particular IP address, add as eg: <b>192.168.1.1</b> and also you can specify range of IP addresses using wildcard character <b>"*"</b> as <b>192.168.1.* | 192.168.*.* | 192.*.*.*</b></p>
               <p>To block tracking from all IP Addresses a Filter can be added as <b>*.*.*.*</b></p>
         </div>
      </div>
   </div>
</script>