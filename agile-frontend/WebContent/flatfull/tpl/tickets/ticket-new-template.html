<script id="ticket-new-modal-template" type="text/html">
<div id="new-ticket-modal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">x</button>
        <h3 class="modal-title"><i class="icon icon-envelop"></i> Create Ticket</h3>
      </div>
      <div id="modal-body">
        Loading...
      </div>
    </div>
  </div>
</div>
</script>
<script id="ticket-new-modal-form-template" type="text/html">
<div class="modal-body">
  <form id="new-ticket" name="new-ticket">
    <fieldset>
      <div class="control-group form-group">
        <div class="row">
            <div class="control-group col-md-5">
              <label class="control-label"><b>To</b> <span class="field_req">*</span></label>
              <span class="controls">
                <input type="hidden" id="requester_name" name="requester_name">
                <input type="hidden" id="contact_id" name="contact_id">
                <input type="text" id="requester_email" name="requester_email" class="form-control nt-reqester_email required" style="display: none;">
                <input type="text" id="requester_email_typeahead" placeholder="Search contact" class="required typeahead typeahead_contacts form-control email" data-provide="typeahead">
              </span>
            </div>
            <div class="control-group col-md-6">
                <label class="control-label"><b>Cc</b></label>
                <span class="controls">
                  <div class="cc-emails-st">
                    <ul class="cc-emails m-n p-n" name="cc_emails">
                        <li class="tag m-r-xs m-b-xs inline-block">
                          <input type="text" placeholder="Add CC Email" id="cc_email_field" class="cc_emails_st" autocomplete="off">
                        </li>
                    </ul>
                  </div>  
                </span>
            </div>
        </div>
      </div>
      <div class="control-group form-group">
        <div class="row">
            <div class="control-group col-md-5">
              <label class="control-label"><b>Subject</b> <span class="field_req">*</span></label>
              <span class="controls">
                <input type="text" name="subject" class="form-control required"  placeholder="Subject">
              </span>
            </div>
            <div class="control-group col-md-6">
                <label class="control-label"><b>Status</b></label>
                <span class="controls">
                  <select id="status" name="status" class="form-control status">
                      <option value="NEW">New</option>
                      <option value="OPEN">Open</option>
                  </select>
                </span>
            </div>
        </div>
      </div>
      <div class="control-group form-group">
        <div class="row">
            <div class="control-group col-md-5">
              <label class="control-label"><b>Priority</b></label>
              <span class="controls">
                <select id="priority" name="priority" class="form-control">
                    <option value="LOW">Low</option>
                    <option value="MEDIUM">Medium</option>
                    <option value="HIGH">High</option>
                </select>
              </span>
            </div>
            <div class="control-group col-md-6">
                <label class="control-label"><b>Group</b></label>
                <span class="controls">
                  <select id="groupID" name="groupID" class="form-control required">
                    {{#each this}}
                      <option value="{{id}}">{{group_name}}</option>  
                    {{/each}}
                  </select>
                </span>
            </div>
        </div>
      </div>
      <div class="control-group form-group">
        <div class="row">
            <div class="control-group col-md-5">
              <label class="control-label"><b>Assignee</b></label>
              <span class="controls">
                <select id="assigneeID" name="assigneeID" class="form-control grp-assigee" disabled>
                  {{#each this}}
                      {{#each group_users}}
                          <option class="{{../id}}" value="{{id}}">{{name}}</option>  
                      {{/each}}
                  {{/each}}
                </select>
              </span>
            </div>
            <div class="control-group col-md-6">
                <label class="control-label block"><b>Labels</b></label>
                <span class="controls">
                  <select name="labels" data-placeholder="Labels" class="chosen-select form-control" multiple class="w-md">
                  </select>
                </span>
            </div>
        </div>
      </div>
      <div class="control-group form-group">
        <div class="row">
            <div class="control-group col-md-11">
              <label class="control-label"><b>Message</b> <span class="field_req">*</span></label>
              <span class="controls">
                <textarea id="reply_textarea" name="html_text" class="form-control required" style="min-height:76px;max-height:400px;text-indent: 0px; overflow-y: hidden; resize: none;padding: 8px;"></textarea>
              </span>
            </div>
            <div class="control-group col-md-1">
            </div>
        </div>
      </div>
    </fieldset>  
  </form>
</div>
<div class="modal-footer">
    <span class="form-action-error"></span>
    <a href="javascript:void(0);" data-dismiss="modal" class="btn btn-sm btn-default">Close</a> 
    <a href="javascript:void(0);" class="save btn btn-sm btn-primary">Save</a>
    <span class="save-status"></span>
</div>
</script>
<script id="ticket-tag-template" type="text/html">
  <li class="tag btn btn-xs btn-default m-r-xs m-b-xs inline-block" data="{{tag}}">
    <span>
      <a class="anchor m-r-xs" href="javascript:void(0);">{{tag}}</a>
      <a class="close remove-ticket-tags text-lg" tag="{{tag}}">&times</a>
    </span>
  </li>
</script>

<script id="cc-email-li-template" type="text/html">
  <li class="tag btn btn-xs btn-default m-r-xs m-b-xs inline-block" data="{{email}}">
    <span>
      <a class="anchor m-r-xs {{#if err_email}}boder-btm-dot{{/if}}" href="javascript:void(0);" >{{email}}</a>
      <a class="close remove-ticket-cc-emails text-lg">&times</a>
    </span>
  </li>
</script>

<script id="forward-email-li-template" type="text/html">
  <li class="tag btn btn-xs btn-default m-r-xs m-b-xs inline-block" data="{{email}}">
    <span>
      <a class="anchor m-r-xs {{#if err_email}}boder-btm-dot{{/if}}" href="javascript:void(0);" >{{email}}</a>
      <a class="close remove-ticket-forward-emails text-lg">&times</a>
    </span>
  </li>
</script>

<script id="ticket-attachment-li-template" type="text/html">
  <li class="tag btn btn-xs btn-default m-r-xs m-b-xs inline-block" file-name="{{name}}" url="{{url}}" size="{{size}}">
    <span>
      <i class="fa fa-paperclip"></i> <a class="anchor m-r-xs" href="{{url}}" target="_blank">{{name}}</a>
      <a class="close remove-attachment text-lg">Ã—</a>
    </span>
  </li>
</script>