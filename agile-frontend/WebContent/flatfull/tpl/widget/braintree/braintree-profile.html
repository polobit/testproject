<script id="braintree-login-template" type="text/html">
	<div>
		<form  id="braintree_login_form" name="braintree_login_form" method="post">
	    	<fieldset>			
				<label><b>Enter your Braintree details</b></label>
				<div class="control-group form-group">
					<div class="controls">
						<input type="text" id="merchant_id" placeholder="Merchant ID" class="input-medium required widget_input_box form-control" value="" name="merchant_id">
						</input>
					</div>
				</div>
				<div class="control-group form-group">
					<div class="controls">
						<input type="text" id="public_key" class="input-medium required widget_input_box form-control"  placeholder="Public Key" value="" name="public_key">
						</input>
					</div>
				</div>
				<div class="control-group form-group">
					<div class="controls">
						<input type="text" id="private_key" class="input-medium required widget_input_box form-control"  placeholder="Private Key" value="" name="private_key">
						</input>
					</div>
				</div>	
				<div class="control-group form-group">					
			  		<div class="controls">
			    		<select name="braintree_custom_field" id="braintree_custom_field" class="required col-md-10 form-control w-full m-b-sm">
			      			<option class="default-select" value="">-Select-</option>	
			      			<option value="email">Email</option>
			      			{{#each this.custom_fields}}
								<option value="{{field_label}}">{{field_label}} </option>
							{{/each}}			      
			    		</select>
			  		</div>
				</div>
				<p class="text-sm">
					Note: Braintree ID stored as custom text field can also be used to fetch data. 
					Please 
					{{#isAdmin}}
						<a class="text-info" href="#custom-fields">create one</a>
					{{else}}
						create one
					{{/isAdmin}}
					 if necessary.
				</p>
				<div class="text-center">		
				<a href="#add-widget" class="btn btn-default btn-sm">Cancel</a>
				<a href="#" id="save_prefs" class="save-agile-widget btn btn-sm btn-primary ml_5">Save</a>
				</div>
			 </fieldset>
	    </form>
	</div>
</script>

<script id="braintree-transactions-template" type="text/html">
{{#if transaction.length}}
	{{#each transaction}}
		<li class="list-group-item r-none b-l-none b-r-none" style="width:249px;">
			<div class="clear">							
				<a class="col-md-7 p-none text-left text-ellipsis c-p text-info" title="{{orderId}}" data-toggle="collapse" 
				href="#collapse-{{id}}">
					Order ID: #{{orderId}}
				</a>
				<div class="col-md-5 p-none text-right">$ {{amount}}</div>	
				<div class="clearfix"></div>	
				<div class="pull-left">Status</div>
				<div class="pull-right text-ellipsis text-right" style="width: 165px;" title="{{brainTreeStatus status}}">
					{{brainTreeStatus status}}
				</div>
				<div class="clearfix"></div>	
			</div>		
			<div class="clearfix"></div>					
			<div id="collapse-{{id}}" class="collapse" style="color: rgba(0, 0, 0, 0.5);">
				<div class="col-md-5 p-none text-left">Tax Amount</div>
				<div class="col-md-7 p-none text-right text-ellipsis" title="{{taxAmount}}">
					${{#if taxAmount}}
						{{taxAmount}}
					{{else}}
						0
					{{/if}}
				</div>
				<div class="clearfix"></div>
				<div class="col-md-5 p-none text-left">Order ID</div>
				<div class="col-md-7 p-none text-right text-ellipsis" title="{{orderId}}">{{orderId}}</div>
				<div class="clearfix"></div>

				<div class="col-md-7 p-none text-left">Purchase Order No</div>
				<div class="col-md-5 p-none text-right text-ellipsis" title="{{purchaseId}}">{{purchaseId}}</div>
				<div class="clearfix"></div>								
			</div>
			<small class="text-muted"><i class="fa fa-clock-o m-r-xs"></i><time class="time-ago" datetime="{{epochToHumanDate "" createdDate}}">{{epochToHumanDate "ddd mmm dd yyyy HH:MM:ss" createdDate}}</time></small>
		</li>
	{{/each}}
{{else}}
	<li class="list-group-item r-none b-l-none b-r-none"> No transactions found </li>
{{/if}}
</script>
