<script id="twilioio-profile-template" type="text/html">
{{#if_equals to.length "1"}}<div id="contact_number"></div>
{{else}}
	<div class="wrapper-sm">
			{{#if_equals to.length "1"}}<div><!-- <input type="hidden" id="contact_number" value="{{to.0.value}}"/>Call {{getCurrentContactProperty "first_name"}} {{getCurrentContactProperty "last_name"}} on {{to.0.value}} --></div>
			{{else}}
			<!--<div class="pull-left" valign="middle"><h4 class="h4 m-t-xs" id="contentLeftLabel">To :</h4></div> -->
			<div class="pull-left" style="width: 100%;" >
				<select name="number" id="contact_number" class="required form-control" style="width: 100%;">
					{{#each to}}
						<option value="{{value}}">{{value}} 
							{{#if subtype}}({{subtype}}){{/if}}
						</option>
					{{/each}}
				</select>
			</div>
			<div class="clearfix"></div>
			{{/if_equals}}
	{{/if_equals}}
	</div>
<div class="nav-tabs-alt">

<ul class="nav nav-tabs twilioTab text-base" id="myTwilioTab">
	<li class="text-center active twilio_outgoing_logs c-p" style="width:48%; margin-left: 2%;" align="center"><a data-toggle="tab"  aria-expanded="false"><h4 class="h4 text-base">{{agile_lng_translate 'widgets' 'outgoing'}}</h4><small></small></a></li>
	<li class="text-center twilio_incoming_logs c-p" style="width:48%;" align="center"><a data-toggle="tab" aria-expanded="true"><h4 class="h4 text-base">{{agile_lng_translate 'widgets' 'incoming'}}</h4><small></small></a></li>
</ul>
</div>
<div id="outgoing_log_details">
	<ul id="twilio-outgoing-logs-panel" class="list-group m-b-none text-base">

		<li>
			<center><img id="logs_load" src="{{getS3ImagePath 'img/ajax-loader-cursor.gif'}}" class="m-t"></img></center>
		</li>
	</ul>
</div>

<div id="incoming_log_details" style="display:none;">
	<ul id="twilio-incoming-logs-panel" class="list-group m-b-none text-base">
		<li>
			<center><img id="logs_load" src="{{getS3ImagePath 'img/ajax-loader-cursor.gif'}}" class="m-t"></img></center>
		</li>
	</ul>
</div>
</script>

<script id="twilioio-login-template" type="text/html">
<div>
	<form  id="twilioio_login_form" name="twilioio_login_form" method="post">
    	<fieldset>
              <input type="hidden" id="twilio_number_sid" value="" name="twilio_number_sid"></input>
		      <p class="m-t-sm">
                   {{agile_lng_translate 'widgets' 'TwilioIO-content'}}
              </p>
			  
				<label><b>{{agile_lng_translate 'widgets' 'enter-twilio-widget-details'}} </b>
                       <span>         
       				      <img border="0" src="{{getS3ImagePath '/img/help.png'}}" class="v-top question-tag" rel="popover" data-trigger="hover" data-placement="right" data-content="{{agile_lng_translate 'widgets' 'twilio-tooltip'}}" id="element-title" data-trigger="hover" data-original-title="{{agile_lng_translate 'widgets' 'how-to-get-this'}}">
        			   </span>
                </label>                
				<div class="control-group form-group">
                     <div class="controls">
                         <input type="text" id="twilio_acc_sid" class="input-medium required widget_input_box form-control"  title="{{agile_lng_translate 'widgets' 'account-sid-validation'}}" value="" name="twilio_acc_sid" placeholder="{{agile_lng_translate 'admin-settings-integrations' 'account-sid'}}" autocomplete="off" minlength= "34" maxlength= "34" required></input>
                     </div>
                </div>
                <div class="control-group form-group">
                     <div class="controls">
                          <input type="password" id="twilio_auth_token" class="input-medium required widget_input_box form-control"  title="{{agile_lng_translate 'widgets' 'auth-token-validation'}}" value="" name="twilio_auth_token" placeholder="{{agile_lng_translate 'admin-settings-prefs' 'auth-token'}}" autocomplete="off" minlength= "32" maxlength= "32" required></input>
                     </div>
                </div>            

                <div class="control-group form-group" id="twilio_numbers" style="display:none;">
				    <label class="control-label">{{agile_lng_translate 'widgets' 'twilio-numbers'}}
                          <span class="v-top">         
       				        <img border="0" src="{{getS3ImagePath '/img/help.png'}}" class="v-top question-tag"  rel="popover" data-trigger="hover" data-placement="right" data-content="{{agile_lng_translate 'widgets' 'twilio-numbers-tooltip'}}" id="element-title" data-trigger="hover" data-original-title="{{agile_lng_translate 'widgets' 'what-is-this'}}">
        			      </span>
                    </label>
				    <div class="controls" id="contactTypeAhead">
			          <select name="twilio_number" id="twilio_number" class="form-control" required>	</select>
  			        </div> 
			    </div>     

                <div class="control-group form-group" id="twilio_from_numbers" style="display:none;">
				    <label class="control-label">{{agile_lng_translate 'widgets' 'verified-caller-ids'}}
                         <span class="v-top">         
       				        <img border="0" src="{{getS3ImagePath '/img/help.png'}}" class="v-top question-tag" rel="popover" data-trigger="hover" data-placement="right" data-content="{{agile_lng_translate 'widgets' 'verified-caller-ids-tooltip'}}" id="element-title" data-trigger="hover" data-original-title="{{agile_lng_translate 'widgets' 'what-is-this'}}">
        			     </span>
                    </label>
				    <div class="controls" id="contactTypeAhead">
			          <select name="twilio_from_number" id="twilio_from_number" class="form-control" required>	</select>
  			        </div> 
			    </div>  
                
                <a href="#" class="twilioio-advance-settings"><i class="icon-minus-sign twilioio-advance-settings-hide" style="display:none;"></i><i class="icon-plus-sign twilioio-advance-settings-show"></i> {{agile_lng_translate 'widgets' 'advanced-settings'}}</a>

                <div class="control-group form-group m-t-sm" id="twilio_twimlet_url_controls" style="display:none;">
				    <label class="control-label">{{agile_lng_translate 'widgets' 'redirect-twimlet-url'}}
                        <span class="v-top m-l-n-xs">         
       				        <img border="0" src="{{getS3ImagePath '/img/help.png'}}" class="v-top" style="height: 8px;margin: 2px;" rel="popover" data-placement="right" data-content="{{agile_lng_translate 'widgets' 'redirect-twimlet-url-tooltip'}}" id="element-title" data-trigger="hover" data-original-title="{{agile_lng_translate 'widgets' 'what-is-this'}}">
        			      </span>
                    </label>
				    <div class="controls">
                      <input type="text" id="twilio_twimlet_url" class="input-medium widget_input_box form-control"  title="Twimlet Url" value="" name="twilio_twimlet_url" placeholder="{{agile_lng_translate 'widgets' 'twimlet-url'}}">
                      </input>
                    </div> 
			    </div>                         
              <span id="error-number-not-selected" class="help-inline text-danger" style="display:none;">{{agile_lng_translate 'widgets' 'please-select-twilio-number'}}</span>
              <span id="note-number-not-available" class="help-inline text-danger" style="display:none;"></span>
          <span id="twilio_recording" >
        <div class="checkbox">
        <label class="i-checks i-checks-sm">
        <input type="checkbox" id="twilio_record" name="twilio_record" title="{{agile_lng_translate 'widgets' 'record-calls'}}"></input><i></i> {{agile_lng_translate 'widgets' 'record-calls'}}
        </label>
        </div>
        </span>    
<div class="m-t text-center">
              <a href="#" id="validate_account" class="btn btn-sm btn-primary">{{agile_lng_translate 'widgets' 'validate'}}</a>
			  <a href="#" id="save_prefs" class="save-agile-widget btn btn-sm btn-primary" style="display:none;">{{agile_lng_translate 'portlets' 'save'}}</a>
			  <a href="#add-widget" class="btn btn-default btn-sm ml_5">{{agile_lng_translate 'other' 'cancel'}}</a>
</div>              
		 </fieldset>
<br>
    
    <a href="#voicemail" class="text-info">{{agile_lng_translate 'widgets' 'manage-voicemails'}}</a><br/>
    <span style="font-size: 10px;">{{agile_lng_translate 'widgets' 'manage-voicemails-tooltip'}}</span>
    </form>
</div>
</script>




<script id="twilioio-dialpad-template" type="text/html">

<div>
<div id="dialpad_in_twilio" class="dialpad_btns" style="border: none;position: relative;left:calc(60%);z-index:1;padding-bottom: 10px;"> 
  <div  class"campaign_dialpad_bg" style="border-left: 1px solid #EEEEEE;" >
     <div class="campaign_dialpad_row">
       <div class="campaign_dialpad_cell" style="border-top: 1px solid #EEE;"><input type="button" value="1" class="button1" id="button1" onclick="twilioSendDTMF('1');"></div>
       <div class="campaign_dialpad_cell" style="border-top: 1px solid #EEE;"><input type="button" value="2" class="button2" id="button2" onclick="twilioSendDTMF('2');"></div>
       <div class="campaign_dialpad_cell" style="border-top: 1px solid #EEE;"><input type="button" value="3" class="button3" id="button3" onclick="twilioSendDTMF('3');"></div>
 	   <div class="campaign_dialpad_cell" style="border-top: 1px solid #EEE;"><input type="button" value="4" class="button4" id="button4" onclick="twilioSendDTMF('4');"></div>   
 	 </div>
     <div class="campaign_dialpad_row">
       <div class="campaign_dialpad_cell"><input type="button" value="5" class="button5" id="button5" onclick="twilioSendDTMF('5');"></div>
       <div class="campaign_dialpad_cell"><input type="button" value="6" class="button6" id="button6" onclick="twilioSendDTMF('6');"></div>
       <div class="campaign_dialpad_cell"><input type="button" value="7" class="button7" id="button7" onclick="twilioSendDTMF('7');"></div>
       <div class="campaign_dialpad_cell"><input type="button" value="8" class="button8" id="button8" onclick="twilioSendDTMF('8');"></div>
	 </div>
     <div class="campaign_dialpad_row">
       <div class="campaign_dialpad_cell" ><input type="button" value="9" class="button9" id="button9" onclick="twilioSendDTMF('9');"></div>
	   <div class="campaign_dialpad_cell"><input type="button" value="0" class="button0" id="button0" onclick="twilioSendDTMF('0');"></div>    
	   <div class="campaign_dialpad_cell"><input type="button" value="*" class="buttonstar" id="buttonstar" style="width:94%;" onclick="twilioSendDTMF('*');"></div>
       <div class="campaign_dialpad_cell"><input type="button" value="#" class="buttonpound" id="buttonpound" onclick="twilioSendDTMF('#');"></div> 	
	 </div>
  </div>
</div>
</div>
<div style="clear:both"></div>
</script>

<script id="twilioio-voicemail-template" type="text/html">
{{#if this}}
  <div class="btn-group" role="group" aria-label="">
    <div class="btn-group" role="group">
      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-length="{{length}}" data-src="{{this.0.extension}}">
        Send voicemail
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu">
      {{#each this}}
        <li><a href="#" data-src="{{extension}}" class="voiceMailItem">{{name}}</a></li>
      {{/each}}
      </ul>
    </div>
  </div>
{{/if}}
</script>

<script id="twilioio-users-template" type="text/html">
  <div class="btn-group" role="group" aria-label="">
    <div class="btn-group" role="group">
      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Select number
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu">
      {{#each this}}
        <li>
          <a href="#" data-src="{{twillioNumber}}" class="twiliousers">{{username}}({{twillioNumber}})</a>
        </li>
        {{/each}}
        {{#each this}}
          <li>
          {{#if this.domainusernumber}}
            <a href="#" data-src="{{domainusernumber}}" class="twiliousers">{{username}}({{domainusernumber}})</a>
          {{/if}}
          </li>
        {{/each}}
      </ul>
    </div>
  </div>
</script>
<script id="twilioio-users-conference-template" type="text/html">
  <div class="btn-group" role="group" aria-label="">
    <div class="btn-group" role="group">
      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Select number
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu">
      {{#each this}}
        <li>
        {{#if this.domainusernumber}}
          <a href="#" data-src="{{domainusernumber}}" class="twiliousersconf">{{username}}({{domainusernumber}})</a>
        {{else}}
          <a href="#" data-src="{{twillioNumber}}" class="twiliousersconf">{{username}}({{twillioNumber}})</a>
        {{/if}}
        </li>
        {{/each}}
      </ul>
    </div>
  </div>
</script>

