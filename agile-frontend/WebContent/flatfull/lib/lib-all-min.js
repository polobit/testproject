/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(ah,O,Y){function U(b){var a=O.console;ad[b]||(ad[b]=!0,ah.migrateWarnings.push(b),a&&a.warn&&!ah.migrateMute&&(a.warn("JQMIGRATE: "+b),ah.migrateTrace&&a.trace&&a.trace()))}function al(d,b,c,f){if(Object.defineProperty){try{return Object.defineProperty(d,b,{configurable:!0,enumerable:!0,get:function(){return U(f),c},set:function(a){U(f),c=a}}),Y}catch(e){}}ah._definePropertyBroken=!0,d[b]=c}var ad={};ah.migrateWarnings=[],!ah.migrateMute&&O.console&&O.console.log&&O.console.log("JQMIGRATE: Logging is active"),ah.migrateTrace===Y&&(ah.migrateTrace=!0),ah.migrateReset=function(){ad={},ah.migrateWarnings.length=0},"BackCompat"===document.compatMode&&U("jQuery is not compatible with Quirks Mode");var X=ah("<input/>",{size:1}).attr("size")&&ah.attrFn,P=ah.attr,L=ah.attrHooks.value&&ah.attrHooks.value.get||function(){return null},aj=ah.attrHooks.value&&ah.attrHooks.value.set||function(){return Y},aa=/^(?:input|button)$/i,ai=/^[238]$/,W=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ag=/^(?:checked|selected)$/i;al(ah,"attrFn",X||{},"jQuery.attrFn is deprecated"),ah.attr=function(f,b,e,d){var j=b.toLowerCase(),h=f&&f.nodeType;return d&&(4>P.length&&U("jQuery.fn.attr( props, pass ) is deprecated"),f&&!ai.test(h)&&(X?b in X:ah.isFunction(ah.fn[b])))?ah(f)[b](e):("type"===b&&e!==Y&&aa.test(f.nodeName)&&f.parentNode&&U("Can't change the 'type' of an input or button in IE 6/7/8"),!ah.attrHooks[j]&&W.test(j)&&(ah.attrHooks[j]={get:function(k,l){var c,g=ah.prop(k,l);return g===!0||"boolean"!=typeof g&&(c=k.getAttributeNode(l))&&c.nodeValue!==!1?l.toLowerCase():Y},set:function(g,k,i){var c;return k===!1?ah.removeAttr(g,i):(c=ah.propFix[i]||i,c in g&&(g[c]=!0),g.setAttribute(i,i.toLowerCase())),i}},ag.test(j)&&U("jQuery.fn.attr('"+j+"') may use property instead of attribute")),P.call(ah,f,b,e))},ah.attrHooks.value={get:function(b,a){var c=(b.nodeName||"").toLowerCase();return"button"===c?L.apply(this,arguments):("input"!==c&&"option"!==c&&U("jQuery.fn.attr('value') no longer gets properties"),a in b?b.value:null)},set:function(d,c){var b=(d.nodeName||"").toLowerCase();return"button"===b?aj.apply(this,arguments):("input"!==b&&"option"!==b&&U("jQuery.fn.attr('value', val) no longer sets properties"),d.value=c,Y)}};var af,ae,K=ah.fn.init,Z=ah.parseJSON,F=/^([^<]*)(<[\w\W]+>)([^>]*)$/;ah.fn.init=function(d,e,b){var c;return d&&"string"==typeof d&&!ah.isPlainObject(e)&&(c=F.exec(ah.trim(d)))&&c[0]&&("<"!==d.charAt(0)&&U("$(html) HTML strings must start with '<' character"),c[3]&&U("$(html) HTML text after last tag is ignored"),"#"===c[0].charAt(0)&&(U("HTML string cannot start with a '#' character"),ah.error("JQMIGRATE: Invalid selector string (XSS)")),e&&e.context&&(e=e.context),ah.parseHTML)?K.call(this,ah.parseHTML(c[2],e,!0),e,b):K.apply(this,arguments)},ah.fn.init.prototype=ah.fn,ah.parseJSON=function(a){return a||null===a?Z.apply(this,arguments):(U("jQuery.parseJSON requires a valid JSON string"),null)},ah.uaMatch=function(b){b=b.toLowerCase();var a=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:a[1]||"",version:a[2]||"0"}},ah.browser||(af=ah.uaMatch(navigator.userAgent),ae={},af.browser&&(ae[af.browser]=!0,ae.version=af.version),ae.chrome?ae.webkit=!0:ae.webkit&&(ae.safari=!0),ah.browser=ae),al(ah,"browser",ah.browser,"jQuery.browser is deprecated"),ah.sub=function(){function a(c,d){return new a.fn.init(c,d)}ah.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,c){return c&&c instanceof ah&&!(c instanceof a)&&(c=a(c)),ah.fn.init.call(this,d,c,b)},a.fn.init.prototype=a.fn;var b=a(document);return U("jQuery.sub() is deprecated"),a},ah.ajaxSetup({converters:{"text json":ah.parseJSON}});var ak=ah.fn.data;ah.fn.data=function(d){var b,c,e=this[0];return !e||"events"!==d||1!==arguments.length||(b=ah.data(e,d),c=ah._data(e,d),b!==Y&&b!==c||c===Y)?ak.apply(this,arguments):(U("Use of jQuery.fn.data('events') is deprecated"),c)};var ac=/\/(java|ecma)script/i,J=ah.fn.andSelf||ah.fn.addBack;ah.fn.andSelf=function(){return U("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),J.apply(this,arguments)},ah.clean||(ah.clean=function(m,j,f,b){j=j||document,j=!j.nodeType&&j[0]||j,j=j.ownerDocument||j,U("jQuery.clean() is deprecated");var n,k,h,e,g=[];if(ah.merge(g,ah.buildFragment(m,j).childNodes),f){for(h=function(a){return !a.type||ac.test(a.type)?b?b.push(a.parentNode?a.parentNode.removeChild(a):a):f.appendChild(a):Y},n=0;null!=(k=g[n]);n++){ah.nodeName(k,"script")&&h(k)||(f.appendChild(k),k.getElementsByTagName!==Y&&(e=ah.grep(ah.merge([],k.getElementsByTagName("script")),h),g.splice.apply(g,[n+1,0].concat(e)),n+=e.length))}}return g});var B=ah.event.add,G=ah.event.remove,ab=ah.event.trigger,D=ah.fn.toggle,q=ah.fn.live,E=ah.fn.die,z="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",R=RegExp("\\b(?:"+z+")\\b"),I=/(?:^|\s)hover(\.\S+|)\b/,V=function(a){return"string"!=typeof a||ah.event.special.hover?a:(I.test(a)&&U("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),a&&a.replace(I,"mouseenter$1 mouseleave$1"))};ah.event.props&&"attrChange"!==ah.event.props[0]&&ah.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),ah.event.dispatch&&al(ah.event,"handle",ah.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),ah.event.add=function(f,d,g,b,c){f!==document&&R.test(d)&&U("AJAX events should be attached to document: "+d),B.call(this,f,V(d||""),g,b,c)},ah.event.remove=function(f,c,g,d,b){G.call(this,f,V(c)||"",g,d,b)},ah.fn.error=function(){var a=Array.prototype.slice.call(arguments,0);return U("jQuery.fn.error() is deprecated"),a.splice(0,0,"error"),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this)},ah.fn.toggle=function(d,g){if(!ah.isFunction(d)||!ah.isFunction(g)){return D.apply(this,arguments)}U("jQuery.fn.toggle(handler, handler...) is deprecated");var b=arguments,c=d.guid||ah.guid++,f=0,e=function(h){var a=(ah._data(this,"lastToggle"+d.guid)||0)%f;return ah._data(this,"lastToggle"+d.guid,a+1),h.preventDefault(),b[a].apply(this,arguments)||!1};for(e.guid=c;b.length>f;){b[f++].guid=c}return this.click(e)},ah.fn.live=function(c,d,b){return U("jQuery.fn.live() is deprecated"),q?q.apply(this,arguments):(ah(this.context).on(c,this.selector,d,b),this)},ah.fn.die=function(a,b){return U("jQuery.fn.die() is deprecated"),E?E.apply(this,arguments):(ah(this.context).off(a,this.selector||"**",b),this)},ah.event.trigger=function(d,c,f,b){return f||R.test(d)||U("Global events are undocumented and deprecated"),ab.call(this,d,c,f||document,b)},ah.each(z.split("|"),function(a,b){ah.event.special[b]={setup:function(){var c=this;return c!==document&&(ah.event.add(document,b+"."+ah.guid,function(){ah.event.trigger(b,null,c,!0)}),ah._data(this,b,ah.guid++)),!1},teardown:function(){return this!==document&&ah.event.remove(document,b+"."+ah._data(this,b)),!1}}})}(jQuery,window);(function(b,a,c){b.curCSS=b.css})(jQuery,window);
/*!
 * Bootstrap v3.3.1 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if(typeof jQuery==="undefined"){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(b){var a=b.fn.jquery.split(" ")[0].split(".");if((a[0]<2&&a[1]<9)||(a[0]==1&&a[1]==9&&a[2]<1)){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}}(jQuery);+function(b){function a(){var e=document.createElement("bootstrap");var d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in d){if(e.style[c]!==undefined){return{end:d[c]}}}return false}b.fn.emulateTransitionEnd=function(e){var d=false;var c=this;b(this).one("bsTransitionEnd",function(){d=true});var f=function(){if(!d){b(c).trigger(b.support.transition.end)}};setTimeout(f,e);return this};b(function(){b.support.transition=a();if(!b.support.transition){return}b.event.special.bsTransitionEnd={bindType:b.support.transition.end,delegateType:b.support.transition.end,handle:function(c){if(b(c.target).is(this)){return c.handleObj.handler.apply(this,arguments)}}}})}(jQuery);+function(e){var d='[data-dismiss="alert"]';var b=function(f){e(f).on("click",d,this.close)};b.VERSION="3.3.1";b.TRANSITION_DURATION=150;b.prototype.close=function(j){var i=e(this);var g=i.attr("data-target");if(!g){g=i.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}var h=e(g);if(j){j.preventDefault()}if(!h.length){h=i.closest(".alert")}h.trigger(j=e.Event("close.bs.alert"));if(j.isDefaultPrevented()){return}h.removeClass("in");function f(){h.detach().trigger("closed.bs.alert").remove()}e.support.transition&&h.hasClass("fade")?h.one("bsTransitionEnd",f).emulateTransitionEnd(b.TRANSITION_DURATION):f()};function c(f){return this.each(function(){var h=e(this);var g=h.data("bs.alert");if(!g){h.data("bs.alert",(g=new b(this)))}if(typeof f=="string"){g[f].call(h)}})}var a=e.fn.alert;e.fn.alert=c;e.fn.alert.Constructor=b;e.fn.alert.noConflict=function(){e.fn.alert=a;return this};e(document).on("click.bs.alert.data-api",d,b.prototype.close)}(jQuery);+function(d){var b=function(f,e){this.$element=d(f);this.options=d.extend({},b.DEFAULTS,e);this.isLoading=false};b.VERSION="3.3.1";b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(g){var i="disabled";var e=this.$element;var h=e.is("input")?"val":"html";var f=e.data();g=g+"Text";if(f.resetText==null){e.data("resetText",e[h]())}setTimeout(d.proxy(function(){e[h](f[g]==null?this.options[g]:f[g]);if(g=="loadingText"){this.isLoading=true;e.addClass(i).attr(i,i)}else{if(this.isLoading){this.isLoading=false;e.removeClass(i).removeAttr(i)}}},this),0)};b.prototype.toggle=function(){var f=true;var e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var g=this.$element.find("input");if(g.prop("type")=="radio"){if(g.prop("checked")&&this.$element.hasClass("active")){f=false}else{e.find(".active").removeClass("active")}}if(f){g.prop("checked",!this.$element.hasClass("active")).trigger("change")}}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active"))}if(f){this.$element.toggleClass("active")}};function c(e){return this.each(function(){var h=d(this);var g=h.data("bs.button");var f=typeof e=="object"&&e;if(!g){h.data("bs.button",(g=new b(this,f)))}if(e=="toggle"){g.toggle()}else{if(e){g.setState(e)}}})}var a=d.fn.button;d.fn.button=c;d.fn.button.Constructor=b;d.fn.button.noConflict=function(){d.fn.button=a;return this};d(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(g){var f=d(g.target);if(!f.hasClass("btn")){f=f.closest(".btn")}c.call(f,"toggle");g.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(f){d(f.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(f.type))})}(jQuery);+function(c){var d=function(g,f){this.$element=c(g);this.$indicators=this.$element.find(".carousel-indicators");this.options=f;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",c.proxy(this.keydown,this));this.options.pause=="hover"&&!("ontouchstart" in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",c.proxy(this.pause,this)).on("mouseleave.bs.carousel",c.proxy(this.cycle,this))};d.VERSION="3.3.1";d.TRANSITION_DURATION=600;d.DEFAULTS={interval:5000,pause:"hover",wrap:true,keyboard:true};d.prototype.keydown=function(f){if(/input|textarea/i.test(f.target.tagName)){return}switch(f.which){case 37:this.prev();break;case 39:this.next();break;default:return}f.preventDefault()};d.prototype.cycle=function(f){f||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(c.proxy(this.next,this),this.options.interval));return this};d.prototype.getItemIndex=function(f){this.$items=f.parent().children(".item");return this.$items.index(f||this.$active)};d.prototype.getItemForDirection=function(i,h){var j=i=="prev"?-1:1;var f=this.getItemIndex(h);var g=(f+j)%this.$items.length;return this.$items.eq(g)};d.prototype.to=function(h){var g=this;var f=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(h>(this.$items.length-1)||h<0){return}if(this.sliding){return this.$element.one("slid.bs.carousel",function(){g.to(h)})}if(f==h){return this.pause().cycle()}return this.slide(h>f?"next":"prev",this.$items.eq(h))};d.prototype.pause=function(f){f||(this.paused=true);if(this.$element.find(".next, .prev").length&&c.support.transition){this.$element.trigger(c.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};d.prototype.next=function(){if(this.sliding){return}return this.slide("next")};d.prototype.prev=function(){if(this.sliding){return}return this.slide("prev")};d.prototype.slide=function(n,i){var q=this.$element.find(".item.active");var g=i||this.getItemForDirection(n,q);var l=this.interval;var o=n=="next"?"left":"right";var j=n=="next"?"first":"last";var k=this;if(!g.length){if(!this.options.wrap){return}g=this.$element.find(".item")[j]()}if(g.hasClass("active")){return(this.sliding=false)}var m=g[0];var f=c.Event("slide.bs.carousel",{relatedTarget:m,direction:o});this.$element.trigger(f);if(f.isDefaultPrevented()){return}this.sliding=true;l&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=c(this.$indicators.children()[this.getItemIndex(g)]);h&&h.addClass("active")}var p=c.Event("slid.bs.carousel",{relatedTarget:m,direction:o});if(c.support.transition&&this.$element.hasClass("slide")){g.addClass(n);g[0].offsetWidth;q.addClass(o);g.addClass(o);q.one("bsTransitionEnd",function(){g.removeClass([n,o].join(" ")).addClass("active");q.removeClass(["active",o].join(" "));k.sliding=false;setTimeout(function(){k.$element.trigger(p)},0)}).emulateTransitionEnd(d.TRANSITION_DURATION)}else{q.removeClass("active");g.addClass("active");this.sliding=false;this.$element.trigger(p)}l&&this.cycle();return this};function b(f){return this.each(function(){var j=c(this);var i=j.data("bs.carousel");var g=c.extend({},d.DEFAULTS,j.data(),typeof f=="object"&&f);var h=typeof f=="string"?f:g.slide;if(!i){j.data("bs.carousel",(i=new d(this,g)))}if(typeof f=="number"){i.to(f)}else{if(h){i[h]()}else{if(g.interval){i.pause().cycle()}}}})}var a=c.fn.carousel;c.fn.carousel=b;c.fn.carousel.Constructor=d;c.fn.carousel.noConflict=function(){c.fn.carousel=a;return this};var e=function(k){var g;var j=c(this);var f=c(j.attr("data-target")||(g=j.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,""));if(!f.hasClass("carousel")){return}var h=c.extend({},f.data(),j.data());var i=j.attr("data-slide-to");if(i){h.interval=false}b.call(f,h);if(i){f.data("bs.carousel").to(i)}k.preventDefault()};c(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e);c(window).on("load",function(){c('[data-ride="carousel"]').each(function(){var f=c(this);b.call(f,f.data())})})}(jQuery);+function(d){var e=function(g,f){this.$element=d(g);this.options=d.extend({},e.DEFAULTS,f);this.$trigger=d(this.options.trigger).filter('[href="#'+g.id+'"], [data-target="#'+g.id+'"]');this.transitioning=null;if(this.options.parent){this.$parent=this.getParent()}else{this.addAriaAndCollapsedClass(this.$element,this.$trigger)}if(this.options.toggle){this.toggle()}};e.VERSION="3.3.1";e.TRANSITION_DURATION=350;e.DEFAULTS={toggle:true,trigger:'[data-toggle="collapse"]'};e.prototype.dimension=function(){var f=this.$element.hasClass("width");return f?"width":"height"};e.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in")){return}var h;var j=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(j&&j.length){h=j.data("bs.collapse");if(h&&h.transitioning){return}}var g=d.Event("show.bs.collapse");this.$element.trigger(g);if(g.isDefaultPrevented()){return}if(j&&j.length){b.call(j,"hide");h||j.data("bs.collapse",null)}var k=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[k](0).attr("aria-expanded",true);this.$trigger.removeClass("collapsed").attr("aria-expanded",true);this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[k]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!d.support.transition){return f.call(this)}var i=d.camelCase(["scroll",k].join("-"));this.$element.one("bsTransitionEnd",d.proxy(f,this)).emulateTransitionEnd(e.TRANSITION_DURATION)[k](this.$element[0][i])};e.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in")){return}var g=d.Event("hide.bs.collapse");this.$element.trigger(g);if(g.isDefaultPrevented()){return}var h=this.dimension();this.$element[h](this.$element[h]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",false);this.$trigger.addClass("collapsed").attr("aria-expanded",false);this.transitioning=1;var f=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!d.support.transition){return f.call(this)}this.$element[h](0).one("bsTransitionEnd",d.proxy(f,this)).emulateTransitionEnd(e.TRANSITION_DURATION)};e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};e.prototype.getParent=function(){return d(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(d.proxy(function(h,g){var f=d(g);this.addAriaAndCollapsedClass(c(f),f)},this)).end()};e.prototype.addAriaAndCollapsedClass=function(g,f){var h=g.hasClass("in");g.attr("aria-expanded",h);f.toggleClass("collapsed",!h).attr("aria-expanded",h)};function c(f){var g;var h=f.attr("data-target")||(g=f.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"");return d(h)}function b(f){return this.each(function(){var i=d(this);var h=i.data("bs.collapse");var g=d.extend({},e.DEFAULTS,i.data(),typeof f=="object"&&f);if(!h&&g.toggle&&f=="show"){g.toggle=false}if(!h){i.data("bs.collapse",(h=new e(this,g)))}if(typeof f=="string"){h[f]()}})}var a=d.fn.collapse;d.fn.collapse=b;d.fn.collapse.Constructor=e;d.fn.collapse.noConflict=function(){d.fn.collapse=a;return this};d(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(j){var i=d(this);if(!i.attr("data-target")){j.preventDefault()}var f=c(i);var h=f.data("bs.collapse");var g=h?"toggle":d.extend({},i.data(),{trigger:this});b.call(f,g)})}(jQuery);+function(h){var e=".dropdown-backdrop";var b='[data-toggle="dropdown"]';var a=function(i){h(i).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.1";a.prototype.toggle=function(m){var l=h(this);if(l.is(".disabled, :disabled")){return}var k=f(l);var j=k.hasClass("open");d();if(!j){if("ontouchstart" in document.documentElement&&!k.closest(".navbar-nav").length){h('<div class="dropdown-backdrop"/>').insertAfter(h(this)).on("click",d)}var i={relatedTarget:this};k.trigger(m=h.Event("show.bs.dropdown",i));if(m.isDefaultPrevented()){return}l.trigger("focus").attr("aria-expanded","true");k.toggleClass("open").trigger("shown.bs.dropdown",i)}return false};a.prototype.keydown=function(m){if(!/(38|40|27|32)/.test(m.which)||/input|textarea/i.test(m.target.tagName)){return}var l=h(this);m.preventDefault();m.stopPropagation();if(l.is(".disabled, :disabled")){return}var k=f(l);var j=k.hasClass("open");if((!j&&m.which!=27)||(j&&m.which==27)){if(m.which==27){k.find(b).trigger("focus")}return l.trigger("click")}var n=" li:not(.divider):visible a";var o=k.find('[role="menu"]'+n+', [role="listbox"]'+n);if(!o.length){return}var i=o.index(m.target);if(m.which==38&&i>0){i--}if(m.which==40&&i<o.length-1){i++}if(!~i){i=0}o.eq(i).trigger("focus")};function d(i){if(i&&i.which===3){return}h(e).remove();h(b).each(function(){var l=h(this);var k=f(l);var j={relatedTarget:this};if(!k.hasClass("open")){return}k.trigger(i=h.Event("hide.bs.dropdown",j));if(i.isDefaultPrevented()){return}l.attr("aria-expanded","false");k.removeClass("open").trigger("hidden.bs.dropdown",j)})}function f(k){var i=k.attr("data-target");if(!i){i=k.attr("href");i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")}var j=i&&h(i);return j&&j.length?j:k.parent()}function g(i){return this.each(function(){var k=h(this);var j=k.data("bs.dropdown");if(!j){k.data("bs.dropdown",(j=new a(this)))}if(typeof i=="string"){j[i].call(k)}})}var c=h.fn.dropdown;h.fn.dropdown=g;h.fn.dropdown.Constructor=a;h.fn.dropdown.noConflict=function(){h.fn.dropdown=c;return this};h(document).on("click.bs.dropdown.data-api",d).on("click.bs.dropdown.data-api",".dropdown form",function(i){i.stopPropagation()}).on("click.bs.dropdown.data-api",b,a.prototype.toggle).on("keydown.bs.dropdown.data-api",b,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(jQuery);+function(d){var b=function(f,e){this.options=e;this.$body=d(document.body);this.$element=d(f);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,d.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};b.VERSION="3.3.1";b.TRANSITION_DURATION=300;b.BACKDROP_TRANSITION_DURATION=150;b.DEFAULTS={backdrop:true,keyboard:true,show:true};b.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)};b.prototype.show=function(h){var f=this;var g=d.Event("show.bs.modal",{relatedTarget:h});this.$element.trigger(g);if(this.isShown||g.isDefaultPrevented()){return}this.isShown=true;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',d.proxy(this.hide,this));this.backdrop(function(){var j=d.support.transition&&f.$element.hasClass("fade");if(!f.$element.parent().length){f.$element.appendTo(f.$body)}f.$element.show().scrollTop(0);if(f.options.backdrop){f.adjustBackdrop()}f.adjustDialog();if(j){f.$element[0].offsetWidth}f.$element.addClass("in").attr("aria-hidden",false);f.enforceFocus();var i=d.Event("shown.bs.modal",{relatedTarget:h});j?f.$element.find(".modal-dialog").one("bsTransitionEnd",function(){f.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(b.TRANSITION_DURATION):f.$element.trigger("focus").trigger(i)})};b.prototype.hide=function(f){if(f){f.preventDefault()}f=d.Event("hide.bs.modal");this.$element.trigger(f);if(!this.isShown||f.isDefaultPrevented()){return}this.isShown=false;this.escape();this.resize();d(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.bs.modal");d.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",d.proxy(this.hideModal,this)).emulateTransitionEnd(b.TRANSITION_DURATION):this.hideModal()};b.prototype.enforceFocus=function(){d(document).off("focusin.bs.modal").on("focusin.bs.modal",d.proxy(function(f){if(this.$element[0]!==f.target&&!this.$element.has(f.target).length){this.$element.trigger("focus")}},this))};b.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keydown.dismiss.bs.modal",d.proxy(function(f){f.which==27&&this.hide()},this))}else{if(!this.isShown){this.$element.off("keydown.dismiss.bs.modal")}}};b.prototype.resize=function(){if(this.isShown){d(window).on("resize.bs.modal",d.proxy(this.handleUpdate,this))}else{d(window).off("resize.bs.modal")}};b.prototype.hideModal=function(){var e=this;this.$element.hide();this.backdrop(function(){e.$body.removeClass("modal-open");e.resetAdjustments();e.resetScrollbar();e.$element.trigger("hidden.bs.modal")})};b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(i){var h=this;var f=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=d.support.transition&&f;this.$backdrop=d('<div class="modal-backdrop '+f+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",d.proxy(function(j){if(j.target!==j.currentTarget){return}this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this));if(e){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!i){return}e?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):i()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){h.removeBackdrop();i&&i()};d.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):g()}else{if(i){i()}}}};b.prototype.handleUpdate=function(){if(this.options.backdrop){this.adjustBackdrop()}this.adjustDialog()};b.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)};b.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})};b.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};b.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight;this.scrollbarWidth=this.measureScrollbar()};b.prototype.setScrollbar=function(){var e=parseInt((this.$body.css("padding-right")||0),10);if(this.bodyIsOverflowing){this.$body.css("padding-right",e+this.scrollbarWidth)}};b.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};b.prototype.measureScrollbar=function(){var f=document.createElement("div");f.className="modal-scrollbar-measure";this.$body.append(f);var e=f.offsetWidth-f.clientWidth;this.$body[0].removeChild(f);return e};function c(e,f){return this.each(function(){var i=d(this);var h=i.data("bs.modal");var g=d.extend({},b.DEFAULTS,i.data(),typeof e=="object"&&e);if(!h){i.data("bs.modal",(h=new b(this,g)))}if(typeof e=="string"){h[e](f)}else{if(g.show){h.show(f)}}})}var a=d.fn.modal;d.fn.modal=c;d.fn.modal.Constructor=b;d.fn.modal.noConflict=function(){d.fn.modal=a;return this};d(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(j){var i=d(this);var g=i.attr("href");var f=d(i.attr("data-target")||(g&&g.replace(/.*(?=#[^\s]+$)/,"")));var h=f.data("bs.modal")?"toggle":d.extend({remote:!/#/.test(g)&&g},f.data(),i.data());if(i.is("a")){j.preventDefault()}f.one("show.bs.modal",function(e){if(e.isDefaultPrevented()){return}f.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})});c.call(f,h,this)})}(jQuery);+function(d){var c=function(f,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",f,e)};c.VERSION="3.3.1";c.TRANSITION_DURATION=150;c.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false,viewport:{selector:"body",padding:0}};c.prototype.init=function(l,j,g){this.enabled=true;this.type=l;this.$element=d(j);this.options=this.getOptions(g);this.$viewport=this.options.viewport&&d(this.options.viewport.selector||this.options.viewport);var k=this.options.trigger.split(" ");for(var h=k.length;h--;){var f=k[h];if(f=="click"){this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this))}else{if(f!="manual"){var m=f=="hover"?"mouseenter":"focusin";var e=f=="hover"?"mouseleave":"focusout";this.$element.on(m+"."+this.type,this.options.selector,d.proxy(this.enter,this));this.$element.on(e+"."+this.type,this.options.selector,d.proxy(this.leave,this))}}}this.options.selector?(this._options=d.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()};c.prototype.getDefaults=function(){return c.DEFAULTS};c.prototype.getOptions=function(e){e=d.extend({},this.getDefaults(),this.$element.data(),e);if(e.delay&&typeof e.delay=="number"){e.delay={show:e.delay,hide:e.delay}}return e};c.prototype.getDelegateOptions=function(){var e={};var f=this.getDefaults();this._options&&d.each(this._options,function(g,h){if(f[g]!=h){e[g]=h}});return e};c.prototype.enter=function(f){var e=f instanceof this.constructor?f:d(f.currentTarget).data("bs."+this.type);if(e&&e.$tip&&e.$tip.is(":visible")){e.hoverState="in";return}if(!e){e=new this.constructor(f.currentTarget,this.getDelegateOptions());d(f.currentTarget).data("bs."+this.type,e)}clearTimeout(e.timeout);e.hoverState="in";if(!e.options.delay||!e.options.delay.show){return e.show()}e.timeout=setTimeout(function(){if(e.hoverState=="in"){e.show()}},e.options.delay.show)};c.prototype.leave=function(f){var e=f instanceof this.constructor?f:d(f.currentTarget).data("bs."+this.type);if(!e){e=new this.constructor(f.currentTarget,this.getDelegateOptions());d(f.currentTarget).data("bs."+this.type,e)}clearTimeout(e.timeout);e.hoverState="out";if(!e.options.delay||!e.options.delay.hide){return e.hide()}e.timeout=setTimeout(function(){if(e.hoverState=="out"){e.hide()}},e.options.delay.hide)};c.prototype.show=function(){var p=d.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(p);var q=d.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(p.isDefaultPrevented()||!q){return}var o=this;var m=this.tip();var i=this.getUID(this.type);this.setContent();m.attr("id",i);this.$element.attr("aria-describedby",i);if(this.options.animation){m.addClass("fade")}var l=typeof this.options.placement=="function"?this.options.placement.call(this,m[0],this.$element[0]):this.options.placement;var t=/\s?auto?\s?/i;var u=t.test(l);if(u){l=l.replace(t,"")||"top"}m.detach().css({top:0,left:0,display:"block"}).addClass(l).data("bs."+this.type,this);this.options.container?m.appendTo(this.options.container):m.insertAfter(this.$element);var r=this.getPosition();var f=m[0].offsetWidth;var n=m[0].offsetHeight;if(u){var k=l;var s=this.options.container?d(this.options.container):this.$element.parent();var h=this.getPosition(s);l=l=="bottom"&&r.bottom+n>h.bottom?"top":l=="top"&&r.top-n<h.top?"bottom":l=="right"&&r.right+f>h.width?"left":l=="left"&&r.left-f<h.left?"right":l;m.removeClass(k).addClass(l)}var j=this.getCalculatedOffset(l,r,f,n);this.applyPlacement(j,l);var g=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type);o.hoverState=null;if(e=="out"){o.leave(o)}};d.support.transition&&this.$tip.hasClass("fade")?m.one("bsTransitionEnd",g).emulateTransitionEnd(c.TRANSITION_DURATION):g()}};c.prototype.applyPlacement=function(j,k){var l=this.tip();var g=l[0].offsetWidth;var q=l[0].offsetHeight;var f=parseInt(l.css("margin-top"),10);var i=parseInt(l.css("margin-left"),10);if(isNaN(f)){f=0}if(isNaN(i)){i=0}j.top=j.top+f;j.left=j.left+i;d.offset.setOffset(l[0],d.extend({using:function(r){l.css({top:Math.round(r.top),left:Math.round(r.left)})}},j),0);l.addClass("in");var e=l[0].offsetWidth;var m=l[0].offsetHeight;if(k=="top"&&m!=q){j.top=j.top+q-m}var p=this.getViewportAdjustedDelta(k,j,e,m);if(p.left){j.left+=p.left}else{j.top+=p.top}var n=/top|bottom/.test(k);var h=n?p.left*2-g+e:p.top*2-q+m;var o=n?"offsetWidth":"offsetHeight";l.offset(j);this.replaceArrow(h,l[0][o],n)};c.prototype.replaceArrow=function(g,e,f){this.arrow().css(f?"left":"top",50*(1-g/e)+"%").css(f?"top":"left","")};c.prototype.setContent=function(){var f=this.tip();var e=this.getTitle();f.find(".tooltip-inner")[this.options.html?"html":"text"](e);f.removeClass("fade in top bottom left right")};c.prototype.hide=function(j){var g=this;var i=this.tip();var h=d.Event("hide.bs."+this.type);function f(){if(g.hoverState!="in"){i.detach()}g.$element.removeAttr("aria-describedby").trigger("hidden.bs."+g.type);j&&j()}this.$element.trigger(h);if(h.isDefaultPrevented()){return}i.removeClass("in");d.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f();this.hoverState=null;return this};c.prototype.fixTitle=function(){var e=this.$element;if(e.attr("title")||typeof(e.attr("data-original-title"))!="string"){e.attr("data-original-title",e.attr("title")||"").attr("title","")}};c.prototype.hasContent=function(){return this.getTitle()};c.prototype.getPosition=function(g){g=g||this.$element;var i=g[0];var f=i.tagName=="BODY";var h=i.getBoundingClientRect();if(h.width==null){h=d.extend({},h,{width:h.right-h.left,height:h.bottom-h.top})}var k=f?{top:0,left:0}:g.offset();var e={scroll:f?document.documentElement.scrollTop||document.body.scrollTop:g.scrollTop()};var j=f?{width:d(window).width(),height:d(window).height()}:null;return d.extend({},h,e,j,k)};c.prototype.getCalculatedOffset=function(e,h,f,g){return e=="bottom"?{top:h.top+h.height,left:h.left+h.width/2-f/2}:e=="top"?{top:h.top-g,left:h.left+h.width/2-f/2}:e=="left"?{top:h.top+h.height/2-g/2,left:h.left-f}:{top:h.top+h.height/2-g/2,left:h.left+h.width}};c.prototype.getViewportAdjustedDelta=function(h,k,e,j){var m={top:0,left:0};if(!this.$viewport){return m}var g=this.options.viewport&&this.options.viewport.padding||0;var l=this.getPosition(this.$viewport);if(/right|left/.test(h)){var n=k.top-g-l.scroll;var i=k.top+g-l.scroll+j;if(n<l.top){m.top=l.top-n}else{if(i>l.top+l.height){m.top=l.top+l.height-i}}}else{var o=k.left-g;var f=k.left+g+e;if(o<l.left){m.left=l.left-o}else{if(f>l.width){m.left=l.left+l.width-f}}}return m};c.prototype.getTitle=function(){var g;var e=this.$element;var f=this.options;g=e.attr("data-original-title")||(typeof f.title=="function"?f.title.call(e[0]):f.title);return g};c.prototype.getUID=function(e){do{e+=~~(Math.random()*1000000)}while(document.getElementById(e));return e};c.prototype.tip=function(){return(this.$tip=this.$tip||d(this.options.template))};c.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow"))};c.prototype.enable=function(){this.enabled=true};c.prototype.disable=function(){this.enabled=false};c.prototype.toggleEnabled=function(){this.enabled=!this.enabled};c.prototype.toggle=function(g){var f=this;if(g){f=d(g.currentTarget).data("bs."+this.type);if(!f){f=new this.constructor(g.currentTarget,this.getDelegateOptions());d(g.currentTarget).data("bs."+this.type,f)}}f.tip().hasClass("in")?f.leave(f):f.enter(f)};c.prototype.destroy=function(){var e=this;clearTimeout(this.timeout);this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};function b(e){return this.each(function(){var i=d(this);var h=i.data("bs.tooltip");var g=typeof e=="object"&&e;var f=g&&g.selector;if(!h&&e=="destroy"){return}if(f){if(!h){i.data("bs.tooltip",(h={}))}if(!h[f]){h[f]=new c(this,g)}}else{if(!h){i.data("bs.tooltip",(h=new c(this,g)))}}if(typeof e=="string"){h[e]()}})}var a=d.fn.tooltip;d.fn.tooltip=b;d.fn.tooltip.Constructor=c;d.fn.tooltip.noConflict=function(){d.fn.tooltip=a;return this}}(jQuery);+function(d){var c=function(f,e){this.init("popover",f,e)};if(!d.fn.tooltip){throw new Error("Popover requires tooltip.js")}c.VERSION="3.3.1";c.DEFAULTS=d.extend({},d.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});c.prototype=d.extend({},d.fn.tooltip.Constructor.prototype);c.prototype.constructor=c;c.prototype.getDefaults=function(){return c.DEFAULTS};c.prototype.setContent=function(){var g=this.tip();var f=this.getTitle();var e=this.getContent();g.find(".popover-title")[this.options.html?"html":"text"](f);g.find(".popover-content").children().detach().end()[this.options.html?(typeof e=="string"?"html":"append"):"text"](e);g.removeClass("fade top bottom left right in");if(!g.find(".popover-title").html()){g.find(".popover-title").hide()}};c.prototype.hasContent=function(){return this.getTitle()||this.getContent()};c.prototype.getContent=function(){var e=this.$element;var f=this.options;return e.attr("data-content")||(typeof f.content=="function"?f.content.call(e[0]):f.content)};c.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find(".arrow"))};c.prototype.tip=function(){if(!this.$tip){this.$tip=d(this.options.template)}return this.$tip};function b(e){return this.each(function(){var i=d(this);var h=i.data("bs.popover");var g=typeof e=="object"&&e;var f=g&&g.selector;if(!h&&e=="destroy"){return}if(f){if(!h){i.data("bs.popover",(h={}))}if(!h[f]){h[f]=new c(this,g)}}else{if(!h){i.data("bs.popover",(h=new c(this,g)))}}if(typeof e=="string"){h[e]()}})}var a=d.fn.popover;d.fn.popover=b;d.fn.popover.Constructor=c;d.fn.popover.noConflict=function(){d.fn.popover=a;return this}}(jQuery);+function(d){function c(f,e){var g=d.proxy(this.process,this);this.$body=d("body");this.$scrollElement=d(f).is("body")?d(window):d(f);this.options=d.extend({},c.DEFAULTS,e);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",g);this.refresh();this.process()}c.VERSION="3.3.1";c.DEFAULTS={offset:10};c.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};c.prototype.refresh=function(){var e="offset";var g=0;if(!d.isWindow(this.$scrollElement[0])){e="position";g=this.$scrollElement.scrollTop()}this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var f=this;this.$body.find(this.selector).map(function(){var i=d(this);var h=i.data("target")||i.attr("href");var j=/^#./.test(h)&&d(h);return(j&&j.length&&j.is(":visible")&&[[j[e]().top+g,h]])||null}).sort(function(i,h){return i[0]-h[0]}).each(function(){f.offsets.push(this[0]);f.targets.push(this[1])})};c.prototype.process=function(){var k=this.$scrollElement.scrollTop()+this.options.offset;var g=this.getScrollHeight();var j=this.options.offset+g-this.$scrollElement.height();var h=this.offsets;var e=this.targets;var l=this.activeTarget;var f;if(this.scrollHeight!=g){this.refresh()}if(k>=j){return l!=(f=e[e.length-1])&&this.activate(f)}if(l&&k<h[0]){this.activeTarget=null;return this.clear()}for(f=h.length;f--;){l!=e[f]&&k>=h[f]&&(!h[f+1]||k<=h[f+1])&&this.activate(e[f])}};c.prototype.activate=function(g){this.activeTarget=g;this.clear();var e=this.selector+'[data-target="'+g+'"],'+this.selector+'[href="'+g+'"]';var f=d(e).parents("li").addClass("active");if(f.parent(".dropdown-menu").length){f=f.closest("li.dropdown").addClass("active")}f.trigger("activate.bs.scrollspy")};c.prototype.clear=function(){d(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function b(e){return this.each(function(){var h=d(this);var g=h.data("bs.scrollspy");var f=typeof e=="object"&&e;if(!g){h.data("bs.scrollspy",(g=new c(this,f)))}if(typeof e=="string"){g[e]()}})}var a=d.fn.scrollspy;d.fn.scrollspy=b;d.fn.scrollspy.Constructor=c;d.fn.scrollspy.noConflict=function(){d.fn.scrollspy=a;return this};d(window).on("load.bs.scrollspy.data-api",function(){d('[data-spy="scroll"]').each(function(){var e=d(this);b.call(e,e.data())})})}(jQuery);+function(d){var b=function(f){this.element=d(f)};b.VERSION="3.3.1";b.TRANSITION_DURATION=150;b.prototype.show=function(){var l=this.element;var h=l.closest("ul:not(.dropdown-menu)");var g=l.data("target");if(!g){g=l.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}if(l.parent("li").hasClass("active")){return}var j=h.find(".active:last a");var k=d.Event("hide.bs.tab",{relatedTarget:l[0]});var i=d.Event("show.bs.tab",{relatedTarget:j[0]});j.trigger(k);l.trigger(i);if(i.isDefaultPrevented()||k.isDefaultPrevented()){return}var f=d(g);this.activate(l.closest("li"),h);this.activate(f,f.parent(),function(){j.trigger({type:"hidden.bs.tab",relatedTarget:l[0]});l.trigger({type:"shown.bs.tab",relatedTarget:j[0]})})};b.prototype.activate=function(h,g,k){var f=g.find("> .active");var j=k&&d.support.transition&&((f.length&&f.hasClass("fade"))||!!g.find("> .fade").length);function i(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",false);h.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",true);if(j){h[0].offsetWidth;h.addClass("in")}else{h.removeClass("fade")}if(h.parent(".dropdown-menu")){h.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",true)}k&&k()}f.length&&j?f.one("bsTransitionEnd",i).emulateTransitionEnd(b.TRANSITION_DURATION):i();f.removeClass("in")};function c(f){return this.each(function(){var h=d(this);var g=h.data("bs.tab");if(!g){h.data("bs.tab",(g=new b(this)))}if(typeof f=="string"){g[f]()}})}var a=d.fn.tab;d.fn.tab=c;d.fn.tab.Constructor=b;d.fn.tab.noConflict=function(){d.fn.tab=a;return this};var e=function(f){f.preventDefault();c.call(d(this),"show")};d(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery);+function(d){var c=function(f,e){this.options=d.extend({},c.DEFAULTS,e);this.$target=d(this.options.target).on("scroll.bs.affix.data-api",d.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",d.proxy(this.checkPositionWithEventLoop,this));this.$element=d(f);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};c.VERSION="3.3.1";c.RESET="affix affix-top affix-bottom";c.DEFAULTS={offset:0,target:window};c.prototype.getState=function(n,m,f,g){var e=this.$target.scrollTop();var i=this.$element.offset();var j=this.$target.height();if(f!=null&&this.affixed=="top"){return e<f?"top":false}if(this.affixed=="bottom"){if(f!=null){return(e+this.unpin<=i.top)?false:"bottom"}return(e+j<=n-g)?false:"bottom"}var h=this.affixed==null;var l=h?e:i.top;var k=h?j:m;if(f!=null&&l<=f){return"top"}if(g!=null&&(l+k>=n-g)){return"bottom"}return false};c.prototype.getPinnedOffset=function(){if(this.pinnedOffset){return this.pinnedOffset}this.$element.removeClass(c.RESET).addClass("affix");var f=this.$target.scrollTop();var e=this.$element.offset();return(this.pinnedOffset=e.top-f)};c.prototype.checkPositionWithEventLoop=function(){setTimeout(d.proxy(this.checkPosition,this),1)};c.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var f=this.$element.height();var l=this.options.offset;var j=l.top;var h=l.bottom;var i=d("body").height();if(typeof l!="object"){h=j=l}if(typeof j=="function"){j=l.top(this.$element)}if(typeof h=="function"){h=l.bottom(this.$element)}var g=this.getState(i,f,j,h);if(this.affixed!=g){if(this.unpin!=null){this.$element.css("top","")}var m="affix"+(g?"-"+g:"");var k=d.Event(m+".bs.affix");this.$element.trigger(k);if(k.isDefaultPrevented()){return}this.affixed=g;this.unpin=g=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(c.RESET).addClass(m).trigger(m.replace("affix","affixed")+".bs.affix")}if(g=="bottom"){this.$element.offset({top:i-f-h})}};function b(e){return this.each(function(){var h=d(this);var g=h.data("bs.affix");var f=typeof e=="object"&&e;if(!g){h.data("bs.affix",(g=new c(this,f)))}if(typeof e=="string"){g[e]()}})}var a=d.fn.affix;d.fn.affix=b;d.fn.affix.Constructor=c;d.fn.affix.noConflict=function(){d.fn.affix=a;return this};d(window).on("load",function(){d('[data-spy="affix"]').each(function(){var f=d(this);var e=f.data();e.offset=e.offset||{};if(e.offsetBottom!=null){e.offset.bottom=e.offsetBottom}if(e.offsetTop!=null){e.offset.top=e.offsetTop}b.call(f,e)})})}(jQuery);(function(a,b){if(typeof module!=="undefined"&&module.exports){module.exports=b(require("jquery"))}else{if(typeof define==="function"&&define.amd){define(["jquery"],function(c){return b(c)})}else{b(a.jQuery)}}}(this,function(b){var c=function(e,d){this.$element=b(e);this.options=b.extend({},b.fn.typeahead.defaults,d);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.select=this.options.select||this.select;this.autoSelect=typeof this.options.autoSelect=="boolean"?this.options.autoSelect:true;this.highlighter=this.options.highlighter||this.highlighter;this.render=this.options.render||this.render;this.updater=this.options.updater||this.updater;this.displayText=this.options.displayText||this.displayText;this.source=this.options.source;this.delay=this.options.delay;this.$menu=b(this.options.menu);this.$appendTo=this.options.appendTo?b(this.options.appendTo):null;this.shown=false;this.blur=this.options.blur||this.blur;this.keyup=this.options.keyup||this.keyup;this.listen();this.showHintOnFocus=typeof this.options.showHintOnFocus=="boolean"?this.options.showHintOnFocus:false;this.afterSelect=this.options.afterSelect};c.prototype={constructor:c,select:function(){var d=this.$menu.find(".active").data("data-value");this.$element.val(this.updater(d)).change();return this.hide()},updater:function(d){return d},setSource:function(d){this.source=d},show:function(){var e=b.extend({},this.$element.position(),{height:this.$element[0].offsetHeight}),d;d=typeof this.options.scrollHeight=="function"?this.options.scrollHeight.call():this.options.scrollHeight;(this.$appendTo?this.$menu.appendTo(this.$appendTo):this.$menu.insertAfter(this.$element)).css({top:e.top+e.height+d,left:e.left}).show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(e){var d;if(typeof(e)!="undefined"&&e!==null){this.query=e}else{this.query=this.$element.val()||""}if(this.query.length<this.options.minLength){return this.shown?this.hide():this}var f=b.proxy(function(){if(b.isFunction(this.source)){this.source(this.query,b.proxy(this.process,this))}else{if(this.source){this.process(this.source)}}},this);clearTimeout(this.lookupWorker);this.lookupWorker=setTimeout(f,this.delay)},process:function(d){var e=this;d=b.grep(d,function(f){return e.matcher(f)});d=this.sorter(d);if(!d.length){return this.shown?this.hide():this}if(d.length>0){this.$element.data("active",d[0])}else{this.$element.data("active",null)}if(this.options.items=="all"){return this.render(d).show()}else{return this.render(d.slice(0,this.options.items)).show()}},matcher:function(e){var d=this.displayText(e);return ~d.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(f){var g=[],e=[],d=[],i;while((i=f.shift())){var h=this.displayText(i);if(!h.toLowerCase().indexOf(this.query.toLowerCase())){g.push(i)}else{if(~h.indexOf(this.query)){e.push(i)}else{d.push(i)}}}return g.concat(e,d)},highlighter:function(m){var g=b("<div></div>");var j=this.query;var f=m.toLowerCase().indexOf(j.toLowerCase());var h,d,e,k,l;h=j.length;if(h===0){return g.text(m).html()}while(f>-1){d=m.substr(0,f);e=m.substr(f,h);k=m.substr(f+h);l=b("<strong></strong>").text(e);g.append(document.createTextNode(d)).append(l);m=k;f=m.toLowerCase().indexOf(j.toLowerCase())}return g.append(document.createTextNode(m)).html()},render:function(e){var g=this;var d=this;var f=false;e=b(e).map(function(h,j){var k=d.displayText(j);h=b(g.options.item).data("data-value",j);h.find("a").html(g.highlighter(k));if(k==d.$element.val()){h.addClass("active");d.$element.data("active",j);f=true}return h[0]});if(this.autoSelect&&!f){e.first().addClass("active");this.$element.data("active",e.first().data("data-value"))}this.$menu.html(e);return this},displayText:function(d){return d.name||d},next:function(e){var f=this.$menu.find(".active").removeClass("active"),d=f.next();if(!d.length){d=b(this.$menu.find("li")[0])}d.addClass("active")},prev:function(e){var f=this.$menu.find(".active").removeClass("active"),d=f.prev();if(!d.length){d=this.$menu.find("li").last()}d.addClass("active")},listen:function(){this.$element.on("focus",b.proxy(this.focus,this)).on("blur",b.proxy(this.blur,this)).on("keypress",b.proxy(this.keypress,this)).on("keyup",b.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$element.on("keydown",b.proxy(this.keydown,this))}this.$menu.on("click",b.proxy(this.click,this)).on("mouseenter","li",b.proxy(this.mouseenter,this)).on("mouseleave","li",b.proxy(this.mouseleave,this))},destroy:function(){this.$element.data("typeahead",null);this.$element.data("active",null);this.$element.off("focus").off("blur").off("keypress").off("keyup");if(this.eventSupported("keydown")){this.$element.off("keydown")}this.$menu.remove()},eventSupported:function(d){var e=d in this.$element;if(!e){this.$element.setAttribute(d,"return;");e=typeof this.$element[d]==="function"}return e},move:function(d){if(!this.shown){return}switch(d.keyCode){case 9:case 13:case 27:d.preventDefault();break;case 38:if(d.shiftKey){return}d.preventDefault();this.prev();break;case 40:if(d.shiftKey){return}d.preventDefault();this.next();break}d.stopPropagation()},keydown:function(d){this.suppressKeyPressRepeat=~b.inArray(d.keyCode,[40,38,9,13,27]);if(!this.shown&&d.keyCode==40){this.lookup()}else{this.move(d)}},keypress:function(d){if(this.suppressKeyPressRepeat){return}this.move(d)},keyup:function(d){switch(d.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}d.stopPropagation();d.preventDefault()},focus:function(d){if(!this.focused){this.focused=true;if(this.options.showHintOnFocus){this.lookup("")}}},blur:function(d){this.focused=false;if(!this.mousedover&&this.shown){this.hide()}},click:function(d){d.stopPropagation();d.preventDefault();this.select();this.$element.focus()},mouseenter:function(d){this.mousedover=true;this.$menu.find(".active").removeClass("active");b(d.currentTarget).addClass("active")},mouseleave:function(d){this.mousedover=false;if(!this.focused&&this.shown){this.hide()}}};var a=b.fn.typeahead;b.fn.typeahead=function(e){var d=arguments;if(typeof e=="string"&&e=="getActive"){return this.data("active")}return this.each(function(){var h=b(this),g=h.data("typeahead"),f=typeof e=="object"&&e;if(!g){h.data("typeahead",(g=new c(this,f)))}if(typeof e=="string"){if(d.length>1){g[e].apply(g,Array.prototype.slice.call(d,1))}else{g[e]()}}})};b.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1,scrollHeight:0,autoSelect:true,afterSelect:b.noop,delay:0};b.fn.typeahead.Constructor=c;b.fn.typeahead.noConflict=function(){b.fn.typeahead=a;return this};b(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(f){var d=b(this);if(d.data("typeahead")){return}d.typeahead(d.data())})}));(function(a,b){if(typeof module!=="undefined"&&module.exports){module.exports=b(require("jquery"))}else{if(typeof define==="function"&&define.amd){define(["jquery"],function(c){return b(c)})}else{b(a.jQuery)}}}(this,function(b){var c=function(e,d){this.$element=b(e);this.options=b.extend({},b.fn.typeahead.defaults,d);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.select=this.options.select||this.select;this.autoSelect=typeof this.options.autoSelect=="boolean"?this.options.autoSelect:true;this.highlighter=this.options.highlighter||this.highlighter;this.render=this.options.render||this.render;this.updater=this.options.updater||this.updater;this.displayText=this.options.displayText||this.displayText;this.source=this.options.source;this.delay=this.options.delay;this.$menu=b(this.options.menu);this.$appendTo=this.options.appendTo?b(this.options.appendTo):null;this.shown=false;this.blur=this.options.blur||this.blur;this.keyup=this.options.keyup||this.keyup;this.listen();this.showHintOnFocus=typeof this.options.showHintOnFocus=="boolean"?this.options.showHintOnFocus:false;this.afterSelect=this.options.afterSelect};c.prototype={constructor:c,select:function(){var d=this.$menu.find(".active").data("data-value");this.$element.val(this.updater(d)).change();return this.hide()},updater:function(d){return d},setSource:function(d){this.source=d},show:function(){var e=b.extend({},this.$element.position(),{height:this.$element[0].offsetHeight}),d;d=typeof this.options.scrollHeight=="function"?this.options.scrollHeight.call():this.options.scrollHeight;(this.$appendTo?this.$menu.appendTo(this.$appendTo):this.$menu.insertAfter(this.$element)).css({top:e.top+e.height+d,left:e.left}).show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(e){var d;if(typeof(e)!="undefined"&&e!==null){this.query=e}else{this.query=this.$element.val()||""}if(this.query.length<this.options.minLength){return this.shown?this.hide():this}var f=b.proxy(function(){if(b.isFunction(this.source)){this.source(this.query,b.proxy(this.process,this))}else{if(this.source){this.process(this.source)}}},this);clearTimeout(this.lookupWorker);this.lookupWorker=setTimeout(f,this.delay)},process:function(d){var e=this;d=b.grep(d,function(f){return e.matcher(f)});d=this.sorter(d);if(!d.length){return this.shown?this.hide():this}if(d.length>0){this.$element.data("active",d[0])}else{this.$element.data("active",null)}if(this.options.items=="all"){return this.render(d).show()}else{return this.render(d.slice(0,this.options.items)).show()}},matcher:function(e){var d=this.displayText(e);return ~d.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(f){var g=[],e=[],d=[],i;while((i=f.shift())){var h=this.displayText(i);if(!h.toLowerCase().indexOf(this.query.toLowerCase())){g.push(i)}else{if(~h.indexOf(this.query)){e.push(i)}else{d.push(i)}}}return g.concat(e,d)},highlighter:function(m){var g=b("<div></div>");var j=this.query;var f=m.toLowerCase().indexOf(j.toLowerCase());var h,d,e,k,l;h=j.length;if(h===0){return g.text(m).html()}while(f>-1){d=m.substr(0,f);e=m.substr(f,h);k=m.substr(f+h);l=b("<strong></strong>").text(e);g.append(document.createTextNode(d)).append(l);m=k;f=m.toLowerCase().indexOf(j.toLowerCase())}return g.append(document.createTextNode(m)).html()},render:function(e){var g=this;var d=this;var f=false;e=b(e).map(function(h,j){var k=d.displayText(j);h=b(g.options.item).data("data-value",j);h.find("a").html(g.highlighter(k));if(k==d.$element.val()){h.addClass("active");d.$element.data("active",j);f=true}return h[0]});if(this.autoSelect&&!f){e.first().addClass("active");this.$element.data("active",e.first().data("data-value"))}this.$menu.html(e);return this},displayText:function(d){return d.name||d},next:function(e){var f=this.$menu.find(".active").removeClass("active"),d=f.next();if(!d.length){d=b(this.$menu.find("li")[0])}d.addClass("active")},prev:function(e){var f=this.$menu.find(".active").removeClass("active"),d=f.prev();if(!d.length){d=this.$menu.find("li").last()}d.addClass("active")},listen:function(){this.$element.on("focus",b.proxy(this.focus,this)).on("blur",b.proxy(this.blur,this)).on("keypress",b.proxy(this.keypress,this)).on("keyup",b.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$element.on("keydown",b.proxy(this.keydown,this))}this.$menu.on("click",b.proxy(this.click,this)).on("mouseenter","li",b.proxy(this.mouseenter,this)).on("mouseleave","li",b.proxy(this.mouseleave,this))},destroy:function(){this.$element.data("typeahead",null);this.$element.data("active",null);this.$element.off("focus").off("blur").off("keypress").off("keyup");if(this.eventSupported("keydown")){this.$element.off("keydown")}this.$menu.remove()},eventSupported:function(d){var e=d in this.$element;if(!e){this.$element.setAttribute(d,"return;");e=typeof this.$element[d]==="function"}return e},move:function(d){if(!this.shown){return}switch(d.keyCode){case 9:case 13:case 27:d.preventDefault();break;case 38:if(d.shiftKey){return}d.preventDefault();this.prev();break;case 40:if(d.shiftKey){return}d.preventDefault();this.next();break}d.stopPropagation()},keydown:function(d){this.suppressKeyPressRepeat=~b.inArray(d.keyCode,[40,38,9,13,27]);if(!this.shown&&d.keyCode==40){this.lookup()}else{this.move(d)}},keypress:function(d){if(this.suppressKeyPressRepeat){return}this.move(d)},keyup:function(d){switch(d.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}d.stopPropagation();d.preventDefault()},focus:function(d){if(!this.focused){this.focused=true;if(this.options.showHintOnFocus){this.lookup("")}}},blur:function(d){this.focused=false;if(!this.mousedover&&this.shown){this.hide()}},click:function(d){d.stopPropagation();d.preventDefault();this.select();this.$element.focus()},mouseenter:function(d){this.mousedover=true;this.$menu.find(".active").removeClass("active");b(d.currentTarget).addClass("active")},mouseleave:function(d){this.mousedover=false;if(!this.focused&&this.shown){this.hide()}}};var a=b.fn.typeahead;b.fn.typeahead=function(e){var d=arguments;if(typeof e=="string"&&e=="getActive"){return this.data("active")}return this.each(function(){var h=b(this),g=h.data("typeahead"),f=typeof e=="object"&&e;if(!g){h.data("typeahead",(g=new c(this,f)))}if(typeof e=="string"){if(d.length>1){g[e].apply(g,Array.prototype.slice.call(d,1))}else{g[e]()}}})};b.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1,scrollHeight:0,autoSelect:true,afterSelect:b.noop,delay:0};b.fn.typeahead.Constructor=c;b.fn.typeahead.noConflict=function(){b.fn.typeahead=a;return this};b(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(f){var d=b(this);if(d.data("typeahead")){return}d.typeahead(d.data())})}));(function(a){a.extend(a.fn,{validate:function(d){if(this.length){var c=a.data(this[0],"validator");if(c){return c}this.attr("novalidate","novalidate");c=new a.validator(d,this[0]);a.data(this[0],"validator",c);if(c.settings.onsubmit){d=this.find("input, button");d.filter(".cancel").click(function(){c.cancelSubmit=true});c.settings.submitHandler&&d.filter(":submit").click(function(){c.submitButton=this});this.submit(function(f){function b(){if(c.settings.submitHandler){if(c.submitButton){var e=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)}c.settings.submitHandler.call(c,c.currentForm);c.submitButton&&e.remove();return false}return true}c.settings.debug&&f.preventDefault();if(c.cancelSubmit){c.cancelSubmit=false;return b()}if(c.form()){if(c.pendingRequest){c.formSubmitted=true;return false}return b()}else{c.focusInvalid();return false}})}return c}else{d&&d.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")}},valid:function(){if(a(this[0]).is("form")){return this.validate().form()}else{var d=true,c=a(this[0].form).validate();this.each(function(){d&=c.element(this)});return d}},removeAttrs:function(e){var c={},f=this;a.each(e.split(/\s/),function(d,b){c[b]=f.attr(b);f.removeAttr(b)});return c},rules:function(i,c){var n=this[0];if(i){var m=a.data(n.form,"validator").settings,l=m.rules,k=a.validator.staticRules(n);switch(i){case"add":a.extend(k,a.validator.normalizeRule(c));l[n.name]=k;if(c.messages){m.messages[n.name]=a.extend(m.messages[n.name],c.messages)}break;case"remove":if(!c){delete l[n.name];return k}var j={};a.each(c.split(/\s/),function(b,d){j[d]=k[d];delete k[d]});return j}}n=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(n),a.validator.classRules(n),a.validator.attributeRules(n),a.validator.staticRules(n)),n);if(n.required){m=n.required;delete n.required;n=a.extend({required:m},n)}return n}});a.extend(a.expr[":"],{blank:function(b){return !a.trim(""+b.value)},filled:function(b){return !!a.trim(""+b.value)},unchecked:function(b){return !b.checked}});a.validator=function(d,c){this.settings=a.extend(true,{},a.validator.defaults,d);this.currentForm=c;this.init()};a.validator.format=function(d,c){if(arguments.length==1){return function(){var b=a.makeArray(arguments);b.unshift(d);return a.validator.format.apply(this,b)}}if(arguments.length>2&&c.constructor!=Array){c=a.makeArray(arguments).slice(1)}if(c.constructor!=Array){c=[c]}a.each(c,function(f,b){d=d.replace(RegExp("\\{"+f+"\\}","g"),b)});return d};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(b){this.lastActive=b;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(b)).hide()}},onfocusout:function(b){if(!this.checkable(b)&&(b.name in this.submitted||!this.optional(b))){this.element(b)}},onkeyup:function(b){if(b.name in this.submitted||b==this.lastElement){this.element(b)}},onclick:function(b){if(b.name in this.submitted){this.element(b)}else{b.parentNode.name in this.submitted&&this.element(b.parentNode)}},highlight:function(e,c,f){e.type==="radio"?this.findByName(e.name).addClass(c).removeClass(f):a(e).addClass(c).removeClass(f)},unhighlight:function(e,c,f){e.type==="radio"?this.findByName(e.name).removeClass(c).addClass(f):a(e).removeClass(c).addClass(f)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function e(h){var d=a.data(this[0].form,"validator"),b="on"+h.type.replace(/^validate/,"");d.settings[b]&&d.settings[b].call(d,this[0],h)}this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var c=this.groups={};a.each(this.settings.groups,function(d,b){a.each(b.split(/\s/),function(j,i){c[i]=d})});var f=this.settings.rules;a.each(f,function(d,b){f[d]=a.validator.normalizeRule(b)});a(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e);this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var d=0,c=this.currentElements=this.elements();c[d];d++){this.check(c[d])}return this.valid()},element:function(d){this.lastElement=d=this.validationTargetFor(this.clean(d));this.prepareElement(d);this.currentElements=a(d);var c=this.check(d);if(c){delete this.invalid[d.name]}else{this.invalid[d.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return c},showErrors:function(d){if(d){a.extend(this.errorMap,d);this.errorList=[];for(var c in d){this.errorList.push({message:d[c],element:this.findByName(c)[0]})}this.successList=a.grep(this.successList,function(b){return !(b.name in d)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var c=0,f;for(f in e){c++}return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(c){return c.element.name==b.name}).length==1&&b},elements:function(){var d=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&d.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in c||!d.objectLength(a(this).rules())){return false}return c[this.name]=true})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},check:function(i){i=this.validationTargetFor(this.clean(i));var c=a(i).rules(),n=false,m;for(m in c){var l={method:m,parameters:c[m]};try{var k=a.validator.methods[m].call(this,i.value.replace(/\r/g,""),i,l.parameters);if(k=="dependency-mismatch"){n=true}else{n=false;if(k=="pending"){this.toHide=this.toHide.not(this.errorsFor(i));return}if(!k){this.formatAndAdd(i,l);return false}}}catch(j){this.settings.debug&&window.console&&console.log("exception occured when checking element "+i.id+", check the '"+l.method+"' method",j);throw j}}if(!n){this.objectLength(c)&&this.successList.push(i);return true}},customMetaMessage:function(e,c){if(a.metadata){var f=this.settings.meta?a(e).metadata()[this.settings.meta]:a(e).metadata();return f&&f.messages&&f.messages[c]}},customMessage:function(e,c){var f=this.settings.messages[e];return f&&(f.constructor==String?f:f[c])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(arguments[b]!==undefined){return arguments[b]}}},defaultMessage:function(d,c){return this.findDefined(this.customMessage(d.name,c),this.customMetaMessage(d,c),!this.settings.ignoreTitle&&d.title||undefined,a.validator.messages[c],"<strong>Warning: No message defined for "+d.name+"</strong>")},formatAndAdd:function(f,c){var h=this.defaultMessage(f,c.method),g=/\$?\{(\d+)\}/g;if(typeof h=="function"){h=h.call(this,c.parameters,f)}else{if(g.test(h)){h=jQuery.format(h.replace(g,"{$1}"),c.parameters)}}this.errorList.push({message:h,element:f});this.errorMap[f.name]=h;this.submitted[f.name]=h},addWrapper:function(b){if(this.settings.wrapper){b=b.add(b.parent(this.settings.wrapper))}return b},defaultShowErrors:function(){for(var d=0;this.errorList[d];d++){var c=this.errorList[d];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass);this.showLabel(c.element,c.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(d=0;this.successList[d];d++){this.showLabel(this.successList[d])}}if(this.settings.unhighlight){d=0;for(c=this.validElements();c[d];d++){this.settings.unhighlight.call(this,c[d],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(e,c){var f=this.errorsFor(e);if(f.length){f.removeClass(this.settings.validClass).addClass(this.settings.errorClass);f.attr("generated")&&f.html(c)}else{f=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(e),generated:true}).addClass(this.settings.errorClass).html(c||"");if(this.settings.wrapper){f=f.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}this.labelContainer.append(f).length||(this.settings.errorPlacement?this.settings.errorPlacement(f,a(e)):f.insertAfter(e))}if(!c&&this.settings.success){f.text("");typeof this.settings.success=="string"?f.addClass(this.settings.success):this.settings.success(f)}this.toShow=this.toShow.add(f)},errorsFor:function(d){var c=this.idOrName(d);return this.errors().filter(function(){return a(this).attr("for")==c})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(b){if(this.checkable(b)){b=this.findByName(b.name).not(this.settings.ignore)[0]}return b},checkable:function(b){return/radio|checkbox/i.test(b.type)},findByName:function(d){var c=this.currentForm;return a(document.getElementsByName(d)).map(function(f,b){return b.form==c&&b.name==d&&b||null})},getLength:function(d,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c)){return this.findByName(c.name).filter(":checked").length}}return d.length},depend:function(d,c){return this.dependTypes[typeof d]?this.dependTypes[typeof d](d,c):true},dependTypes:{"boolean":function(b){return b},string:function(d,c){return !!a(d,c.form).length},"function":function(d,c){return d(c)}},optional:function(b){return !a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(b){if(!this.pending[b.name]){this.pendingRequest++;this.pending[b.name]=true}},stopRequest:function(d,c){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[d.name];if(c&&this.pendingRequest==0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=false}else{if(!c&&this.pendingRequest==0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:true,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(d,c){d.constructor==String?this.classRuleSettings[d]=c:a.extend(this.classRuleSettings,d)},classRules:function(d){var c={};(d=a(d).attr("class"))&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])});return c},attributeRules:function(f){var c={};f=a(f);for(var h in a.validator.methods){var g;if(g=h==="required"&&typeof a.fn.prop==="function"?f.prop(h):f.attr(h)){c[h]=g}else{if(f[0].getAttribute("type")===h){c[h]=true}}}c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength;return c},metadataRules:function(d){if(!a.metadata){return{}}var c=a.data(d.form,"validator").settings.meta;return c?a(d).metadata()[c]:a(d).metadata()},staticRules:function(e){var c={},f=a.data(e.form,"validator");if(f.settings.rules){c=a.validator.normalizeRule(f.settings.rules[e.name])||{}}return c},normalizeRules:function(d,c){a.each(d,function(h,g){if(g===false){delete d[h]}else{if(g.param||g.depends){var b=true;switch(typeof g.depends){case"string":b=!!a(g.depends,c.form).length;break;case"function":b=g.depends.call(c,c)}if(b){d[h]=g.param!==undefined?g.param:true}else{delete d[h]}}}});a.each(d,function(f,b){d[f]=a.isFunction(b)?b(c):b});a.each(["minlength","maxlength","min","max"],function(){if(d[this]){d[this]=Number(d[this])}});a.each(["rangelength","range"],function(){if(d[this]){d[this]=[Number(d[this][0]),Number(d[this][1])]}});if(a.validator.autoCreateRanges){if(d.min&&d.max){d.range=[d.min,d.max];delete d.min;delete d.max}if(d.minlength&&d.maxlength){d.rangelength=[d.minlength,d.maxlength];delete d.minlength;delete d.maxlength}}d.messages&&delete d.messages;return d},normalizeRule:function(d){if(typeof d=="string"){var c={};a.each(d.split(/\s/),function(){c[this]=true});d=c}return d},addMethod:function(e,c,f){a.validator.methods[e]=c;a.validator.messages[e]=f!=undefined?f:a.validator.messages[e];c.length<3&&a.validator.addClassRules(e,a.validator.normalizeRule(e))},methods:{required:function(e,c,f){if(!this.depend(f,c)){return"dependency-mismatch"}switch(c.nodeName.toLowerCase()){case"select":return(e=a(c).val())&&e.length>0;case"input":if(this.checkable(c)){return this.getLength(e,c)>0}default:return a.trim(e).length>0}},remote:function(h,c,l){if(this.optional(c)){return"dependency-mismatch"}var k=this.previousValue(c);this.settings.messages[c.name]||(this.settings.messages[c.name]={});k.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=k.message;l=typeof l=="string"&&{url:l}||l;if(this.pending[c.name]){return"pending"}if(k.old===h){return k.valid}k.old=h;var j=this;this.startRequest(c);var i={};i[c.name]=h;a.ajax(a.extend(true,{url:l,mode:"abort",port:"validate"+c.name,dataType:"json",data:i,success:function(e){j.settings.messages[c.name].remote=k.originalMessage;var b=e===true;if(b){var d=j.formSubmitted;j.prepareElement(c);j.formSubmitted=d;j.successList.push(c);j.showErrors()}else{d={};e=e||j.defaultMessage(c,"remote");d[c.name]=k.message=a.isFunction(e)?e(h):e;j.showErrors(d)}k.valid=b;j.stopRequest(c,b)}},l));return"pending"},minlength:function(e,c,f){return this.optional(c)||this.getLength(a.trim(e),c)>=f},maxlength:function(e,c,f){return this.optional(c)||this.getLength(a.trim(e),c)<=f},rangelength:function(e,c,f){e=this.getLength(a.trim(e),c);return this.optional(c)||e>=f[0]&&e<=f[1]},min:function(e,c,f){return this.optional(c)||e>=f},max:function(e,c,f){return this.optional(c)||e<=f},range:function(e,c,f){return this.optional(c)||e>=f[0]&&e<=f[1]},email:function(d,c){return this.optional(c)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(d)},url:function(d,c){return this.optional(c)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(d)},date:function(d,c){return this.optional(c)||!/Invalid|NaN/.test(new Date(d))},dateISO:function(d,c){return this.optional(c)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(d)},number:function(d,c){return this.optional(c)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(d)},digits:function(d,c){return this.optional(c)||/^\d+$/.test(d)},creditcard:function(h,c){if(this.optional(c)){return"dependency-mismatch"}if(/[^0-9 -]+/.test(h)){return false}var l=0,k=0,j=false;h=h.replace(/\D/g,"");for(var i=h.length-1;i>=0;i--){k=h.charAt(i);k=parseInt(k,10);if(j){if((k*=2)>9){k-=9}}l+=k;j=!j}return l%10==0},accept:function(e,c,f){f=typeof f=="string"?f.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(c)||e.match(RegExp(".("+f+")$","i"))},equalTo:function(e,c,f){f=a(f).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()});return e==f.val()}}});a.format=a.validator.format})(jQuery);(function(f){var e={};if(f.ajaxPrefilter){f.ajaxPrefilter(function(c,b,a){b=c.port;if(c.mode=="abort"){e[b]&&e[b].abort();e[b]=a}})}else{var d=f.ajax;f.ajax=function(b){var a=("port" in b?b:f.ajaxSettings).port;if(("mode" in b?b:f.ajaxSettings).mode=="abort"){e[a]&&e[a].abort();return e[a]=d.apply(this,arguments)}return d.apply(this,arguments)}}})(jQuery);(function(a){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&a.each({focus:"focusin",blur:"focusout"},function(e,c){function f(b){b=a.event.fix(b);b.type=c;return a.event.handle.call(this,b)}a.event.special[c]={setup:function(){this.addEventListener(e,f,true)},teardown:function(){this.removeEventListener(e,f,true)},handler:function(b){arguments[0]=a.event.fix(b);arguments[0].type=c;return a.event.handle.apply(this,arguments)}}});a.extend(a.fn,{validateDelegate:function(e,c,f){return this.bind(c,function(d){var b=a(d.target);if(b.is(e)){return f.apply(b,arguments)}})}})})(jQuery);!function(d){var a=function(f,e){this.element=d(f);this.language=e.language||this.element.data("date-language")||"en";this.language=this.language in b?this.language:"en";this.format=c.parseFormat(e.format||this.element.data("date-format")||"mm/dd/yyyy");this.picker=d(c.template).appendTo("body").on({click:d.proxy(this.click,this),mousedown:d.proxy(this.mousedown,this)});this.isInput=this.element.is("input");if((this.component=this.element.is(".date")?this.element.find(".add-on"):!1)&&0===this.component.length){this.component=!1}if(this.isInput){this.element.on({focus:d.proxy(this.show,this),blur:d.proxy(this._hide,this),keyup:d.proxy(this.update,this),keydown:d.proxy(this.keydown,this)})}else{if(this.component){this.component.on("click",d.proxy(this.show,this)),f=this.element.find("input"),f.on({blur:d.proxy(this._hide,this)})}else{this.element.on("click",d.proxy(this.show,this))}}this.autoclose=!1;"autoclose" in e?this.autoclose=e.autoclose:"dateAutoclose" in this.element.data()&&(this.autoclose=this.element.data("date-autoclose"));switch(e.startView){case 2:case"decade":this.viewMode=this.startViewMode=2;break;case 1:case"year":this.viewMode=this.startViewMode=1;break;default:this.viewMode=this.startViewMode=0}this.weekStart=(e.weekStart||this.element.data("date-weekstart")||b[this.language].weekStart||0)%7;this.weekEnd=(this.weekStart+6)%7;this.startDate=-Infinity;this.endDate=Infinity;this.setStartDate(e.startDate||this.element.data("date-startdate"));this.setEndDate(e.endDate||this.element.data("date-enddate"));this.fillDow();this.fillMonths();this.update();this.showMode()};a.prototype={constructor:a,show:function(e){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();d(window).on("resize",d.proxy(this.place,this));e&&(e.stopPropagation(),e.preventDefault());if(!this.isInput){d(document).on("mousedown",d.proxy(this.hide,this))}this.element.trigger({type:"show",date:this.date})},_hide:function(g){if(d.browser.msie){var e=this,k=arguments,i=function(){clearTimeout(h);g.target.focus();e.picker.off("click",i)};this.picker.on("click",i);var h=setTimeout(function(){e.hide.apply(e,k);e.picker.off("click",i)},100)}else{return this.hide.apply(this,arguments)}},hide:function(e){this.picker.hide();d(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();this.isInput||d(document).off("mousedown",this.hide);e&&e.currentTarget.value&&this.setValue();this.element.trigger({type:"hide",date:this.date})},setValue:function(){var e=c.formatDate(this.date,this.format,this.language);this.isInput?this.element.prop("value",e):(this.component&&this.element.find("input").prop("value",e),this.element.data("date",e))},setStartDate:function(e){this.startDate=e||-Infinity;-Infinity!==this.startDate&&(this.startDate=c.parseDate(this.startDate,this.format,this.language));this.update();this.updateNavArrows()},setEndDate:function(e){this.endDate=e||Infinity;Infinity!==this.endDate&&(this.endDate=c.parseDate(this.endDate,this.format,this.language));this.update();this.updateNavArrows()},place:function(){var f=this.component?this.component.offset():this.element.offset(),e=d(window).width()-f.left,g=this.component?this.component.outerWidth():0;208>e?this.picker.addClass("dp_right").css({top:f.top+this.height,right:e-g,left:"auto"}):this.picker.css({top:f.top+this.height,left:f.left})},update:function(){this.date=c.parseDate(this.isInput?this.element.prop("value"):this.element.data("date"),this.format,this.language);this.viewDate=this.date<this.startDate?new Date(this.startDate):this.date>this.endDate?new Date(this.endDate):new Date(this.date);this.fill()},fillDow:function(){for(var f=this.weekStart,e="<tr>";f<this.weekStart+7;){e+='<th class="dow">'+b[this.language].daysMin[f++%7]+"</th>"}this.picker.find(".datepicker-days thead").append(e+"</tr>")},fillMonths:function(){for(var f="",e=0;12>e;){f+='<span class="month">'+b[this.language].monthsShort[e++]+"</span>"}this.picker.find(".datepicker-months td").html(f)},fill:function(){var t=new Date(this.viewDate),s=t.getFullYear(),r=t.getMonth(),t=-Infinity!==this.startDate?this.startDate.getFullYear():-Infinity,o=-Infinity!==this.startDate?this.startDate.getMonth():-Infinity,p=Infinity!==this.endDate?this.endDate.getFullYear():Infinity,l=Infinity!==this.endDate?this.endDate.getMonth():Infinity,m=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(b[this.language].months[r]+" "+s);this.updateNavArrows();this.fillMonths();var q=new Date(s,r-1,28,0,0,0,0),g=c.getDaysInMonth(q.getFullYear(),q.getMonth());q.setDate(g);q.setDate(g-(q.getDay()-this.weekStart+7)%7);g=new Date(q);g.setDate(g.getDate()+42);g=g.valueOf();html=[];for(var j;q.valueOf()<g;){q.getDay()==this.weekStart&&html.push("<tr>");j="";if(q.getFullYear()<s||q.getFullYear()==s&&q.getMonth()<r){j+=" old"}else{if(q.getFullYear()>s||q.getFullYear()==s&&q.getMonth()>r){j+=" new"}}q.valueOf()==m&&(j+=" active");if(q.valueOf()<this.startDate||q.valueOf()>this.endDate){j+=" disabled"}html.push('<td class="day'+j+'">'+q.getDate()+"</td>");q.getDay()==this.weekEnd&&html.push("</tr>");q.setDate(q.getDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(html.join(""));r=this.date.getFullYear();m=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");r==s&&m.eq(this.date.getMonth()).addClass("active");(s<t||s>p)&&m.addClass("disabled");s==t&&m.slice(0,o).addClass("disabled");s==p&&m.slice(l+1).addClass("disabled");html="";s=10*parseInt(s/10,10);o=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(l=-1;11>l;l++){html+='<span class="year'+(-1==l||10==l?" old":"")+(r==s?" active":"")+(s<t||s>p?" disabled":"")+'">'+s+"</span>",s+=1}o.html(html)},updateNavArrows:function(){var f=new Date(this.viewDate),e=f.getFullYear(),f=f.getMonth();switch(this.viewMode){case 0:-Infinity!==this.startDate&&e<=this.startDate.getFullYear()&&f<=this.startDate.getMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});Infinity!==this.endDate&&e>=this.endDate.getFullYear()&&f>=this.endDate.getMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:-Infinity!==this.startDate&&e<=this.startDate.getFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),Infinity!==this.endDate&&e>=this.endDate.getFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},click:function(g){g.stopPropagation();g.preventDefault();g=d(g.target).closest("span, td, th");if(1==g.length){switch(g[0].nodeName.toLowerCase()){case"th":switch(g[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var e=c.modes[this.viewMode].navStep*("prev"==g[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,e);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,e)}this.fill()}break;case"span":if(!g.is(".disabled")){if(g.is(".month")){var k=g.parent().find("span").index(g);this.viewDate.setMonth(k)}else{var i=parseInt(g.text(),10)||0;this.viewDate.setFullYear(i)}this.showMode(-1);this.fill()}break;case"td":if(g.is(".day")&&!g.is(".disabled")){var h=parseInt(g.text(),10)||1,i=this.viewDate.getFullYear(),k=this.viewDate.getMonth();g.is(".old")?0==k?(k=11,i-=1):k-=1:g.is(".new")&&(11==k?(k=0,i+=1):k+=1);this.date=new Date(i,k,h,0,0,0,0);this.viewDate=new Date(i,k,h,0,0,0,0);this.fill();this.setValue();this.element.trigger({type:"changeDate",date:this.date});this.isInput?e=this.element:this.component&&(e=this.element.find("input"));e&&(e.change(),this.autoclose&&e.blur())}}}},mousedown:function(e){e.stopPropagation();e.preventDefault()},moveMonth:function(g,f){if(!f){return g}var p=new Date(g.valueOf()),n=p.getDate(),k=p.getMonth(),l=Math.abs(f),m,f=0<f?1:-1;if(1==l){if(l=-1==f?function(){return p.getMonth()==k}:function(){return p.getMonth()!=m},m=k+f,p.setMonth(m),0>m||11<m){m=(m+12)%12}}else{for(var o=0;o<l;o++){p=this.moveMonth(p,f)}m=p.getMonth();p.setDate(n);l=function(){return m!=p.getMonth()}}for(;l();){p.setDate(--n),p.setMonth(m)}return p},moveYear:function(f,e){return this.moveMonth(f,12*e)},keydown:function(f){if(this.picker.is(":not(:visible)")){27==f.keyCode&&this.show()}else{var e=!1;switch(f.keyCode){case 27:this.hide();f.preventDefault();break;case 37:case 39:e=37==f.keyCode?-1:1;f.ctrlKey?(this.date=this.moveYear(this.date,e),this.viewDate=this.moveYear(this.viewDate,e)):f.shiftKey?(this.date=this.moveMonth(this.date,e),this.viewDate=this.moveMonth(this.viewDate,e)):(this.date.setDate(this.date.getDate()+e),this.viewDate.setDate(this.viewDate.getDate()+e));this.setValue();this.update();f.preventDefault();e=!0;break;case 38:case 40:e=38==f.keyCode?-1:1;f.ctrlKey?(this.date=this.moveYear(this.date,e),this.viewDate=this.moveYear(this.viewDate,e)):f.shiftKey?(this.date=this.moveMonth(this.date,e),this.viewDate=this.moveMonth(this.viewDate,e)):(this.date.setDate(this.date.getDate()+7*e),this.viewDate.setDate(this.viewDate.getDate()+7*e));this.setValue();this.update();f.preventDefault();e=!0;break;case 13:this.hide(),f.preventDefault()}if(e){this.element.trigger({type:"changeDate",date:this.date});var g;this.isInput?g=this.element:this.component&&(g=this.element.find("input"));g&&g.change()}}},showMode:function(e){e&&(this.viewMode=Math.max(0,Math.min(2,this.viewMode+e)));this.picker.find(">div").hide().filter(".datepicker-"+c.modes[this.viewMode].clsName).show();this.updateNavArrows()}};d.fn.datepicker=function(f){var e=Array.apply(null,arguments);e.shift();return this.each(function(){var i=d(this),h=i.data("datepicker"),g="object"==typeof f&&f;h||i.data("datepicker",h=new a(this,d.extend({},d.fn.datepicker.defaults,g)));"string"==typeof f&&h[f].apply(h,e)})};d.fn.datepicker.defaults={};d.fn.datepicker.Constructor=a;var b=d.fn.datepicker.dates={en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},c={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return 0===e%4&&0!==e%100||0===e%400},getDaysInMonth:function(f,e){return[31,c.isLeapYear(f)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\r]+/g,parseFormat:function(f){var e=f.replace(this.validParts,"\x00").split("\x00"),f=f.match(this.validParts);if(!e||!e.length||!f||0==f.length){throw Error("Invalid date format.")}return{separators:e,parts:f}},parseDate:function(v,u,t){if(v instanceof Date){return v}if(/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(v)){for(var r=/([-+]\d+)([dmwy])/,m=v.match(/([-+]\d+)([dmwy])/g),n,p,v=new Date,s=0;s<m.length;s++){switch(n=r.exec(m[s]),p=parseInt(n[1]),n[2]){case"d":v.setDate(v.getDate()+p);break;case"m":v=a.prototype.moveMonth.call(a.prototype,v,p);break;case"w":v.setDate(v.getDate()+7*p);break;case"y":v=a.prototype.moveYear.call(a.prototype,v,p)}}return new Date(v.getFullYear(),v.getMonth(),v.getDate(),0,0,0)}m=v?v.match(this.nonpunctuation):[];v=new Date;r={};p="yyyy yy M MM m mm d dd".split(" ");var q={yyyy:function(g,f){return g.setFullYear(f)},yy:function(g,f){return g.setFullYear(2000+f)},m:function(g,f){return g.setMonth(f-1)},d:function(g,f){return g.setDate(f)}},l;q.M=q.MM=q.mm=q.m;q.dd=q.d;v=new Date(v.getFullYear(),v.getMonth(),v.getDate(),0,0,0);if(m.length==u.parts.length){for(var s=0,e=u.parts.length;s<e;s++){l=parseInt(m[s],10)||1;n=u.parts[s];switch(n){case"MM":l=d(b[t].months).filter(function(){var g=this.slice(0,m[s].length),f=m[s].slice(0,g.length);return g==f});l=d.inArray(l[0],b[t].months)+1;break;case"M":l=d(b[t].monthsShort).filter(function(){var g=this.slice(0,m[s].length),f=m[s].slice(0,g.length);return g==f}),l=d.inArray(l[0],b[t].monthsShort)+1}r[n]=l}for(s=0;s<p.length;s++){if(n=p[s],n in r){q[n](v,r[n])}}}return v},formatDate:function(h,e,m){m={d:h.getDate(),m:h.getMonth()+1,M:b[m].monthsShort[h.getMonth()],MM:b[m].months[h.getMonth()],yy:h.getFullYear().toString().substring(2),yyyy:h.getFullYear()};m.dd=(10>m.d?"0":"")+m.d;m.mm=(10>m.m?"0":"")+m.m;for(var h=[],l=d.extend([],e.separators),k=0,j=e.parts.length;k<j;k++){l.length&&h.push(l.shift()),h.push(m[e.parts[k]])}return h.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};c.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+c.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+c.headTemplate+c.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+c.headTemplate+c.contTemplate+"</table></div></div>"}(window.jQuery);var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,c=function(f,e){f=String(f);e=e||2;while(f.length<e){f="0"+f}return f};return function(i,v,q){var g=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(i)=="[object String]"&&!/\d/.test(i)){v=i;i=undefined}i=i?new Date(i):new Date;if(isNaN(i)){throw SyntaxError("invalid date")}v=String(g.masks[v]||v||g.masks["default"]);if(v.slice(0,4)=="UTC:"){v=v.slice(4);q=true}var t=q?"getUTC":"get",l=i[t+"Date"](),e=i[t+"Day"](),j=i[t+"Month"](),p=i[t+"FullYear"](),r=i[t+"Hours"](),k=i[t+"Minutes"](),u=i[t+"Seconds"](),n=i[t+"Milliseconds"](),f=q?0:i.getTimezoneOffset(),h={d:l,dd:c(l),ddd:g.i18n.dayNames[e],dddd:g.i18n.dayNames[e+7],m:j+1,mm:c(j+1),mmm:g.i18n.monthNames[j],mmmm:g.i18n.monthNames[j+12],yy:String(p).slice(2),yyyy:p,h:r%12||12,hh:c(r%12||12),H:r,HH:c(r),M:k,MM:c(k),s:u,ss:c(u),l:c(n,3),L:c(n>99?Math.round(n/10):n),t:r<12?"a":"p",tt:r<12?"am":"pm",T:r<12?"A":"P",TT:r<12?"AM":"PM",Z:q?"UTC":(String(i).match(b)||[""]).pop().replace(d,""),o:(f>0?"-":"+")+c(Math.floor(Math.abs(f)/60)*100+Math.abs(f)%60,4),S:["th","st","nd","rd"][l%10>3?0:(l%100-l%10!=10)*l%10]};return v.replace(a,function(m){return m in h?h[m]:m.slice(1,m.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(a,b){return dateFormat(this,a,b)};
/*!
 * Timepicker Component for Twitter Bootstrap 3
 *
 * Copyright 2014 Nathan Hollingsworth
 *
 * Forked from: https://github.com/jdewit/bootstrap-timepicker
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
(function(d,c,a,e){var b=function(h,g){this.widget="";this.$element=d(h);this.defaultTime=g.defaultTime;this.disableFocus=g.disableFocus;this.disableMousewheel=g.disableMousewheel;this.isOpen=g.isOpen;this.minuteStep=g.minuteStep;this.modalBackdrop=g.modalBackdrop;this.orientation=g.orientation;this.secondStep=g.secondStep;this.showInputs=g.showInputs;this.showMeridian=g.showMeridian;this.showSeconds=g.showSeconds;this.template=g.template;this.appendWidgetTo=g.appendWidgetTo;this.showWidgetOnAddonClick=g.showWidgetOnAddonClick;this.timeSeparator=g.separator;this._init()};function f(h,g){if(typeof(h)==="undefined"||typeof(g)==="undefined"){return false}if(typeof(h)!=="object"||!h.getMonth){throw new Error("date1 is not a Date object")}if(typeof(g)!=="object"||!g.getMonth){throw new Error("date2 is not a Date object")}return h.getHours()===g.getHours()&&h.getMinutes()===g.getMinutes()&&h.getSeconds()===g.getSeconds()}b.prototype={constructor:b,_init:function(){var g=this;if(this.showWidgetOnAddonClick&&this.$element.parent().hasClass("input-group")){this.$element.parent(".input-group").find(".input-group-addon").on({"click.timepicker":d.proxy(this.showWidget,this)});this.$element.on({"focus.timepicker":d.proxy(this.highlightUnit,this),"click.timepicker":d.proxy(this.highlightUnit,this),"keydown.timepicker":d.proxy(this.elementKeydown,this),"blur.timepicker":d.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":d.proxy(this.mousewheel,this)})}else{if(this.template){this.$element.on({"focus.timepicker":d.proxy(this.showWidget,this),"click.timepicker":d.proxy(this.showWidget,this),"blur.timepicker":d.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":d.proxy(this.mousewheel,this)})}else{this.$element.on({"focus.timepicker":d.proxy(this.highlightUnit,this),"click.timepicker":d.proxy(this.highlightUnit,this),"keydown.timepicker":d.proxy(this.elementKeydown,this),"blur.timepicker":d.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":d.proxy(this.mousewheel,this)})}}if(this.template!==false){this.$widget=d(this.getTemplate()).on("click",d.proxy(this.widgetClick,this))}else{this.$widget=false}if(this.showInputs&&this.$widget!==false){this.$widget.find("input").each(function(){d(this).on({"click.timepicker":function(){d(this).select()},"keydown.timepicker":d.proxy(g.widgetKeydown,g),"keyup.timepicker":d.proxy(g.widgetKeyup,g)})})}this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null;this.updateFromElementVal()},clear:function(){this.hour="";this.minute="";this.second="";this.meridian="";this.$element.val("")},decrementHour:function(){if(this.showMeridian){if(this.hour===1){this.hour=12}else{if(this.hour===12){this.hour--;return this.toggleMeridian()}else{if(this.hour===0){this.hour=11;return this.toggleMeridian()}else{this.hour--}}}}else{if(this.hour<=0){this.hour=23}else{this.hour--}}},decrementMinute:function(h){var g;if(h){g=this.minute-h}else{g=this.minute-this.minuteStep}if(g<0){this.decrementHour();this.minute=g+60}else{this.minute=g}},decrementSecond:function(){var g=this.second-this.secondStep;if(g<0){this.decrementMinute(true);this.second=g+60}else{this.second=g}},elementKeydown:function(g){switch(g.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:g.preventDefault();this.highlightPrevUnit();break;case 38:g.preventDefault();switch(this.highlightedUnit){case"hour":this.incrementHour();this.highlightHour();break;case"minute":this.incrementMinute();this.highlightMinute();break;case"second":this.incrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break}this.update();break;case 39:g.preventDefault();this.highlightNextUnit();break;case 40:g.preventDefault();switch(this.highlightedUnit){case"hour":this.decrementHour();this.highlightHour();break;case"minute":this.decrementMinute();this.highlightMinute();break;case"second":this.decrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break}this.update();break}},getCursorPosition:function(){var h=this.$element.get(0);if("selectionStart" in h){return h.selectionStart}else{if(a.selection){h.focus();var i=a.selection.createRange(),g=a.selection.createRange().text.length;i.moveStart("character",-h.value.length);return i.text.length-g}}},getTemplate:function(){var i,k,h,g,j,l;if(this.showInputs){k='<input type="text" name="hour" class="bootstrap-timepicker-hour form-control" maxlength="2"/>';h='<input type="text" name="minute" class="bootstrap-timepicker-minute form-control" maxlength="2"/>';g='<input type="text" name="second" class="bootstrap-timepicker-second form-control" maxlength="2"/>';j='<input type="text" name="meridian" class="bootstrap-timepicker-meridian form-control" maxlength="2"/>'}else{k='<span class="bootstrap-timepicker-hour"></span>';h='<span class="bootstrap-timepicker-minute"></span>';g='<span class="bootstrap-timepicker-second"></span>';j='<span class="bootstrap-timepicker-meridian"></span>'}l='<table><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"></i></a></td>':"")+"</tr><tr><td>"+k+'</td> <td class="separator">'+this.timeSeparator+"</td><td>"+h+"</td> "+(this.showSeconds?'<td class="separator">'+this.timeSeparator+"</td><td>"+g+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+j+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"></i></a></td>':"")+"</tr></table>";switch(this.template){case"modal":i='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;</a><h3>Pick a Time</h3></div><div class="modal-content">'+l+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":i='<div class="bootstrap-timepicker-widget dropdown-menu">'+l+"</div>";break}return i},getTime:function(k){var g=this;function j(n){var o=n.toString();return(o.length>1)?o:"0"+o}function i(n){if(n){if(g.showMeridian){return g.hour}return(g.hour>12)?g.hour-12:g.hour}else{if(!g.showMeridian){return g.hour}if(g.meridian==="PM"){if(g.hour!==12){return g.hour+12}return g.hour}else{if(g.hour===12){return 0}return g.hour}}}function m(){if(g.showMeridian){return g.meridian}else{if(g.hour>=12){return"PM"}else{return"AM"}}}function h(n){switch(n){case"h":return j(i(true));case"H":return j(i(false));case"m":return j(g.minute);case"s":return j(g.second);case"a":return m();default:return n}}function l(q){var o={hh:"h",hH:"h",Hh:"h",HH:"H",mm:"m",ss:"s",A:"a"},n="",p;p=q;d.each(o,function(r,s){p=p.replace(r,s)});d.each(p.split(""),function(r,s){n+=h(s)});return n}if(g.hour===""){return""}if(k==="date"){return new Date(1970,0,1,i(false),g.minute,g.second,0)}if(k){return l(k)}return g.hour+g.timeSeparator+(g.minute.toString().length===1?"0"+g.minute:g.minute)+(g.showSeconds?g.timeSeparator+(g.second.toString().length===1?"0"+g.second:g.second):"")+(g.showMeridian?" "+g.meridian:"")},hideWidget:function(){if(this.isOpen===false){return}this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});if(this.template==="modal"&&this.$widget.modal){this.$widget.modal("hide")}else{this.$widget.removeClass("open")}d(a).off("mousedown.timepicker, touchend.timepicker");this.isOpen=false;this.$widget.detach()},highlightUnit:function(){this.position=this.getCursorPosition();if(this.position>=0&&this.position<=2){this.highlightHour()}else{if(this.position>=3&&this.position<=5){this.highlightMinute()}else{if(this.position>=6&&this.position<=8){if(this.showSeconds){this.highlightSecond()}else{this.highlightMeridian()}}else{if(this.position>=9&&this.position<=11){this.highlightMeridian()}}}}},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":if(this.showSeconds){this.highlightSecond()}else{if(this.showMeridian){this.highlightMeridian()}else{this.highlightHour()}}break;case"second":if(this.showMeridian){this.highlightMeridian()}else{this.highlightHour()}break;case"meridian":this.highlightHour();break}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":if(this.showMeridian){this.highlightMeridian()}else{if(this.showSeconds){this.highlightSecond()}else{this.highlightMinute()}}break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":if(this.showSeconds){this.highlightSecond()}else{this.highlightMinute()}break}},highlightHour:function(){var g=this.$element.get(0),h=this;this.highlightedUnit="hour";if(g.setSelectionRange){setTimeout(function(){if(h.hour<10){g.setSelectionRange(0,1)}else{g.setSelectionRange(0,2)}},0)}},highlightMinute:function(){var g=this.$element.get(0),h=this;this.highlightedUnit="minute";if(g.setSelectionRange){setTimeout(function(){if(h.hour<10){g.setSelectionRange(2,4)}else{g.setSelectionRange(3,5)}},0)}},highlightSecond:function(){var g=this.$element.get(0),h=this;this.highlightedUnit="second";if(g.setSelectionRange){setTimeout(function(){if(h.hour<10){g.setSelectionRange(5,7)}else{g.setSelectionRange(6,8)}},0)}},highlightMeridian:function(){var g=this.$element.get(0),h=this;this.highlightedUnit="meridian";if(g.setSelectionRange){if(this.showSeconds){setTimeout(function(){if(h.hour<10){g.setSelectionRange(8,10)}else{g.setSelectionRange(9,11)}},0)}else{setTimeout(function(){if(h.hour<10){g.setSelectionRange(5,7)}else{g.setSelectionRange(6,8)}},0)}}},incrementHour:function(){if(this.showMeridian){if(this.hour===11){this.hour++;return this.toggleMeridian()}else{if(this.hour===12){this.hour=0}}}if(this.hour===23){this.hour=0;return}this.hour++},incrementMinute:function(h){var g;if(h){g=this.minute+h}else{g=this.minute+this.minuteStep-(this.minute%this.minuteStep)}if(g>59){this.incrementHour();this.minute=g-60}else{this.minute=g}},incrementSecond:function(){var g=this.second+this.secondStep-(this.second%this.secondStep);if(g>59){this.incrementMinute(true);this.second=g-60}else{this.second=g}},mousewheel:function(h){if(this.disableMousewheel){return}h.preventDefault();h.stopPropagation();var i=h.originalEvent.wheelDelta||-h.originalEvent.detail,g=null;if(h.type==="mousewheel"){g=(h.originalEvent.wheelDelta*-1)}else{if(h.type==="DOMMouseScroll"){g=40*h.originalEvent.detail}}if(g){h.preventDefault();d(this).scrollTop(g+d(this).scrollTop())}switch(this.highlightedUnit){case"minute":if(i>0){this.incrementMinute()}else{this.decrementMinute()}this.highlightMinute();break;case"second":if(i>0){this.incrementSecond()}else{this.decrementSecond()}this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break;default:if(i>0){this.incrementHour()}else{this.decrementHour()}this.highlightHour();break}return false},place:function(){if(this.isInline){return}var i=this.$widget.outerWidth(),p=this.$widget.outerHeight(),k=10,m=d(c).width(),h=d(c).height(),l=d(c).scrollTop();var s=parseInt(this.$element.parents().filter(function(){}).first().css("z-index"),10)+10;var o=this.component?this.component.parent().offset():this.$element.offset();var t=this.component?this.component.outerHeight(true):this.$element.outerHeight(false);var j=this.component?this.component.outerWidth(true):this.$element.outerWidth(false);var n=o.left,r=o.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left");if(this.orientation.x!=="auto"){this.picker.addClass("timepicker-orient-"+this.orientation.x);if(this.orientation.x==="right"){n-=i-j}}else{this.$widget.addClass("timepicker-orient-left");if(o.left<0){n-=o.left-k}else{if(o.left+i>m){n=m-i-k}}}var g=this.orientation.y,q,u;if(g==="auto"){q=-l+o.top-p;u=l+h-(o.top+t+p);if(Math.max(q,u)===u){g="top"}else{g="bottom"}}this.$widget.addClass("timepicker-orient-"+g);if(g==="top"){r+=t}else{r-=p+parseInt(this.$widget.css("padding-top"),10)}this.$widget.css({top:r,left:n,zIndex:s})},remove:function(){d("document").off(".timepicker");if(this.$widget){this.$widget.remove()}delete this.$element.data().timepicker},setDefaultTime:function(i){if(!this.$element.val()){if(i==="current"){var g=new Date(),h=g.getHours(),k=g.getMinutes(),l=g.getSeconds(),j="AM";if(l!==0){l=Math.ceil(g.getSeconds()/this.secondStep)*this.secondStep;if(l===60){k+=1;l=0}}if(k!==0){k=Math.ceil(g.getMinutes()/this.minuteStep)*this.minuteStep;if(k===60){h+=1;k=0}}if(this.showMeridian){if(h===0){h=12}else{if(h>=12){if(h>12){h=h-12}j="PM"}else{j="AM"}}}this.hour=h;this.minute=k;this.second=l;this.meridian=j;this.update()}else{if(i===false){this.hour=0;this.minute=0;this.second=0;this.meridian="AM"}else{this.setTime(i)}}}else{this.updateFromElementVal()}},setTime:function(j,l){var n,o,m,k,h,i,g;if(!j){this.clear();return}if(typeof j==="object"&&j.getMonth){g=this.getTime("date");if(f(g,j)){return}m=j.getHours();k=j.getMinutes();h=j.getSeconds();if(this.showMeridian){i="AM";if(m>12){i="PM";m=m-12}if(m===12){i="PM"}}}else{if(j.match(/p/i)!==null){i="PM"}else{i="AM"}n=new RegExp("[^0-9\\"+this.timeSeparator+"]","g");j=j.replace(n,"");o=j.split(this.timeSeparator);m=o[0]?o[0].toString():o.toString();k=o[1]?o[1].toString():"";h=o[2]?o[2].toString():"";if(m.length>4){h=m.substr(4,2)}if(m.length>2){k=m.substr(2,2);m=m.substr(0,2)}if(k.length>2){h=k.substr(2,2);k=k.substr(0,2)}if(h.length>2){h=h.substr(2,2)}m=parseInt(m,10);k=parseInt(k,10);h=parseInt(h,10);if(isNaN(m)){m=0}if(isNaN(k)){k=0}if(isNaN(h)){h=0}if(this.showMeridian){if(m<1){m=1}else{if(m>12){m=12}}}else{if(m>=24){m=23}else{if(m<0){m=0}}if(m<13&&i==="PM"){m=m+12}}if(k<0){k=0}else{if(k>=60){k=59}}if(this.showSeconds){if(isNaN(h)){h=0}else{if(h<0){h=0}else{if(h>=60){h=59}}}}}this.hour=m;this.minute=k;this.second=h;this.meridian=i;this.update(l)},showWidget:function(){if(this.isOpen){return}if(this.$element.is(":disabled")){return}this.$widget.appendTo(this.appendWidgetTo);var g=this;d(a).on("mousedown.timepicker, touchend.timepicker",function(h){if(!(g.$element.parent().find(h.target).length||g.$widget.is(h.target)||g.$widget.find(h.target).length)){g.hideWidget()}});this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});this.place();if(this.disableFocus){this.$element.blur()}if(this.hour===""){if(this.defaultTime){this.setDefaultTime(this.defaultTime)}else{this.setTime("0"+this.timeSeparator+"0"+this.timeSeparator+"0")}}if(this.template==="modal"&&this.$widget.modal){this.$widget.modal("show").on("hidden",d.proxy(this.hideWidget,this))}else{if(this.isOpen===false){this.$widget.addClass("open")}}this.isOpen=true},toggleMeridian:function(){this.meridian=this.meridian==="AM"?"PM":"AM"},update:function(g){this.updateElement();if(!g){this.updateWidget()}this.$element.trigger({type:"changeTime.timepicker",time:{date:this.getTime("date"),value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget===false){return}var g=this.hour,i=this.minute.toString().length===1?"0"+this.minute:this.minute,h=this.second.toString().length===1?"0"+this.second:this.second;if(this.showInputs){this.$widget.find("input.bootstrap-timepicker-hour").val(g);this.$widget.find("input.bootstrap-timepicker-minute").val(i);if(this.showSeconds){this.$widget.find("input.bootstrap-timepicker-second").val(h)}if(this.showMeridian){this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)}}else{this.$widget.find("span.bootstrap-timepicker-hour").text(g);this.$widget.find("span.bootstrap-timepicker-minute").text(i);if(this.showSeconds){this.$widget.find("span.bootstrap-timepicker-second").text(h)}if(this.showMeridian){this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian)}}},updateFromWidgetInputs:function(){if(this.$widget===false){return}var g=this.$widget.find("input.bootstrap-timepicker-hour").val()+this.timeSeparator+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?this.timeSeparator+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(g,true)},widgetClick:function(h){h.stopPropagation();h.preventDefault();var i=d(h.target),g=i.closest("a").data("action");if(g){this[g]()}this.update();if(i.is("input")){i.get(0).setSelectionRange(0,2)}},widgetKeydown:function(h){var i=d(h.target),g=i.attr("class").replace("bootstrap-timepicker-","");switch(h.keyCode){case 9:if((this.showMeridian&&g==="meridian")||(this.showSeconds&&g==="second")||(!this.showMeridian&&!this.showSeconds&&g==="minute")){return this.hideWidget()}break;case 27:this.hideWidget();break;case 38:h.preventDefault();switch(g){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian();break}this.setTime(this.getTime());i.get(0).setSelectionRange(0,2);break;case 40:h.preventDefault();switch(g){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian();break}this.setTime(this.getTime());i.get(0).setSelectionRange(0,2);break}},widgetKeyup:function(g){if((g.keyCode===65)||(g.keyCode===77)||(g.keyCode===80)||(g.keyCode===46)||(g.keyCode===8)||(g.keyCode>=46&&g.keyCode<=57)||(g.keyCode>=96&&g.keyCode<=105)){this.updateFromWidgetInputs()}}};d.fn.timepicker=function(h){var g=Array.apply(null,arguments),i;g.shift();return this.each(function(){var l=d(this),k=l.data("timepicker"),j=typeof h==="object"&&h;if(!k){i=d.extend({},d.fn.timepicker.defaults,j,d(this).data());l.data("timepicker",(k=new b(this,i)))}if(typeof h==="string"){k[h].apply(k,g)}})};d.fn.timepicker.defaults={defaultTime:"current",disableFocus:false,disableMousewheel:false,isOpen:false,minuteStep:15,modalBackdrop:false,orientation:{x:"auto",y:"auto"},secondStep:15,showSeconds:false,showInputs:true,showMeridian:true,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:true,separator:":"};d.fn.timepicker.Constructor=b})(jQuery,window,document);function getCode(a){switch(a.toUpperCase()){case"AC":a="Ascension Island";break;case"AD":a="Andorra";break;case"AE":a="United Arab Emirates";break;case"AF":a="Afghanistan";break;case"AG":a="Antigua and Barbuda";break;case"AI":a="Anguilla";break;case"AL":a="Albania";break;case"AM":a="Armenia";break;case"AN":a="Netherlands Antilles";break;case"AO":a="Angola";break;case"AQ":a="Antarctica";break;case"AR":a="Argentina";break;case"AS":a="American Samoa";break;case"AT":a="Austria";break;case"AU":a="Australia";break;case"AW":a="Aruba";break;case"AZ":a="Azerbaijan";break;case"BA":a="Bosnia and Herzegovina";break;case"BB":a="Barbados";break;case"BD":a="Bangladesh";break;case"BE":a="Belgium";break;case"BF":a="Burkina Faso";break;case"BG":a="Bulgaria";break;case"BH":a="Bahrain";break;case"BI":a="Burundi";break;case"BJ":a="Benin";break;case"BM":a="Bermuda";break;case"BN":a="Brunei";break;case"BO":a="Bolivia";break;case"BR":a="Brazil";break;case"BS":a="Bahamas";break;case"BT":a="Bhutan";break;case"BV":a="Bouvet Island";break;case"BW":a="Botswana";break;case"BY":a="Belarus";break;case"BZ":a="Belize";break;case"CA":a="Canada";break;case"CC":a="Cocos (Keeling) Islands";break;case"CD":a="Congo, Democratic People's Republic";break;case"CF":a="Central African Republic";break;case"CG":a="Congo, Republic of";break;case"CH":a="Switzerland";break;case"CI":a="C&ocirc;te d'Ivoire";break;case"CK":a="Cook Islands";break;case"CL":a="Chile";break;case"CM":a="Cameroon";break;case"CN":a="China";break;case"CO":a="Colombia";break;case"CR":a="Costa Rica";break;case"CU":a="Cuba";break;case"CV":a="Cape Verde";break;case"CX":a="Christmas Island";break;case"CY":a="Cyprus";break;case"CZ":a="Czech Republic";break;case"DE":a="Germany";break;case"DJ":a="Djibouti";break;case"DK":a="Denmark";break;case"DM":a="Dominica";break;case"DO":a="Dominican Republic";break;case"DZ":a="Algeria";break;case"EC":a="Ecuador";break;case"EE":a="Estonia";break;case"EG":a="Egypt";break;case"EH":a="Western Sahara";break;case"ER":a="Eritrea";break;case"ES":a="Spain";break;case"ET":a="Ethiopia";break;case"FI":a="Finland";break;case"FJ":a="Fiji";break;case"FK":a="Falkland Islands (Malvina)";break;case"FM":a="Micronesia, Federal State of";break;case"FO":a="Faroe Islands";break;case"FR":a="France";break;case"GA":a="Gabon";break;case"GD":a="Grenada";break;case"GE":a="Georgia";break;case"GF":a="French Guiana";break;case"GG":a="Guernsey";break;case"GH":a="Ghana";break;case"GI":a="Gibraltar";break;case"GL":a="Greenland";break;case"GM":a="Gambia";break;case"GN":a="Guinea";break;case"GP":a="Guadeloupe";break;case"GQ":a="Equatorial Guinea";break;case"GR":a="Greece";break;case"GS":a="South Georgia and the South Sandwich Islands";break;case"GT":a="Guatemala";break;case"GU":a="Guam";break;case"GW":a="Guinea-Bissau";break;case"GY":a="Guyana";break;case"HK":a="Hong Kong";break;case"HM":a="Heard and McDonald Islands";break;case"HN":a="Honduras";break;case"HR":a="Croatia/Hrvatska";break;case"HT":a="Haiti";break;case"HU":a="Hungary";break;case"ID":a="Indonesia";break;case"IE":a="Ireland";break;case"IL":a="Israel";break;case"IM":a="Isle of Man";break;case"IN":a="India";break;case"IO":a="British Indian Ocean Territory";break;case"IQ":a="Iraq";break;case"IR":a="Iran";break;case"IS":a="Iceland";break;case"IT":a="Italy";break;case"JE":a="Jersey";break;case"JM":a="Jamaica";break;case"JO":a="Jordan";break;case"JP":a="Japan";break;case"KE":a="Kenya";break;case"KG":a="Kyrgyzstan";break;case"KH":a="Cambodia";break;case"KI":a="Kiribati";break;case"KM":a="Comoros";break;case"KN":a="Saint Kitts and Nevis";break;case"KP":a="North Korea";break;case"KR":a="South Korea";break;case"KW":a="Kuwait";break;case"KY":a="Cayman Islands";break;case"KZ":a="Kazakstan";break;case"LA":a="Laos";break;case"LB":a="Lebanon";break;case"LC":a="Saint Lucia";break;case"LI":a="Liechtenstein";break;case"LK":a="Sri Lanka";break;case"LR":a="Liberia";break;case"LS":a="Lesotho";break;case"LT":a="Lithuania";break;case"LU":a="Luxembourg";break;case"LV":a="Latvia";break;case"LY":a="Lybia";break;case"MA":a="Morocco";break;case"MC":a="Monaco";break;case"MD":a="Modolva";break;case"MG":a="Madagascar";break;case"MH":a="Marshall Islands";break;case"MK":a="Macedonia, Former Yugoslav Republic";break;case"ML":a="Mali";break;case"MM":a="Myanmar";break;case"MN":a="Mongolia";break;case"MO":a="Macau";break;case"MP":a="Northern Mariana Islands";break;case"MQ":a="Martinique";break;case"MR":a="Mauritania";break;case"MS":a="Montserrat";break;case"MT":a="Malta";break;case"MU":a="Mauritius";break;case"MV":a="Maldives";break;case"MW":a="Malawi";break;case"MX":a="Mexico";break;case"MY":a="Maylaysia";break;case"MZ":a="Mozambique";break;case"NA":a="Namibia";break;case"NC":a="New Caledonia";break;case"NE":a="Niger";break;case"NF":a="Norfolk Island";break;case"NG":a="Nigeria";break;case"NI":a="Nicaragua";break;case"NL":a="Netherlands";break;case"NO":a="Norway";break;case"NP":a="Nepal";break;case"NR":a="Nauru";break;case"NU":a="Niue";break;case"NZ":a="New Zealand";break;case"OM":a="Oman";break;case"PA":a="Panama";break;case"PE":a="Peru";break;case"PF":a="French Polynesia";break;case"PG":a="Papua New Guinea";break;case"PH":a="Philippines";break;case"PK":a="Pakistan";break;case"PL":a="Poland";break;case"PM":a="St. Pierre and Miquelon";break;case"PN":a="Pitcairn Island";break;case"PR":a="Puerto Rico";break;case"PS":a="Palestinian Territories";break;case"PT":a="Portugal";break;case"PW":a="Palau";break;case"PY":a="Paraguay";break;case"QA":a="Qatar";break;case"RE":a="Reunion";break;case"RO":a="Romania";break;case"RU":a="Russian Federation";break;case"RW":a="Twanda";break;case"SA":a="Saudi Arabia";break;case"SB":a="Solomon Islands";break;case"SC":a="Seychelles";break;case"SU":a="Sudan";break;case"SE":a="Sweden";break;case"SG":a="Singapore";break;case"SH":a="St. Helena";break;case"SI":a="Slovenia";break;case"SJ":a="Svalbard and Jan Mayan Islands";break;case"SK":a="Slovakia";break;case"SL":a="Sierra Leone";break;case"SM":a="San Marino";break;case"SN":a="Senegal";break;case"SO":a="Somalia";break;case"SR":a="Suriname";break;case"ST":a="S&atilde;o Tome and Principe";break;case"SV":a="El Salvador";break;case"SY":a="Syria";break;case"SZ":a="Swaziland";break;case"TC":a="Turks and Ciacos Islands";break;case"TD":a="Chad";break;case"TF":a="French Southern Territories";break;case"TG":a="Togo";break;case"TH":a="Thailand";break;case"TJ":a="Tajikistan";break;case"TK":a="Tokelau";break;case"TM":a="Turkmenistan";break;case"TN":a="Tunisia";break;case"TO":a="Tonga";break;case"TP":a="East Timor";break;case"TR":a="Turkey";break;case"TT":a="Trinidad and Tobago";break;case"TV":a="Tuvalu";break;case"TW":a="Taiwan";break;case"TZ":a="Tanzania";break;case"UA":a="Ukraine";break;case"UG":a="Uganda";break;case"UK":a="United Kingdom";break;case"UM":a="US Minor Outlying Islands";break;case"US":a="United States of America";break;case"UY":a="Uruguay";break;case"UZ":a="Uzbekistan";break;case"VA":a="Vatican City";break;case"VC":a="Saint Vincent and the Grenadines";break;case"VE":a="Venezuela";break;case"VG":a="British Virgin Islands";break;case"VI":a="US Virgin Islands";break;case"VN":a="Vietnam";break;case"VU":a="Vanuatu";break;case"WF":a="Wallis and Futuna Islands";break;case"WS":a="Western Samoa";break;case"YE":a="Yemen";break;case"YT":a="Mayotte";break;case"YU":a="Yugoslavia";break;case"ZA":a="South Africa";break;case"ZM":a="Zambia";break;case"ZR":a="Zaire";break;case"ZW":a="Zimbabwe";break;default:a=a}return a}!function(b){b.fn.initial=function(a){var d=["#1abc9c","#16a085","#f1c40f","#f39c12","#2ecc71","#27ae60","#e67e22","#d35400","#3498db","#2980b9","#e74c3c","#c0392b","#9b59b6","#8e44ad","#bdc3c7","#34495e","#2c3e50","#95a5a6","#7f8c8d","#ec87bf","#d870ad","#f69785","#9ba37e","#b49255","#b49255","#a94136"];return this.each(function(){var n=b(this),m=b.extend({name:"Name",charCount:1,textColor:"#ffffff",height:100,width:100,fontSize:60,fontWeight:400,fontFamily:"HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica, Arial,Lucida Grande, sans-serif"},a);m=b.extend(m,n.data());var l=m.name.substr(0,m.charCount).toUpperCase(),k=b('<text text-anchor="middle"></text>').attr({y:"50%",x:"50%",dy:"0.35em","pointer-events":"auto",fill:m.textColor,"font-family":m.fontFamily}).html(l).css({"font-weight":m.fontWeight,"font-size":m.fontSize+"px"}),j=b("<svg></svg>").attr({xmlns:"http://www.w3.org/2000/svg","pointer-events":"none",width:m.width,height:m.height}).css({"background-color":d[l.charCodeAt(0)-65],width:m.width+"px",height:m.height+"px"});j.append(k);var c=window.btoa(b("<div>").append(j.clone()).html());n.attr("src","data:image/svg+xml;base64,"+c)})}}(jQuery);(function(a,b){if(typeof exports==="object"&&exports){b(exports)}else{var c={};b(c);if(typeof define==="function"&&define.amd){define(c)}else{a.Mustache=c}}})(this,function(a){var f=/\s*/;var m=/\s+/;var k=/\S/;var i=/\s*=/;var o=/\s*\}/;var t=/#|\^|\/|>|\{|&|=|!/;var g=RegExp.prototype.test;function s(z,y){return g.call(z,y)}function h(y){return !s(k,y)}var v=Object.prototype.toString;var l=Array.isArray||function(y){return v.call(y)==="[object Array]"};function b(y){return typeof y==="function"}function e(y){return y.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function n(y){return String(y).replace(/[&<>"'\/]/g,function(z){return d[z]})}function r(y){if(!l(y)||y.length!==2){throw new Error("Invalid tags: "+y)}return[new RegExp(e(y[0])+"\\s*"),new RegExp("\\s*"+e(y[1]))]}function x(O,E){E=E||a.tags;O=O||"";if(typeof E==="string"){E=E.split(m)}var I=r(E);var A=new u(O);var G=[];var F=[];var D=[];var P=false;var N=false;function M(){if(P&&!N){while(D.length){delete F[D.pop()]}}else{D=[]}P=false;N=false}var B,z,H,J,C,y;while(!A.eos()){B=A.pos;H=A.scanUntil(I[0]);if(H){for(var K=0,L=H.length;K<L;++K){J=H.charAt(K);if(h(J)){D.push(F.length)}else{N=true}F.push(["text",J,B,B+1]);B+=1;if(J==="\n"){M()}}}if(!A.scan(I[0])){break}P=true;z=A.scan(t)||"name";A.scan(f);if(z==="="){H=A.scanUntil(i);A.scan(i);A.scanUntil(I[1])}else{if(z==="{"){H=A.scanUntil(new RegExp("\\s*"+e("}"+E[1])));A.scan(o);A.scanUntil(I[1]);z="&"}else{H=A.scanUntil(I[1])}}if(!A.scan(I[1])){throw new Error("Unclosed tag at "+A.pos)}C=[z,H,B,A.pos];F.push(C);if(z==="#"||z==="^"){G.push(C)}else{if(z==="/"){y=G.pop();if(!y){throw new Error('Unopened section "'+H+'" at '+B)}if(y[1]!==H){throw new Error('Unclosed section "'+y[1]+'" at '+B)}}else{if(z==="name"||z==="{"||z==="&"){N=true}else{if(z==="="){I=r(E=H.split(m))}}}}}y=G.pop();if(y){throw new Error('Unclosed section "'+y[1]+'" at '+A.pos)}return w(c(F))}function c(D){var A=[];var C,z;for(var B=0,y=D.length;B<y;++B){C=D[B];if(C){if(C[0]==="text"&&z&&z[0]==="text"){z[1]+=C[1];z[3]=C[3]}else{A.push(C);z=C}}}return A}function w(D){var F=[];var C=F;var E=[];var A,B;for(var z=0,y=D.length;z<y;++z){A=D[z];switch(A[0]){case"#":case"^":C.push(A);E.push(A);C=A[4]=[];break;case"/":B=E.pop();B[5]=A[2];C=E.length>0?E[E.length-1][4]:F;break;default:C.push(A)}}return F}function u(y){this.string=y;this.tail=y;this.pos=0}u.prototype.eos=function(){return this.tail===""};u.prototype.scan=function(A){var z=this.tail.match(A);if(z&&z.index===0){var y=z[0];this.tail=this.tail.substring(y.length);this.pos+=y.length;return y}return""};u.prototype.scanUntil=function(A){var z=this.tail.search(A),y;switch(z){case -1:y=this.tail;this.tail="";break;case 0:y="";break;default:y=this.tail.substring(0,z);this.tail=this.tail.substring(z)}this.pos+=y.length;return y};function q(z,y){this.view=z==null?{}:z;this.cache={".":this.view};this.parent=y}q.prototype.push=function(y){return new q(y,this)};q.prototype.lookup=function(y){var B;if(y in this.cache){B=this.cache[y]}else{var A=this;while(A){if(y.indexOf(".")>0){B=A.view;var C=y.split("."),z=0;while(B!=null&&z<C.length){B=B[C[z++]]}}else{B=A.view[y]}if(B!=null){break}A=A.parent}this.cache[y]=B}if(b(B)){B=B.call(this.view)}return B};function p(){this.cache={}}p.prototype.clearCache=function(){this.cache={}};p.prototype.parse=function(A,z){var y=this.cache;var B=y[A];if(B==null){B=y[A]=x(A,z)}return B};p.prototype.render=function(B,y,A){var C=this.parse(B);var z=y instanceof q?y:new q(y);return this.renderTokens(C,z,A,B)};p.prototype.renderTokens=function(G,y,E,I){var C="";var K=this;function z(L){return K.render(L,y,E)}var A,H;for(var D=0,F=G.length;D<F;++D){A=G[D];switch(A[0]){case"#":H=y.lookup(A[1]);if(!H){continue}if(l(H)){for(var B=0,J=H.length;B<J;++B){C+=this.renderTokens(A[4],y.push(H[B]),E,I)}}else{if(typeof H==="object"||typeof H==="string"){C+=this.renderTokens(A[4],y.push(H),E,I)}else{if(b(H)){if(typeof I!=="string"){throw new Error("Cannot use higher-order sections without the original template")}H=H.call(y.view,I.slice(A[3],A[5]),z);if(H!=null){C+=H}}else{C+=this.renderTokens(A[4],y,E,I)}}}break;case"^":H=y.lookup(A[1]);if(!H||l(H)&&H.length===0){C+=this.renderTokens(A[4],y,E,I)}break;case">":if(!E){continue}H=b(E)?E(A[1]):E[A[1]];if(H!=null){C+=this.renderTokens(this.parse(H),y,E,H)}break;case"&":H=y.lookup(A[1]);if(H!=null){C+=H}break;case"name":H=y.lookup(A[1]);if(H!=null){C+=a.escape(H)}break;case"text":C+=A[1];break}}return C};a.name="mustache.js";a.version="0.8.1";a.tags=["{{","}}"];var j=new p;a.clearCache=function(){return j.clearCache()};a.parse=function(z,y){return j.parse(z,y)};a.render=function(A,y,z){return j.render(A,y,z)};a.to_html=function(B,z,A,C){var y=a.render(B,z,A);if(b(C)){C(y)}else{return y}};a.escape=n;a.Scanner=u;a.Context=q;a.Writer=p});
/*! Underscore | jquery.org/license */
(function(){function af(b,n,m){if(b===n){return 0!==b||1/b==1/n}if(null==b||null==n){return b===n}b._chain&&(b=b._wrapped);n._chain&&(n=n._wrapped);if(b.isEqual&&ar.isFunction(b.isEqual)){return b.isEqual(n)}if(n.isEqual&&ar.isFunction(n.isEqual)){return n.isEqual(b)}var l=an.call(b);if(l!=an.call(n)){return !1}switch(l){case"[object String]":return b==""+n;case"[object Number]":return b!=+b?n!=+n:0==b?1/b==1/n:b==+n;case"[object Date]":case"[object Boolean]":return +b==+n;case"[object RegExp]":return b.source==n.source&&b.global==n.global&&b.multiline==n.multiline&&b.ignoreCase==n.ignoreCase}if("object"!=typeof b||"object"!=typeof n){return !1}for(var k=m.length;k--;){if(m[k]==b){return !0}}m.push(b);var k=0,j=!0;if("[object Array]"==l){if(k=b.length,j=k==n.length){for(;k--&&(j=k in b==k in n&&af(b[k],n[k],m));){}}}else{if("constructor" in b!="constructor" in n||b.constructor!=n.constructor){return !1}for(var i in b){if(ar.has(b,i)&&(k++,!(j=ar.has(n,i)&&af(b[i],n[i],m)))){break}}if(j){for(i in n){if(ar.has(n,i)&&!k--){break}}j=!k}}m.pop();return j}var ac=this,T=ac._,ak={},ao=Array.prototype,aj=Object.prototype,aq=ao.slice,Q=ao.unshift,an=aj.toString,g=aj.hasOwnProperty,R=ao.forEach,h=ao.map,ai=ao.reduce,ah=ao.reduceRight,ae=ao.filter,ad=ao.every,ab=ao.some,ag=ao.indexOf,Z=ao.lastIndexOf,aj=Array.isArray,f=Object.keys,aa=Function.prototype.bind,ar=function(b){return new am(b)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=ar),exports._=ar):ac._=ar;ar.VERSION="1.3.3";var ap=ar.each=ar.forEach=function(b,l,k){if(b!=null){if(R&&b.forEach===R){b.forEach(l,k)}else{if(b.length===+b.length){for(var j=0,i=b.length;j<i;j++){if(j in b&&l.call(k,b[j],j,b)===ak){break}}}else{for(j in b){if(ar.has(b,j)&&l.call(k,b[j],j,b)===ak){break}}}}}};ar.map=ar.collect=function(j,l,i){var k=[];if(j==null){return k}if(h&&j.map===h){return j.map(l,i)}ap(j,function(b,n,m){k[k.length]=l.call(i,b,n,m)});if(j.length===+j.length){k.length=j.length}return k};ar.reduce=ar.foldl=ar.inject=function(b,l,k,j){var i=arguments.length>2;b==null&&(b=[]);if(ai&&b.reduce===ai){j&&(l=ar.bind(l,j));return i?b.reduce(l,k):b.reduce(l)}ap(b,function(n,m,o){if(i){k=l.call(j,k,n,m,o)}else{k=n;i=true}});if(!i){throw new TypeError("Reduce of empty array with no initial value")}return k};ar.reduceRight=ar.foldr=function(b,m,l,k){var j=arguments.length>2;b==null&&(b=[]);if(ah&&b.reduceRight===ah){k&&(m=ar.bind(m,k));return j?b.reduceRight(m,l):b.reduceRight(m)}var i=ar.toArray(b).reverse();k&&!j&&(m=ar.bind(m,k));return j?ar.reduce(i,m,l,k):ar.reduce(i,m)};ar.find=ar.detect=function(j,l,i){var k;X(j,function(b,n,m){if(l.call(i,b,n,m)){k=b;return true}});return k};ar.filter=ar.select=function(j,l,i){var k=[];if(j==null){return k}if(ae&&j.filter===ae){return j.filter(l,i)}ap(j,function(b,n,m){l.call(i,b,n,m)&&(k[k.length]=b)});return k};ar.reject=function(j,l,i){var k=[];if(j==null){return k}ap(j,function(b,n,m){l.call(i,b,n,m)||(k[k.length]=b)});return k};ar.every=ar.all=function(j,l,i){var k=true;if(j==null){return k}if(ad&&j.every===ad){return j.every(l,i)}ap(j,function(b,n,m){if(!(k=k&&l.call(i,b,n,m))){return ak}});return !!k};var X=ar.some=ar.any=function(b,k,j){k||(k=ar.identity);var i=false;if(b==null){return i}if(ab&&b.some===ab){return b.some(k,j)}ap(b,function(m,l,n){if(i||(i=k.call(j,m,l,n))){return ak}});return !!i};ar.include=ar.contains=function(j,k){var i=false;if(j==null){return i}if(ag&&j.indexOf===ag){return j.indexOf(k)!=-1}return i=X(j,function(b){return b===k})};ar.invoke=function(b,j){var i=aq.call(arguments,2);return ar.map(b,function(k){return(ar.isFunction(j)?j||k:k[j]).apply(k,i)})};ar.pluck=function(b,i){return ar.map(b,function(j){return j[i]})};ar.max=function(b,k,j){if(!k&&ar.isArray(b)&&b[0]===+b[0]){return Math.max.apply(Math,b)}if(!k&&ar.isEmpty(b)){return -Infinity}var i={computed:-Infinity};ap(b,function(m,l,n){l=k?k.call(j,m,l,n):m;l>=i.computed&&(i={value:m,computed:l})});return i.value};ar.min=function(b,k,j){if(!k&&ar.isArray(b)&&b[0]===+b[0]){return Math.min.apply(Math,b)}if(!k&&ar.isEmpty(b)){return Infinity}var i={computed:Infinity};ap(b,function(m,l,n){l=k?k.call(j,m,l,n):m;l<i.computed&&(i={value:m,computed:l})});return i.value};ar.shuffle=function(j){var i=[],k;ap(j,function(b,l){k=Math.floor(Math.random()*(l+1));i[l]=i[k];i[k]=b});return i};ar.sortBy=function(b,k,j){var i=ar.isFunction(k)?k:function(l){return l[k]};return ar.pluck(ar.map(b,function(m,l,n){return{value:m,criteria:i.call(j,m,l,n)}}).sort(function(m,l){var o=m.criteria,n=l.criteria;return o===void 0?1:n===void 0?-1:o<n?-1:o>n?1:0}),"value")};ar.groupBy=function(b,k){var j={},i=ar.isFunction(k)?k:function(l){return l[k]};ap(b,function(m,l){var n=i(m,l);(j[n]||(j[n]=[])).push(m)});return j};ar.sortedIndex=function(b,m,l){l||(l=ar.identity);for(var k=0,j=b.length;k<j;){var i=k+j>>1;l(b[i])<l(m)?k=i+1:j=i}return k};ar.toArray=function(b){return !b?[]:ar.isArray(b)||ar.isArguments(b)?aq.call(b):b.toArray&&ar.isFunction(b.toArray)?b.toArray():ar.values(b)};ar.size=function(b){return ar.isArray(b)?b.length:ar.keys(b).length};ar.first=ar.head=ar.take=function(j,i,k){return i!=null&&!k?aq.call(j,0,i):j[0]};ar.initial=function(j,i,k){return aq.call(j,0,j.length-(i==null||k?1:i))};ar.last=function(j,i,k){return i!=null&&!k?aq.call(j,Math.max(j.length-i,0)):j[j.length-1]};ar.rest=ar.tail=function(j,i,k){return aq.call(j,i==null||k?1:i)};ar.compact=function(b){return ar.filter(b,function(i){return !!i})};ar.flatten=function(b,i){return ar.reduce(b,function(j,k){if(ar.isArray(k)){return j.concat(i?k:ar.flatten(k))}j[j.length]=k;return j},[])};ar.without=function(b){return ar.difference(b,aq.call(arguments,1))};ar.uniq=ar.unique=function(b,k,j){var j=j?ar.map(b,j):b,i=[];b.length<3&&(k=true);ar.reduce(j,function(n,m,l){if(k?ar.last(n)!==m||!n.length:!ar.include(n,m)){n.push(m);i.push(b[l])}return n},[]);return i};ar.union=function(){return ar.uniq(ar.flatten(arguments,true))};ar.intersection=ar.intersect=function(b){var i=aq.call(arguments,1);return ar.filter(ar.uniq(b),function(j){return ar.every(i,function(k){return ar.indexOf(k,j)>=0})})};ar.difference=function(b){var i=ar.flatten(aq.call(arguments,1),true);return ar.filter(b,function(j){return !ar.include(i,j)})};ar.zip=function(){for(var b=aq.call(arguments),k=ar.max(ar.pluck(b,"length")),j=Array(k),i=0;i<k;i++){j[i]=ar.pluck(b,""+i)}return j};ar.indexOf=function(b,k,j){if(b==null){return -1}var i;if(j){j=ar.sortedIndex(b,k);return b[j]===k?j:-1}if(ag&&b.indexOf===ag){return b.indexOf(k)}j=0;for(i=b.length;j<i;j++){if(j in b&&b[j]===k){return j}}return -1};ar.lastIndexOf=function(j,i){if(j==null){return -1}if(Z&&j.lastIndexOf===Z){return j.lastIndexOf(i)}for(var k=j.length;k--;){if(k in j&&j[k]===i){return k}}return -1};ar.range=function(j,i,n){if(arguments.length<=1){i=j||0;j=0}for(var n=arguments[2]||1,m=Math.max(Math.ceil((i-j)/n),0),l=0,k=Array(m);l<m;){k[l++]=j;j=j+n}return k};var V=function(){};ar.bind=function(b,k){var j,i;if(b.bind===aa&&aa){return aa.apply(b,aq.call(arguments,1))}if(!ar.isFunction(b)){throw new TypeError}i=aq.call(arguments,2);return j=function(){if(!(this instanceof j)){return b.apply(k,i.concat(aq.call(arguments)))}V.prototype=b.prototype;var l=new V,m=b.apply(l,i.concat(aq.call(arguments)));return Object(m)===m?m:l}};ar.bindAll=function(b){var i=aq.call(arguments,1);i.length==0&&(i=ar.functions(b));ap(i,function(j){b[j]=ar.bind(b[j],b)});return b};ar.memoize=function(b,j){var i={};j||(j=ar.identity);return function(){var k=j.apply(this,arguments);return ar.has(i,k)?i[k]:i[k]=b.apply(this,arguments)}};ar.delay=function(j,i){var k=aq.call(arguments,2);return setTimeout(function(){return j.apply(null,k)},i)};ar.defer=function(b){return ar.delay.apply(ar,[b,1].concat(aq.call(arguments,1)))};ar.throttle=function(r,q){var p,o,n,m,l,k,b=ar.debounce(function(){l=m=false},q);return function(){p=this;o=arguments;n||(n=setTimeout(function(){n=null;l&&r.apply(p,o);b()},q));m?l=true:k=r.apply(p,o);b();m=true;return k}};ar.debounce=function(j,i,l){var k;return function(){var m=this,b=arguments;l&&!k&&j.apply(m,b);clearTimeout(k);k=setTimeout(function(){k=null;l||j.apply(m,b)},i)}};ar.once=function(j){var i=false,k;return function(){if(i){return k}i=true;return k=j.apply(this,arguments)}};ar.wrap=function(j,i){return function(){var b=[j].concat(aq.call(arguments,0));return i.apply(this,b)}};ar.compose=function(){var b=arguments;return function(){for(var i=arguments,j=b.length-1;j>=0;j--){i=[b[j].apply(this,i)]}return i[0]}};ar.after=function(j,i){return j<=0?i():function(){if(--j<1){return i.apply(this,arguments)}}};ar.keys=f||function(b){if(b!==Object(b)){throw new TypeError("Invalid object")}var j=[],i;for(i in b){ar.has(b,i)&&(j[j.length]=i)}return j};ar.values=function(b){return ar.map(b,ar.identity)};ar.functions=ar.methods=function(b){var j=[],i;for(i in b){ar.isFunction(b[i])&&j.push(i)}return j.sort()};ar.extend=function(b){ap(aq.call(arguments,1),function(i){for(var j in i){b[j]=i[j]}});return b};ar.pick=function(b){var i={};ap(ar.flatten(aq.call(arguments,1)),function(j){j in b&&(i[j]=b[j])});return i};ar.defaults=function(b){ap(aq.call(arguments,1),function(i){for(var j in i){b[j]==null&&(b[j]=i[j])}});return b};ar.clone=function(b){return !ar.isObject(b)?b:ar.isArray(b)?b.slice():ar.extend({},b)};ar.tap=function(j,i){i(j);return j};ar.isEqual=function(j,i){return af(j,i,[])};ar.isEmpty=function(b){if(b==null){return true}if(ar.isArray(b)||ar.isString(b)){return b.length===0}for(var i in b){if(ar.has(b,i)){return false}}return true};ar.isElement=function(b){return !!(b&&b.nodeType==1)};ar.isArray=aj||function(b){return an.call(b)=="[object Array]"};ar.isObject=function(b){return b===Object(b)};ar.isArguments=function(b){return an.call(b)=="[object Arguments]"};ar.isArguments(arguments)||(ar.isArguments=function(b){return !(!b||!ar.has(b,"callee"))});ar.isFunction=function(b){return an.call(b)=="[object Function]"};ar.isString=function(b){return an.call(b)=="[object String]"};ar.isNumber=function(b){return an.call(b)=="[object Number]"};ar.isFinite=function(b){return ar.isNumber(b)&&isFinite(b)};ar.isNaN=function(b){return b!==b};ar.isBoolean=function(b){return b===true||b===false||an.call(b)=="[object Boolean]"};ar.isDate=function(b){return an.call(b)=="[object Date]"};ar.isRegExp=function(b){return an.call(b)=="[object RegExp]"};ar.isNull=function(b){return b===null};ar.isUndefined=function(b){return b===void 0};ar.has=function(j,i){return g.call(j,i)};ar.noConflict=function(){ac._=T;return this};ar.identity=function(b){return b};ar.times=function(j,i,l){for(var k=0;k<j;k++){i.call(l,k)}};ar.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};ar.result=function(b,j){if(b==null){return null}var i=b[j];return ar.isFunction(i)?i.call(b):i};ar.mixin=function(b){ap(ar.functions(b),function(i){e(i,ar[i]=b[i])})};var d=0;ar.uniqueId=function(j){var i=d++;return j?j+i:i};ar.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Y=/.^/,al={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"},W;for(W in al){al[al[W]]=W}var c=/\\|'|\r|\n|\t|\u2028|\u2029/g,a=/\\(\\|'|r|n|t|u2028|u2029)/g,U=function(b){return b.replace(a,function(j,i){return al[i]})};ar.template=function(b,k,j){j=ar.defaults(j||{},ar.templateSettings);b="__p+='"+b.replace(c,function(l){return"\\"+al[l]}).replace(j.escape||Y,function(m,l){return"'+\n_.escape("+U(l)+")+\n'"}).replace(j.interpolate||Y,function(m,l){return"'+\n("+U(l)+")+\n'"}).replace(j.evaluate||Y,function(m,l){return"';\n"+U(l)+"\n;__p+='"})+"';\n";j.variable||(b="with(obj||{}){\n"+b+"}\n");var b="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+b+"return __p;\n",i=new Function(j.variable||"obj","_",b);if(k){return i(k,ar)}k=function(l){return i.call(this,l,ar)};k.source="function("+(j.variable||"obj")+"){\n"+b+"}";return k};ar.chain=function(b){return ar(b).chain()};var am=function(b){this._wrapped=b};ar.prototype=am.prototype;var S=function(b,i){return i?ar(b).chain():b},e=function(b,i){am.prototype[b]=function(){var j=aq.call(arguments);Q.call(j,this._wrapped);return S(i.apply(ar,j),this._chain)}};ar.mixin(ar);ap("pop,push,reverse,shift,sort,splice,unshift".split(","),function(j){var i=ao[j];am.prototype[j]=function(){var k=this._wrapped;i.apply(k,arguments);var b=k.length;(j=="shift"||j=="splice")&&b===0&&delete k[0];return S(k,this._chain)}});ap(["concat","join","slice"],function(j){var i=ao[j];am.prototype[j]=function(){return S(i.apply(this._wrapped,arguments),this._chain)}});am.prototype.chain=function(){this._chain=true;return this};am.prototype.value=function(){return this._wrapped}}).call(this);
/*! Backbone.js 0.9.2 */
(function(){var V=this,b=V.Backbone,a=Array.prototype.slice,Q=Array.prototype.splice,Y;Y="undefined"!==typeof exports?exports:V.Backbone={};Y.VERSION="0.9.2";var Z=V._;!Z&&"undefined"!==typeof require&&(Z=require("underscore"));var X=V.jQuery||V.Zepto||V.ender;Y.setDomLibrary=function(f){X=f};Y.noConflict=function(){V.Backbone=b;return this};Y.emulateHTTP=!1;Y.emulateJSON=!1;var R=/\s+/,W=Y.Events={on:function(k,i,r){var p,o,n,m,l;if(!i){return this}k=k.split(R);for(p=this._callbacks||(this._callbacks={});o=k.shift();){n=(l=p[o])?l.tail:{},n.next=m={},n.context=r,n.callback=i,p[o]={tail:m,next:l?l.next:n}}return this},off:function(r,p,o){var n,m,k,l,i,f;if(m=this._callbacks){if(!r&&!p&&!o){return delete this._callbacks,this}for(r=r?r.split(R):Z.keys(m);n=r.shift();){if(k=m[n],delete m[n],k&&(p||o)){for(l=k.tail;(k=k.next)!==l;){if(i=k.callback,f=k.context,p&&i!==p||o&&f!==o){this.on(n,i,f)}}}}return this}},trigger:function(k){var i,p,o,n,m,l;if(!(o=this._callbacks)){return this}m=o.all;k=k.split(R);for(l=a.call(arguments,1);i=k.shift();){if(p=o[i]){for(n=p.tail;(p=p.next)!==n;){p.callback.apply(p.context||this,l)}}if(p=m){n=p.tail;for(i=[i].concat(l);(p=p.next)!==n;){p.callback.apply(p.context||this,i)}}}return this}};W.bind=W.on;W.unbind=W.off;var S=Y.Model=function(g,f){var i;g||(g={});f&&f.parse&&(g=this.parse(g));if(i=T(this,"defaults")){g=Z.extend({},i,g)}f&&f.collection&&(this.collection=f.collection);this.attributes={};this._escapedAttributes={};this.cid=Z.uniqueId("c");this.changed={};this._silent={};this._pending={};this.set(g,{silent:!0});this.changed={};this._silent={};this._pending={};this._previousAttributes=Z.clone(this.attributes);this.initialize.apply(this,arguments)};Z.extend(S.prototype,W,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return Z.clone(this.attributes)},get:function(f){return this.attributes[f]},escape:function(g){var f;if(f=this._escapedAttributes[g]){return f}f=this.get(g);return this._escapedAttributes[g]=Z.escape(null==f?"":""+f)},has:function(f){return null!=this.get(f)},set:function(i,f,p){var o,n;Z.isObject(i)||null==i?(o=i,p=f):(o={},o[i]=f);p||(p={});if(!o){return this}o instanceof S&&(o=o.attributes);if(p.unset){for(n in o){o[n]=void 0}}if(!this._validate(o,p)){return !1}this.idAttribute in o&&(this.id=o[this.idAttribute]);var f=p.changes={},l=this.attributes,m=this._escapedAttributes,k=this._previousAttributes||{};for(n in o){i=o[n];if(!Z.isEqual(l[n],i)||p.unset&&Z.has(l,n)){delete m[n],(p.silent?this._silent:f)[n]=!0}p.unset?delete l[n]:l[n]=i;!Z.isEqual(k[n],i)||Z.has(l,n)!=Z.has(k,n)?(this.changed[n]=i,p.silent||(this._pending[n]=!0)):(delete this.changed[n],delete this._pending[n])}p.silent||this.change(p);return this},unset:function(g,f){(f||(f={})).unset=!0;return this.set(g,null,f)},clear:function(f){(f||(f={})).unset=!0;return this.set(Z.clone(this.attributes),f)},fetch:function(g){var g=g?Z.clone(g):{},f=this,i=g.success;g.success=function(m,l,k){if(!f.set(f.parse(m,k),g)){return !1}i&&i(f,m)};g.error=Y.wrapError(g.error,f,g);return(this.sync||Y.sync).call(this,"read",this,g)},save:function(g,f,o){var n,m;Z.isObject(g)||null==g?(n=g,o=f):(n={},n[g]=f);o=o?Z.clone(o):{};if(o.wait){if(!this._validate(n,o)){return !1}m=Z.clone(this.attributes)}g=Z.extend({},o,{silent:!0});if(n&&!this.set(n,o.wait?g:o)){return !1}var l=this,k=o.success;o.success=function(p,i,r){i=l.parse(p,r);if(o.wait){delete o.wait;i=Z.extend(n||{},i)}if(!l.set(i,o)){return false}k?k(l,p):l.trigger("sync",l,p,o)};o.error=Y.wrapError(o.error,l,o);f=this.isNew()?"create":"update";f=(this.sync||Y.sync).call(this,f,this,o);o.wait&&this.set(m,g);return f},destroy:function(g){var g=g?Z.clone(g):{},f=this,l=g.success,k=function(){f.trigger("destroy",f,f.collection,g)};if(this.isNew()){return k(),!1}g.success=function(m){g.wait&&k();l?l(f,m):f.trigger("sync",f,m,g)};g.error=Y.wrapError(g.error,f,g);var i=(this.sync||Y.sync).call(this,"delete",this,g);g.wait||k();return i},url:function(){var f=T(this,"urlRoot")||T(this.collection,"url")||J();return this.isNew()?f:f+("/"==f.charAt(f.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(f){return f},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(g){g||(g={});var f=this._changing;this._changing=!0;for(var k in this._silent){this._pending[k]=!0}var i=Z.extend({},g.changes,this._silent);this._silent={};for(k in i){this.trigger("change:"+k,this,this.get(k),g)}if(f){return this}for(;!Z.isEmpty(this._pending);){this._pending={};this.trigger("change",this,g);for(k in this.changed){!this._pending[k]&&!this._silent[k]&&delete this.changed[k]}this._previousAttributes=Z.clone(this.attributes)}this._changing=!1;return this},hasChanged:function(f){return !arguments.length?!Z.isEmpty(this.changed):Z.has(this.changed,f)},changedAttributes:function(g){if(!g){return this.hasChanged()?Z.clone(this.changed):!1}var f,l=!1,k=this._previousAttributes,i;for(i in g){if(!Z.isEqual(k[i],f=g[i])){(l||(l={}))[i]=f}}return l},previous:function(f){return !arguments.length||!this._previousAttributes?null:this._previousAttributes[f]},previousAttributes:function(){return Z.clone(this._previousAttributes)},isValid:function(){return !this.validate(this.attributes)},_validate:function(g,f){if(f.silent||!this.validate){return !0}var g=Z.extend({},this.attributes,g),i=this.validate(g,f);if(!i){return !0}f&&f.error?f.error(this,i,f):this.trigger("error",this,i,f);return !1}});var O=Y.Collection=function(g,f){f||(f={});f.model&&(this.model=f.model);f.comparator&&(this.comparator=f.comparator);this._reset();this.initialize.apply(this,arguments);g&&this.reset(g,{silent:!0,parse:f.parse})};Z.extend(O.prototype,W,{model:S,initialize:function(){},toJSON:function(f){return this.map(function(g){return g.toJSON(f)})},add:function(v,u){var t,s,r,p,o,n={},m={},f=[];u||(u={});v=Z.isArray(v)?v.slice():[v];t=0;for(s=v.length;t<s;t++){if(!(r=v[t]=this._prepareModel(v[t],u))){throw Error("Can't add an invalid model to a collection")}p=r.cid;o=r.id;n[p]||this._byCid[p]||null!=o&&(m[o]||this._byId[o])?f.push(t):n[p]=m[o]=r}for(t=f.length;t--;){v.splice(f[t],1)}t=0;for(s=v.length;t<s;t++){(r=v[t]).on("all",this._onModelEvent,this),this._byCid[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)}this.length+=s;Q.apply(this.models,[null!=u.at?u.at:this.models.length,0].concat(v));this.comparator&&this.sort({silent:!0});if(u.silent){return this}t=0;for(s=this.models.length;t<s;t++){if(n[(r=this.models[t]).cid]){u.index=t,r.trigger("add",r,this,u)}}return this},remove:function(i,f){var n,m,l,k;f||(f={});i=Z.isArray(i)?i.slice():[i];n=0;for(m=i.length;n<m;n++){if(k=this.getByCid(i[n])||this.get(i[n])){delete this._byId[k.id],delete this._byCid[k.cid],l=this.indexOf(k),this.models.splice(l,1),this.length--,f.silent||(f.index=l,k.trigger("remove",k,this,f)),this._removeReference(k)}}return this},push:function(g,f){g=this._prepareModel(g,f);this.add(g,f);return g},pop:function(g){var f=this.at(this.length-1);this.remove(f,g);return f},unshift:function(g,f){g=this._prepareModel(g,f);this.add(g,Z.extend({at:0},f));return g},shift:function(g){var f=this.at(0);this.remove(f,g);return f},get:function(f){return null==f?void 0:this._byId[null!=f.id?f.id:f]},getByCid:function(f){return f&&this._byCid[f.cid||f]},at:function(f){return this.models[f]},where:function(f){return Z.isEmpty(f)?[]:this.filter(function(g){for(var i in f){if(f[i]!==g.get(i)){return !1}}return !0})},sort:function(g){g||(g={});if(!this.comparator){throw Error("Cannot sort a set without a comparator")}var f=Z.bind(this.comparator,this);1==this.comparator.length?this.models=this.sortBy(f):this.models.sort(f);g.silent||this.trigger("reset",this,g);return this},pluck:function(f){return Z.map(this.models,function(g){return g.get(f)})},reset:function(g,f){g||(g=[]);f||(f={});for(var k=0,i=this.models.length;k<i;k++){this._removeReference(this.models[k])}this._reset();this.add(g,Z.extend({silent:!0},f));f.silent||this.trigger("reset",this,f);return this},fetch:function(g){g=g?Z.clone(g):{};void 0===g.parse&&(g.parse=!0);var f=this,i=g.success;g.success=function(m,l,k){f[g.add?"add":"reset"](f.parse(m,k),g);i&&i(f,m)};g.error=Y.wrapError(g.error,f,g);return(this.sync||Y.sync).call(this,"read",this,g)},create:function(g,f){var k=this,f=f?Z.clone(f):{},g=this._prepareModel(g,f);if(!g){return !1}f.wait||k.add(g,f);var i=f.success;f.success=function(m,l){f.wait&&k.add(m,f);i?i(m,l):m.trigger("sync",g,l,f)};g.save(null,f);return g},parse:function(f){return f},chain:function(){return Z(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(g,f){f||(f={});g instanceof S?g.collection||(g.collection=this):(f.collection=this,g=new this.model(g,f),g._validate(g.attributes,f)||(g=!1));return g},_removeReference:function(f){this==f.collection&&delete f.collection;f.off("all",this._onModelEvent,this)},_onModelEvent:function(g,f,k,i){("add"==g||"remove"==g)&&k!=this||("destroy"==g&&this.remove(f,i),f&&g==="change:"+f.idAttribute&&(delete this._byId[f.previous(f.idAttribute)],this._byId[f.id]=f),this.trigger.apply(this,arguments))}});Z.each("forEach,each,map,reduce,reduceRight,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortBy,sortedIndex,toArray,size,first,initial,rest,last,without,indexOf,shuffle,lastIndexOf,isEmpty,groupBy".split(","),function(f){O.prototype[f]=function(){return Z[f].apply(Z,[this.models].concat(Z.toArray(arguments)))}});var I=Y.Router=function(f){f||(f={});f.routes&&(this.routes=f.routes);this._bindRoutes();this.initialize.apply(this,arguments)},P=/:\w+/g,N=/\*\w+/g,M=/[-[\]{}()+?.,\\^$|#\s]/g;Z.extend(I.prototype,W,{initialize:function(){},route:function(g,f,i){Y.history||(Y.history=new U);Z.isRegExp(g)||(g=this._routeToRegExp(g));i||(i=this[f]);Y.history.route(g,Z.bind(function(k){k=this._extractParameters(g,k);i&&i.apply(this,k);this.trigger.apply(this,["route:"+f].concat(k));Y.history.trigger("route",this,f,k)},this));return this},navigate:function(g,f){Y.history.navigate(g,f)},_bindRoutes:function(){if(this.routes){var g=[],f;for(f in this.routes){g.unshift([f,this.routes[f]])}f=0;for(var i=g.length;f<i;f++){this.route(g[f][0],g[f][1],this[g[f][1]])}}},_routeToRegExp:function(f){f=f.replace(M,"\\$&").replace(P,"([^/]+)").replace(N,"(.*?)");return RegExp("^"+f+"$")},_extractParameters:function(g,f){return g.exec(f).slice(1)}});var U=Y.History=function(){this.handlers=[];Z.bindAll(this,"checkUrl")},L=/^[#\/]/,K=/msie [\w.]+/;U.started=!1;Z.extend(U.prototype,W,{interval:50,getHash:function(f){return(f=(f?f.location:window.location).href.match(/#(.*)$/))?f[1]:""},getFragment:function(g,f){if(null==g){if(this._hasPushState||f){var g=window.location.pathname,i=window.location.search;i&&(g+=i)}else{g=this.getHash()}}g.indexOf(this.options.root)||(g=g.substr(this.options.root.length));return g.replace(L,"")},start:function(g){if(U.started){throw Error("Backbone.history has already been started")}U.started=!0;this.options=Z.extend({},{root:"/"},this.options,g);this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);var g=this.getFragment(),f=document.documentMode;if(f=K.exec(navigator.userAgent.toLowerCase())&&(!f||7>=f)){this.iframe=X('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(g)}this._hasPushState?X(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange" in window&&!f?X(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=g;g=window.location;f=g.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!f){return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0}this._wantsPushState&&this._hasPushState&&f&&g.hash&&(this.fragment=this.getHash().replace(L,""),window.history.replaceState({},document.title,g.protocol+"//"+g.host+this.options.root+this.fragment));if(!this.options.silent){return this.loadUrl()}},stop:function(){X(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);U.started=!1},route:function(g,f){this.handlers.unshift({route:g,callback:f})},checkUrl:function(){var f=this.getFragment();f==this.fragment&&this.iframe&&(f=this.getFragment(this.getHash(this.iframe)));if(f==this.fragment){return !1}this.iframe&&this.navigate(f);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(g){var f=this.fragment=this.getFragment(g);return Z.any(this.handlers,function(i){if(i.route.test(f)){return i.callback(f),!0}})},navigate:function(g,f){if(!U.started){return !1}if(!f||!0===f){f={trigger:f}}var i=(g||"").replace(L,"");this.fragment!=i&&(this._hasPushState?(0!=i.indexOf(this.options.root)&&(i=this.options.root+i),this.fragment=i,window.history[f.replace?"replaceState":"pushState"]({},document.title,i)):this._wantsHashChange?(this.fragment=i,this._updateHash(window.location,i,f.replace),this.iframe&&i!=this.getFragment(this.getHash(this.iframe))&&(f.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,i,f.replace))):window.location.assign(this.options.root+g),f.trigger&&this.loadUrl(g))},_updateHash:function(g,f,i){i?g.replace(g.toString().replace(/(javascript:|#).*$/,"")+"#"+f):g.hash=f}});var j=Y.View=function(f){this.cid=Z.uniqueId("view");this._configure(f||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},q=/^(\S+)\s*(.*)$/,e="model,collection,el,id,attributes,className,tagName".split(",");Z.extend(j.prototype,W,{tagName:"div",$:function(f){return this.$el.find(f)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(g,f,i){g=document.createElement(g);f&&X(g).attr(f);i&&X(g).html(i);return g},setElement:function(g,f){this.$el&&this.undelegateEvents();this.$el=g instanceof X?g:X(g);this.el=this.$el[0];!1!==f&&this.delegateEvents();return this},delegateEvents:function(g){if(g||(g=T(this,"events"))){this.undelegateEvents();for(var f in g){var l=g[f];Z.isFunction(l)||(l=this[g[f]]);if(!l){throw Error('Method "'+g[f]+'" does not exist')}var k=f.match(q),i=k[1],k=k[2],l=Z.bind(l,this),i=i+(".delegateEvents"+this.cid);""===k?this.$el.bind(i,l):this.$el.delegate(k,i,l)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(g){this.options&&(g=Z.extend({},this.options,g));for(var f=0,k=e.length;f<k;f++){var i=e[f];g[i]&&(this[i]=g[i])}this.options=g},_ensureElement:function(){if(this.el){this.setElement(this.el,!1)}else{var f=T(this,"attributes")||{};this.id&&(f.id=this.id);this.className&&(f["class"]=this.className);this.setElement(this.make(this.tagName,f),!1)}}});S.extend=O.extend=I.extend=j.extend=function(g,f){var i=h(this,g,f);i.extend=this.extend;return i};var d={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};Y.sync=function(g,f,l){var k=d[g];l||(l={});var i={type:k,dataType:"json"};l.url||(i.url=T(f,"url")||J());if(!l.data&&f&&("create"==g||"update"==g)){i.contentType="application/json",i.data=JSON.stringify(f.toJSON())}Y.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(Y.emulateHTTP&&("PUT"===k||"DELETE"===k)){Y.emulateJSON&&(i.data._method=k),i.type="POST",i.beforeSend=function(m){m.setRequestHeader("X-HTTP-Method-Override",k)}}"GET"!==i.type&&!Y.emulateJSON&&(i.processData=!1);return X.ajax(Z.extend(i,l))};Y.wrapError=function(g,f,i){return function(l,k){k=l===f?k:l;g?g(f,k,i):f.trigger("error",f,k,i)}};var c=function(){},h=function(g,f,k){var i;i=f&&f.hasOwnProperty("constructor")?f.constructor:function(){g.apply(this,arguments)};Z.extend(i,g);c.prototype=g.prototype;i.prototype=new c;f&&Z.extend(i.prototype,f);k&&Z.extend(i,k);i.prototype.constructor=i;i.__super__=g.prototype;return i},T=function(g,f){return !g||!g[f]?null:Z.isFunction(g[f])?g[f]():g[f]},J=function(){throw Error('A "url" property or function must be specified')}}).call(this);(function(){Backbone.InfiniScroll=function(c,j){j=j||{};var i={},a,g,d,f,e=0;f=c.length||25;i.collection=c;i.options=_.defaults(j,{success:function(){},error:function(){},onFetch:function(){},target:$(window),param:"until",extraParams:{},pageSizeParam:"page_size",untilAttr:"id",pageSize:f,scrollOffset:100,add:true,strict:false,includePage:false});var b=function(){a=$(i.options.target);g=true;d=1;a.on("scroll",i.watchScroll)};i.destroy=function(){a.off("scroll",i.watchScroll)};i.enableFetch=function(){g=true};i.disableFetch=function(){g=false};i.onFetch=function(){i.options.onFetch()};i.fetchSuccess=function(l,k){if((i.options.strict&&l.length>=(d+1)*i.options.pageSize)||(!i.options.strict&&k.length>0)){i.enableFetch();d+=1}else{i.disableFetch()}i.options.success(l,k)};i.fetchError=function(l,k){i.enableFetch();i.options.error(l,k)};i.watchScroll=function(n){var l,m=a.scrollTop()+a.height(),k=a.get(0).scrollHeight;if(!k){k=$(document).height()}if(m>=k-i.options.scrollOffset&&g&&e<=m){var o=i.collection.last();if(!o){return}i.onFetch();i.disableFetch();i.collection.fetch({success:i.fetchSuccess,error:i.fetchError,add:i.options.add,data:$.extend(h(o),i.options.extraParams)})}e=m};i.fetchNext=function(k){var l=i.collection.last();if(!l){return}i.onFetch();i.disableFetch();i.collection.fetch({success:i.fetchSuccess,error:i.fetchError,add:i.options.add,data:$.extend(h(l),i.options.extraParams)})};function h(k){var l={};l[i.options.param]=typeof(k[i.options.untilAttr])==="function"?k[i.options.untilAttr]():k.get(i.options.untilAttr);l[i.options.pageSizeParam]=i.options.pageSize;if(i.options.includePage){l.page=d+1}return l}b();return i}})();