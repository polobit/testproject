<script id="campaign-logs-collection-template" type="text/html">
<div class="row">
    <div class="span12">
        <div class="page-header">
            <h3>Logs <!--<small>for <span id="logs-campaign-name"></span></small>--></h3>
            <a href="#" class="btn btn-danger right" id="delete_campaign_logs" style='top:-29px;position:relative;'>Delete All Logs</a>
			<div class="pull-right" style="top: -29px; position: relative; padding-right: 5px;">
				<div class="btn-group">
  				<button class="btn"><span id="log-filter-title">All</span></button>
  				<button class="btn dropdown-toggle" data-toggle="dropdown">
    				<span class="caret"></span>
  				</button>
  				<ul class="dropdown-menu">
                    <li><a href="#" data-log-type="ALL" data-campaign-id="{{get_id_from_hash}}" class="log-filters">All</a></li> 
    				<li><a href="#" data-log-type="EMAIL_SENT" data-campaign-id="{{get_id_from_hash}}" class="log-filters">Sent</a></li>
					<li><a href="#" data-log-type="EMAIL_OPENED" data-campaign-id="{{get_id_from_hash}}" class="log-filters">Opened</a></li>
					<li><a href="#" data-log-type="EMAIL_CLICKED" data-campaign-id="{{get_id_from_hash}}" class="log-filters">Clicked</a></li>
					<li><a href="#" data-log-type="UNSUBSCRIBED" data-campaign-id="{{get_id_from_hash}}" class="log-filters">Unsubscribed</a></li>
                    <li><a href="#" data-log-type="EMAIL_HARD_BOUNCED" data-campaign-id="{{get_id_from_hash}}" class="log-filters">Hard Bounced</a></li>
					<li><a href="#" data-log-type="EMAIL_SOFT_BOUNCED" data-campaign-id="{{get_id_from_hash}}" class="log-filters">Soft Bounced</a></li>
                    <li><a href="#" data-log-type="EMAIL_SPAM" data-campaign-id="{{get_id_from_hash}}" class="log-filters">Spam Reported</a></li>
  				</ul>
			</div>
        </div>
        </div>
    </div>
</div>
<div class="row">
	<div class="span12">
    {{#unless this.length}}
	<div id="logs-slate"></div>
    {{/unless}}

    {{#if this.length}}
    <div class="data">
        <div class="data-container">
            <table class="table table-striped onlySorting" id="logs-table" url="core/api/campaigns/logs/bulk">
                <thead>
                    <tr>
                        <th></th>
                        <th>Contact</th>
                        <th>Log Type</th>
                        <th>Message</th>
                        <th>Time</th>                    
                    </tr>
                </thead>
                <tbody id="campaign-logs-model-list" route="contact/">
                </tbody>
            </table>
        </div>
    </div>
    {{/if}}
</div>
</div>
</script>

<script id="campaign-logs-model-template" type="text/html">
<input name="id" class="campaign" type="hidden" value="{{campaign_id}}" />
<td></td>
<td class="data" data={{subscriber_id}} style="white-space:nowrap;">
	<div style="display:inline;padding-right:10px;height:auto;">
    	<img class="thumbnail img-inital" data-name="{{dataNameAvatar properties}}" src="{{gravatarurl contact.properties 40}}" width="40px" height="40px" style="display:inline; width:40px; height:40px; " />
    </div>
 	<div style="height:auto;display:inline-block;vertical-align:top;text-overflow:ellipsis;width:14em;overflow:hidden;">
    	<b>	{{contact_name contact.properties contact.type}} </b>
        <br />
        	{{getPropertyValue contact.properties "email"}}
    </div>
</td>
<td style="width:10em;">{{titleFromEnums log_type}}</td>
<td class="ellipsis-multi-line" id="autoellipsis" style="width:15em; height:70px;">{{#if_email_sent this "log_type"}} Subject: {{Subject}} {{else}} {{{message}}} {{/if_email_sent}}</td>
<td><small class="edit-hover"> 
		<time class="log-created-time" datetime="{{epochToHumanDate "" time}}" style="border-bottom:dotted 1px #999">{{epochToHumanDate "ddd mmm dd yyyy HH:MM:ss" time}}</time>
	</small></td>
<br/>
</script>