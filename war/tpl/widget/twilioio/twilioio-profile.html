<script id="twilioio-profile-template" type="text/html">
<div class="widget_content">
		<div class="row-fluid">
			{{#if_equals to.length "1"}}<div><input type="hidden" id="twilioio_contact_number" value="{{to.0.value}}"/>Call {{getCurrentContactProperty "first_name"}} {{getCurrentContactProperty "last_name"}} on {{to.0.value}}</div>
			{{else}}
			<div class="span2" valign="middle" style="padding:4px"><h4>To&nbsp;:</h4></div>
			<div class="span10">
				<select name="number" id="twilioio_contact_number" class="required span10" style="width:100%" >
					{{#each to}}
						<option value="{{value}}">{{value}} 
							{{#if subtype}}({{subtype}}){{/if}}
						</option>
					{{/each}}
				</select>
			</div>
			{{/if_equals}}
		</div>
		<div class="row-fluid">
			<a href="#call" class="btn pull-right" id="twilioio_call" style="display:none;"><i class="icon-phone"></i>Call</a>			
			<a href="#note" class="right contact-add-note" id="twilioio_note" style="margin: 5px;">Add Note</a>
		</div>
 	</div>	
</script>

<script id="twilioio-login-template" type="text/html">
<div display:inline;  line-height:12px;word-wrap: break-word;">
	<form class="widget_content" style="border-bottom:none;" id="twilioio_login_form" name="twilioio_login_form" method="post">
    	<fieldset>
              <input type="hidden" id="twilio_number_sid" value="" name="twilio_number_sid"></input>
		      <p style='line-height:140%;'>
                   Make and receive calls from your contacts using your Twilio account.
              </p>
			  <p>
				<label><b>Enter your Twilio details </b>
                       <span style="vertical-align:text-top;margin-left:-3px">         
       				      <img border="0" src="/img/help.png" style="height: 8px;vertical-align:top;margin: 2px;" rel="popover" data-placement="right" data-content="Log into your Twilio Account. On the Dashboard, there you will find your Account SID and Auth Token. Copy those values and paste them into the Account SID and Auth Token fields." id="element-title" data-trigger="hover" data-original-title="How to get this?">
        			   </span>
                </label>                
				<div class="control-group">
                     <div class="controls">
                         <input type="text" id="twilio_acc_sid" class="input-medium required widget_input_box" style="width:90%" title="Account SID starts with AC and length should be 34." value="" name="twilio_acc_sid" placeholder="Account SID"  minlength= "34" maxlength= "34" required></input>
                     </div>
                </div>
                <div class="control-group">
                     <div class="controls">
                          <input type="text" id="twilio_auth_token" class="input-medium required widget_input_box" style="width:90%" title="Auth Token length should be 32." value="" name="twilio_auth_token" placeholder="Auth Token"  minlength= "32" maxlength= "32" required></input>
                     </div>
                </div>            

                <div class="control-group" id="twilio_numbers" style="display:none;">
				    <label class="control-label">Twilio Numbers
                          <span style="vertical-align:text-top;margin-left:-3px">         
       				        <img border="0" src="/img/help.png" style="height: 8px;vertical-align:top;margin: 2px;" rel="popover" data-placement="right" data-content="To receive incoming calls in Agile, you need to select a Twilio number. A Twilio number is one that you have purchased through Twilio. This number will also be the caller ID for outgoing calls  (unless you select a different caller ID from the option below)." id="element-title" data-trigger="hover" data-original-title="What is this?">
        			      </span>
                    </label>
				    <div class="controls" id="contactTypeAhead">
			          <select name="twilio_number" id="twilio_number" style="width:94%">	</select>
  			        </div> 
			    </div>     

                <div class="control-group" id="twilio_from_numbers" style="display:none;">
				    <label class="control-label">Verified Caller IDs
                         <span style="vertical-align:text-top;margin-left:-3px">         
       				        <img border="0" src="/img/help.png" style="height: 8px;vertical-align:top;margin: 2px;" rel="popover" data-placement="right" data-content="A verified phone number is one that you can use as your Caller ID when making outbound calls with Twilio. Agile will use this number as the Caller ID. Incoming calls on this number will NOT come to Agile." id="element-title" data-trigger="hover" data-original-title="What is this?">
        			     </span>
                    </label>
				    <div class="controls" id="contactTypeAhead">
			          <select name="twilio_from_number" id="twilio_from_number" style="width:94%">	</select>
  			        </div> 
			    </div>                           
              </p>
                 
              <span id="error-number-not-selected" class="help-inline" style="color: #df382c;display:none;">Please select either Twilio number or Verified Caller ID.</span>
              <span id="note-number-not-available" class="help-inline" style="color: #df382c;display:none;"></span>
              <a href="#" id="validate_account" class="btn btn-primary" style="text-decoration:none;">Validate</a>
			  <a href="#" id="save_prefs" class="btn btn-primary" style="text-decoration:none;display:none;">Save</a>
			  <a href="#add-widget" class="btn ml_5" style="text-decoration:none;">Cancel</a>              
		 </fieldset>
    </form>
</div>
</script>